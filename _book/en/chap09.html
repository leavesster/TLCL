
<!DOCTYPE HTML>
<html lang="en" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>09. 键盘高级操作技巧 · GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.2">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="chap10.html" />
    
    
    <link rel="prev" href="chap08.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                    Introduction
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.1" data-path="chap01.html">
            
                <a href="chap01.html">
            
                    
                    01. 引言
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.2" data-path="chap02.html">
            
                <a href="chap02.html">
            
                    
                    02. 什么是 shell
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.3" data-path="chap03.html">
            
                <a href="chap03.html">
            
                    
                    03. 文件系统中跳转
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.4" data-path="chap04.html">
            
                <a href="chap04.html">
            
                    
                    04. 探究操作系统
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.5" data-path="chap05.html">
            
                <a href="chap05.html">
            
                    
                    05. 操作文件和目录
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.6" data-path="chap06.html">
            
                <a href="chap06.html">
            
                    
                    06. 使用命令
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.7" data-path="chap07.html">
            
                <a href="chap07.html">
            
                    
                    07. 重定向
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.8" data-path="chap08.html">
            
                <a href="chap08.html">
            
                    
                    08. 从 shell 眼中看世界
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.1.9" data-path="chap09.html">
            
                <a href="chap09.html">
            
                    
                    09. 键盘高级操作技巧
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.10" data-path="chap10.html">
            
                <a href="chap10.html">
            
                    
                    10. 权限
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.11" data-path="chap11.html">
            
                <a href="chap11.html">
            
                    
                    11. 进程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.12" data-path="chap12.html">
            
                <a href="chap12.html">
            
                    
                    12. shell 环境
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.13" data-path="chap13.html">
            
                <a href="chap13.html">
            
                    
                    13. vi 简介
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.14" data-path="chap14.html">
            
                <a href="chap14.html">
            
                    
                    14. 自定制 shell 提示符
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.15" data-path="chap15.html">
            
                <a href="chap15.html">
            
                    
                    15. 软件包管理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.16" data-path="chap16.html">
            
                <a href="chap16.html">
            
                    
                    16. 存储媒介
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.17" data-path="chap17.html">
            
                <a href="chap17.html">
            
                    
                    17. 网络系统
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.18" data-path="chap18.html">
            
                <a href="chap18.html">
            
                    
                    18. 查找文件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.19" data-path="chap19.html">
            
                <a href="chap19.html">
            
                    
                    19. 归档和备份
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.20" data-path="chap20.html">
            
                <a href="chap20.html">
            
                    
                    20. 正则表达式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.21" data-path="chap21.html">
            
                <a href="chap21.html">
            
                    
                    21. 文本处理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.22" data-path="chap22.html">
            
                <a href="chap22.html">
            
                    
                    22. 格式化输出
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.23" data-path="chap23.html">
            
                <a href="chap23.html">
            
                    
                    23. 打印
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.24" data-path="chap24.html">
            
                <a href="chap24.html">
            
                    
                    24. 编译程序
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.25" data-path="chap25.html">
            
                <a href="chap25.html">
            
                    
                    25. 编写第一个 Shell 脚本
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.26" data-path="chap26.html">
            
                <a href="chap26.html">
            
                    
                    26. 启动一个项目
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.27" data-path="chap27.html">
            
                <a href="chap27.html">
            
                    
                    27. 自顶向下设计
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.28" data-path="chap28.html">
            
                <a href="chap28.html">
            
                    
                    28. 流程控制：if 分支结构
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.29" data-path="chap29.html">
            
                <a href="chap29.html">
            
                    
                    29. 读取键盘输入
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.30" data-path="chap30.html">
            
                <a href="chap30.html">
            
                    
                    30. 流程控制：while/until 循环
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.31" data-path="chap31.html">
            
                <a href="chap31.html">
            
                    
                    31. 疑难排解
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.32" data-path="chap32.html">
            
                <a href="chap32.html">
            
                    
                    32. 流程控制：case 分支
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.33" data-path="chap33.html">
            
                <a href="chap33.html">
            
                    
                    33. 位置参数
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.34" data-path="chap34.html">
            
                <a href="chap34.html">
            
                    
                    34. 流程控制：for 循环
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.35" data-path="chap35.html">
            
                <a href="chap35.html">
            
                    
                    35. 字符串和数字
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.36" data-path="chap36.html">
            
                <a href="chap36.html">
            
                    
                    36. 数组
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.37" data-path="chap37.html">
            
                <a href="chap37.html">
            
                    
                    37. 奇珍异宝
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >09. 键盘高级操作技巧</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <p>I often kiddingly describe Unix as &#x201C;the operating system for people who like to type.&#x201D; Of
course, the fact that it even has a command line is a testament to that. But command line
users don&apos;t like to type that much. Why else would so many commands have such short
names like cp, ls, mv, and rm? In fact, one of the most cherished goals of the command
line is laziness; doing the most work with the fewest number of keystrokes. Another goal
is never having to lift your fingers from the keyboard, never reaching for the mouse. In
this chapter, we will look at bash features that make keyboard use faster and more
efficient.</p>
<p>&#x5F00;&#x73A9;&#x7B11;&#x5730;&#x8BF4;&#xFF0C;&#x6211;&#x7ECF;&#x5E38;&#x628A; Unix &#x63CF;&#x8FF0;&#x4E3A;&#x201C;&#x8FD9;&#x4E2A;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x662F;&#x4E3A;&#x559C;&#x6B22;&#x6572;&#x952E;&#x76D8;&#x7684;&#x4EBA;&#x4EEC;&#x670D;&#x52A1;&#x7684;&#x3002;&#x201D;
&#x5F53;&#x7136;&#xFF0C;Unix &#x751A;&#x81F3;&#x8FD8;&#x6709;&#x4E00;&#x4E2A;&#x547D;&#x4EE4;&#x884C;&#x8FD9;&#x4EF6;&#x4E8B;&#x8BC1;&#x660E;&#x4E86;&#x6211;&#x6240;&#x8BF4;&#x7684;&#x8BDD;&#x3002;&#x4F46;&#x662F;&#x547D;&#x4EE4;&#x884C;&#x7528;&#x6237;&#x4E0D;&#x559C;&#x6B22;&#x6572;&#x5165;
&#x90A3;&#x4E48;&#x591A;&#x5B57;&#x3002;&#x90A3;&#x53C8;&#x4E3A;&#x4EC0;&#x4E48;&#x5982;&#x6B64;&#x591A;&#x7684;&#x547D;&#x4EE4;&#x4F1A;&#x6709;&#x8FD9;&#x6837;&#x7B80;&#x77ED;&#x7684;&#x547D;&#x4EE4;&#x540D;&#xFF0C;&#x50CF;cp&#xFF0C;ls&#xFF0C;mv&#xFF0C;&#x548C; rm&#xFF1F;&#x4E8B;&#x5B9E;&#x4E0A;
&#xFF0C;&#x547D;&#x4EE4;&#x884C;&#x6700;&#x4E3A;&#x73CD;&#x89C6;&#x7684;&#x76EE;&#x6807;&#x4E4B;&#x4E00;&#x5C31;&#x662F;&#x61D2;&#x60F0;&#xFF1B;&#x7528;&#x6700;&#x5C11;&#x7684;&#x51FB;&#x952E;&#x6B21;&#x6570;&#x6765;&#x5B8C;&#x6210;&#x6700;&#x591A;&#x7684;&#x5DE5;&#x4F5C;&#x3002;&#x53E6;&#x4E00;&#x4E2A;
&#x76EE;&#x6807;&#x662F;&#x4F60;&#x7684;&#x624B;&#x6307;&#x6C38;&#x8FDC;&#x4E0D;&#x5FC5;&#x79BB;&#x5F00;&#x952E;&#x76D8;&#xFF0C;&#x6C38;&#x4E0D;&#x89E6;&#x6478;&#x9F20;&#x6807;&#x3002;&#x5728;&#x8FD9;&#x4E00;&#x7AE0;&#x8282;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;&#x770B;&#x4E00;&#x4E0B; bash &#x7279;&#x6027;
&#xFF0C;&#x8FD9;&#x4E9B;&#x7279;&#x6027;&#x4F7F;&#x952E;&#x76D8;&#x4F7F;&#x7528;&#x8D77;&#x6765;&#x66F4;&#x52A0;&#x8FC5;&#x901F;&#xFF0C;&#x66F4;&#x52A0;&#x9AD8;&#x6548;&#x3002;</p>
<p>The following commands will make an appearance:</p>
<p>&#x4EE5;&#x4E0B;&#x547D;&#x4EE4;&#x5C06;&#x4F1A;&#x9732;&#x9762;&#xFF1A;</p>
<ul>
<li><p>clear - Clear the screen</p>
</li>
<li><p>history - Display the contents of the history list</p>
</li>
<li><p>clear &#xFF0D; &#x6E05;&#x7A7A;&#x5C4F;&#x5E55;</p>
</li>
<li><p>history &#xFF0D; &#x663E;&#x793A;&#x5386;&#x53F2;&#x5217;&#x8868;&#x5185;&#x5BB9;</p>
</li>
</ul>
<h3 id="&#x547D;&#x4EE4;&#x884C;&#x7F16;&#x8F91;">&#x547D;&#x4EE4;&#x884C;&#x7F16;&#x8F91;</h3>
<p>bash uses a library (a shared collection of routines that different programs can use)
called Readline to implement command line editing. We have already seen some of this.
We know, for example, that the arrow keys move the cursor but there are many more
features. Think of these as additional tools that we can employ in our work. It&#x2019;s not
important to learn all of them, but many of them are very useful. Pick and choose as
desired.</p>
<p>Bash &#x4F7F;&#x7528;&#x4E86;&#x4E00;&#x4E2A;&#x540D;&#x4E3A; Readline &#x7684;&#x5E93;&#xFF08;&#x5171;&#x4EAB;&#x7684;&#x7EBF;&#x7A0B;&#x96C6;&#x5408;&#xFF0C;&#x53EF;&#x4EE5;&#x88AB;&#x4E0D;&#x540C;&#x7684;&#x7A0B;&#x5E8F;&#x4F7F;&#x7528;&#xFF09;&#xFF0C;
&#x6765;&#x5B9E;&#x73B0;&#x547D;&#x4EE4;&#x884C;&#x7F16;&#x8F91;&#x3002;&#x6211;&#x4EEC;&#x5DF2;&#x7ECF;&#x770B;&#x5230;&#x4E00;&#x4E9B;&#x4F8B;&#x5B50;&#x3002;&#x6211;&#x4EEC;&#x77E5;&#x9053;&#xFF0C;&#x4F8B;&#x5982;&#xFF0C;&#x7BAD;&#x5934;&#x6309;&#x952E;&#x53EF;&#x4EE5;&#x79FB;&#x52A8;&#x5149;&#x6807;&#xFF0C;
&#x6B64;&#x5916;&#x8FD8;&#x6709;&#x8BB8;&#x591A;&#x7279;&#x6027;&#x3002;&#x60F3;&#x60F3;&#x8FD9;&#x4E9B;&#x989D;&#x5916;&#x7684;&#x5DE5;&#x5177;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5728;&#x5DE5;&#x4F5C;&#x4E2D;&#x4F7F;&#x7528;&#x3002;&#x5B66;&#x4F1A;&#x6240;&#x6709;&#x7684;&#x7279;&#x6027;
&#x5E76;&#x4E0D;&#x91CD;&#x8981;&#xFF0C;&#x4F46;&#x8BB8;&#x591A;&#x7279;&#x6027;&#x975E;&#x5E38;&#x6709;&#x5E2E;&#x52A9;&#x3002;&#x9009;&#x62E9;&#x81EA;&#x5DF1;&#x9700;&#x8981;&#x7684;&#x7279;&#x6027;&#x3002;</p>
<p>Note: Some of the key sequences below (particularly those which use the Alt key)
may be intercepted by the GUI for other functions. All of the key sequences should
work properly when using a virtual console.</p>
<p>&#x6CE8;&#x610F;&#xFF1A;&#x4E0B;&#x9762;&#x4E00;&#x4E9B;&#x6309;&#x952E;&#x7EC4;&#x5408;&#xFF08;&#x5C24;&#x5176;&#x4F7F;&#x7528; Alt &#x952E;&#x7684;&#x7EC4;&#x5408;&#xFF09;&#xFF0C;&#x53EF;&#x80FD;&#x4F1A;&#x88AB; GUI &#x62E6;&#x622A;&#x6765;&#x89E6;&#x53D1;&#x5176;&#x5B83;&#x7684;&#x529F;&#x80FD;&#x3002;
&#x5F53;&#x4F7F;&#x7528;&#x865A;&#x62DF;&#x63A7;&#x5236;&#x53F0;&#x65F6;&#xFF0C;&#x6240;&#x6709;&#x7684;&#x6309;&#x952E;&#x7EC4;&#x5408;&#x90FD;&#x5E94;&#x8BE5;&#x6B63;&#x786E;&#x5730;&#x5DE5;&#x4F5C;&#x3002;</p>
<h3 id="&#x79FB;&#x52A8;&#x5149;&#x6807;">&#x79FB;&#x52A8;&#x5149;&#x6807;</h3>
<p>The following table lists the keys used to move the cursor:</p>
<p>&#x4E0B;&#x8868;&#x5217;&#x51FA;&#x4E86;&#x79FB;&#x52A8;&#x5149;&#x6807;&#x6240;&#x4F7F;&#x7528;&#x7684;&#x6309;&#x952E;&#xFF1A;</p>
<table class="multi">
<caption class="cap">Table 9-1: Cursor Movement Commands</caption>
<tr>
<th class="title">Key</th>
<th class="title">Action</th>
</tr>
<tr>
<td valign="top" width="25%">Ctrl-a</td>
<td valign="top">Move cursor to the beginning of the line.</td>
</tr>
<tr>
<td valign="top">Ctrl-e</td>
<td valign="top">Move cursor to the end of the line.</td>
</tr>
<tr>
<td valign="top">Ctrl-f</td>
<td valign="top">Move cursor forward one character;same as the right arrow key.</td>
</tr>
<tr>
<td valign="top">Ctrl-b</td>
<td valign="top">Move cursor backward one character;same as the left arrow key.</td>
</tr>
<tr>
<td valign="top">Alt-f</td>
<td valign="top">Move cursor forward one word.</td>
</tr>
<tr>
<td valign="top">Alt-b</td>
<td valign="top">Move cursor backward one word.</td>
</tr>
<tr>
<td valign="top">Ctrl-l</td>
<td valign="top">Clear the screen and move the cursor to the top left corner. The clear command does the same thing.</td>
</tr>
</table>

<table class="multi">
<caption class="cap">&#x8868;9-1: &#x5149;&#x6807;&#x79FB;&#x52A8;&#x547D;&#x4EE4;</caption>
<tr>
<th class="title">&#x6309;&#x952E;</th>
<th class="title">&#x884C;&#x52A8;</th>
</tr>
<tr>
<td valign="top" width="25%">Ctrl-a</td>
<td valign="top">&#x79FB;&#x52A8;&#x5149;&#x6807;&#x5230;&#x884C;&#x9996;&#x3002;</td>
</tr>
<tr>
<td valign="top">Ctrl-e</td>
<td valign="top">&#x79FB;&#x52A8;&#x5149;&#x6807;&#x5230;&#x884C;&#x5C3E;&#x3002;</td>
</tr>
<tr>
<td valign="top">Ctrl-f</td>
<td valign="top">&#x5149;&#x6807;&#x524D;&#x79FB;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#xFF1B;&#x548C;&#x53F3;&#x7BAD;&#x5934;&#x4F5C;&#x7528;&#x4E00;&#x6837;&#x3002;</td>
</tr>
<tr>
<td valign="top">Ctrl-b</td>
<td valign="top">&#x5149;&#x6807;&#x540E;&#x79FB;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#xFF1B;&#x548C;&#x5DE6;&#x7BAD;&#x5934;&#x4F5C;&#x7528;&#x4E00;&#x6837;&#x3002;</td>
</tr>
<tr>
<td valign="top">Alt-f</td>
<td valign="top">&#x5149;&#x6807;&#x524D;&#x79FB;&#x4E00;&#x4E2A;&#x5B57;&#x3002;</td>
</tr>
<tr>
<td valign="top">Alt-b</td>
<td valign="top">&#x5149;&#x6807;&#x540E;&#x79FB;&#x4E00;&#x4E2A;&#x5B57;&#x3002;</td>
</tr>
<tr>
<td valign="top">Ctrl-l</td>
<td valign="top">&#x6E05;&#x7A7A;&#x5C4F;&#x5E55;&#xFF0C;&#x79FB;&#x52A8;&#x5149;&#x6807;&#x5230;&#x5DE6;&#x4E0A;&#x89D2;&#x3002;clear &#x547D;&#x4EE4;&#x5B8C;&#x6210;&#x540C;&#x6837;&#x7684;&#x5DE5;&#x4F5C;&#x3002;</td>
</tr>
</table>

<h3 id="&#x4FEE;&#x6539;&#x6587;&#x672C;">&#x4FEE;&#x6539;&#x6587;&#x672C;</h3>
<p>Table 9-2 lists keyboard commands that are used to edit characters on the command line.</p>
<p>&#x8868;9&#xFF0D;2&#x5217;&#x51FA;&#x4E86;&#x952E;&#x76D8;&#x547D;&#x4EE4;&#xFF0C;&#x8FD9;&#x4E9B;&#x547D;&#x4EE4;&#x7528;&#x6765;&#x5728;&#x547D;&#x4EE4;&#x884C;&#x4E2D;&#x7F16;&#x8F91;&#x5B57;&#x7B26;&#x3002;</p>
<table class="multi">
<caption class="cap">Table 9-2: Text Editing Commands</caption>
<tr>
<th class="title">Key</th>
<th class="title">Action</th>
</tr>
<tr>
<td valign="top" width="25%">Ctrl-d</td>
<td valign="top">Delete the character at the cursor location</td>
</tr>
<tr>
<td valign="top">Ctrl-t</td>
<td valign="top">Transpose(exchange)the character at the cursor location with the one preceding it.</td>
</tr>
<tr>
<td valign="top">Alt-t</td>
<td valign="top">Transpose the word at the cursor location with the one preceding it.</td>
</tr>
<tr>
<td valign="top">Alt-l</td>
<td valign="top">Convert the characters from the cursor location to the end of the word to lowercase.</td>
</tr>
<tr>
<td valign="top">Alt-u</td>
<td valign="top">Convert the characters from the cursor location to the end of the word to uppercase.</td>
</tr>
</table>

<table class="multi">
<caption class="cap">&#x8868;9-2: &#x6587;&#x672C;&#x7F16;&#x8F91;&#x547D;&#x4EE4;</caption>
<tr>
<th class="title"> &#x6309;&#x952E;</th>
<th class="title"> &#x884C;&#x52A8;</th>
</tr>
<tr>
<td valign="top" width="25%">Ctrl-d</td>
<td valign="top"> &#x5220;&#x9664;&#x5149;&#x6807;&#x4F4D;&#x7F6E;&#x7684;&#x5B57;&#x7B26;&#x3002;</td>
</tr>
<tr>
<td valign="top">Ctrl-t</td>
<td valign="top"> &#x5149;&#x6807;&#x4F4D;&#x7F6E;&#x7684;&#x5B57;&#x7B26;&#x548C;&#x5149;&#x6807;&#x524D;&#x9762;&#x7684;&#x5B57;&#x7B26;&#x4E92;&#x6362;&#x4F4D;&#x7F6E;&#x3002;</td>
</tr>
<tr>
<td valign="top">Alt-t</td>
<td valign="top"> &#x5149;&#x6807;&#x4F4D;&#x7F6E;&#x7684;&#x5B57;&#x548C;&#x5176;&#x524D;&#x9762;&#x7684;&#x5B57;&#x4E92;&#x6362;&#x4F4D;&#x7F6E;&#x3002;</td>
</tr>
<tr>
<td valign="top">Alt-l</td>
<td valign="top"> &#x628A;&#x4ECE;&#x5149;&#x6807;&#x4F4D;&#x7F6E;&#x5230;&#x5B57;&#x5C3E;&#x7684;&#x5B57;&#x7B26;&#x8F6C;&#x6362;&#x6210;&#x5C0F;&#x5199;&#x5B57;&#x6BCD;&#x3002;</td>
</tr>
<tr>
<td valign="top">Alt-u</td>
<td valign="top"> &#x628A;&#x4ECE;&#x5149;&#x6807;&#x4F4D;&#x7F6E;&#x5230;&#x5B57;&#x5C3E;&#x7684;&#x5B57;&#x7B26;&#x8F6C;&#x6362;&#x6210;&#x5927;&#x5199;&#x5B57;&#x6BCD;&#x3002;</td>
</tr>
</table>

<h3 id="&#x526A;&#x5207;&#x548C;&#x7C98;&#x8D34;&#x6587;&#x672C;">&#x526A;&#x5207;&#x548C;&#x7C98;&#x8D34;&#x6587;&#x672C;</h3>
<p>The Readline documentation uses the terms killing and yanking to refer to what we would
commonly call cutting and pasting. Items that are cut are stored in a buffer called the
kill-ring.</p>
<p>Readline &#x7684;&#x6587;&#x6863;&#x4F7F;&#x7528;&#x672F;&#x8BED; killing &#x548C; yanking &#x6765;&#x6307;&#x6211;&#x4EEC;&#x5E73;&#x5E38;&#x6240;&#x8BF4;&#x7684;&#x526A;&#x5207;&#x548C;&#x7C98;&#x8D34;&#x3002;
&#x526A;&#x5207;&#x4E0B;&#x6765;&#x7684;&#x672C;&#x6587;&#x88AB;&#x5B58;&#x50A8;&#x5728;&#x4E00;&#x4E2A;&#x53EB;&#x505A;&#x526A;&#x5207;&#x73AF;(kill-ring)&#x7684;&#x7F13;&#x51B2;&#x533A;&#x4E2D;&#x3002;</p>
<table class="multi">
<caption class="cap">Table 9-3: Cut And Paste Commands</caption>
<tr>
<th class="title">Key</th>
<th class="title">Action</th>
</tr>
<tr>
<td valign="top" width="25%">Ctrl-k</td>
<td valign="top">Kill text from the cursor location to the end of line.</td>
</tr>
<tr>
<td valign="top">Ctrl-u</td>
<td valign="top">Kill text from the cursor location to the beginning of the line.</td>
</tr>
<tr>
<td valign="top">Alt-d</td>
<td valign="top">Kill text from the cursor location to the end of the current word.</td>
</tr>
<tr>
<td valign="top">Alt-Backspace</td>
<td valign="top">Kill text from the cursor location to the beginning of the
word. If the cursor is at the beginning of a word, kill the previous word.</td>
</tr>
<tr>
<td valign="top">Ctrl-y</td>
<td valign="top">Yank text from the kill-ring and insert it at the cursor location.</td>
</tr>
</table>

<table class="multi">
<caption class="cap">&#x8868;9-3: &#x526A;&#x5207;&#x548C;&#x7C98;&#x8D34;&#x547D;&#x4EE4;</caption>
<tr>
<th class="title"> &#x6309;&#x952E;</th>
<th class="title"> &#x884C;&#x52A8;</th>
</tr>
<tr>
<td valign="top" width="25%">Ctrl-k</td>
<td valign="top"> &#x526A;&#x5207;&#x4ECE;&#x5149;&#x6807;&#x4F4D;&#x7F6E;&#x5230;&#x884C;&#x5C3E;&#x7684;&#x6587;&#x672C;&#x3002;</td>
</tr>
<tr>
<td valign="top">Ctrl-u</td>
<td valign="top"> &#x526A;&#x5207;&#x4ECE;&#x5149;&#x6807;&#x4F4D;&#x7F6E;&#x5230;&#x884C;&#x9996;&#x7684;&#x6587;&#x672C;&#x3002;</td>
</tr>
<tr>
<td valign="top">Alt-d</td>
<td valign="top"> &#x526A;&#x5207;&#x4ECE;&#x5149;&#x6807;&#x4F4D;&#x7F6E;&#x5230;&#x8BCD;&#x5C3E;&#x7684;&#x6587;&#x672C;&#x3002;</td>
</tr>
<tr>
<td valign="top">Alt-Backspace</td>
<td valign="top"> &#x526A;&#x5207;&#x4ECE;&#x5149;&#x6807;&#x4F4D;&#x7F6E;&#x5230;&#x8BCD;&#x5934;&#x7684;&#x6587;&#x672C;&#x3002;&#x5982;&#x679C;&#x5149;&#x6807;&#x5728;&#x4E00;&#x4E2A;&#x5355;&#x8BCD;&#x7684;&#x5F00;&#x5934;&#xFF0C;&#x526A;&#x5207;&#x524D;&#x4E00;&#x4E2A;&#x5355;&#x8BCD;&#x3002;</td>
</tr>
<tr>
<td valign="top">Ctrl-y</td>
<td valign="top"> &#x628A;&#x526A;&#x5207;&#x73AF;&#x4E2D;&#x7684;&#x6587;&#x672C;&#x7C98;&#x8D34;&#x5230;&#x5149;&#x6807;&#x4F4D;&#x7F6E;&#x3002;</td>
</tr>
</table>

<blockquote>
<p>The Meta Key</p>
<p>&#x5143;&#x952E;</p>
<p>If you venture into the Readline documentation, which can be found in the
READLINE section of the bash man page, you will encounter the term &#x201C;meta
key.&#x201D; On modern keyboards this maps to the Alt key but it wasn&apos;t always so.</p>
<p> &#x5982;&#x679C;&#x4F60;&#x5192;&#x9669;&#x8FDB;&#x5165;&#x5230; Readline &#x7684;&#x6587;&#x6863;&#x4E2D;&#xFF0C;&#x4F60;&#x4F1A;&#x5728; bash &#x624B;&#x518C;&#x9875;&#x7684; READLINE &#x6BB5;&#x843D;&#xFF0C;
&#x9047;&#x5230;&#x4E00;&#x4E2A;&#x672F;&#x8BED;&quot;&#x5143;&#x952E;&quot;&#xFF08;meta key&#xFF09;&#x3002;&#x5728;&#x5F53;&#x4ECA;&#x7684;&#x952E;&#x76D8;&#x4E0A;&#xFF0C;&#x8FD9;&#x4E2A;&#x5143;&#x952E;&#x662F;&#x6307; Alt &#x952E;&#xFF0C;&#x4F46;
&#x5E76;&#x4E0D;&#x603B;&#x662F;&#x8FD9;&#x6837;&#x3002;</p>
<p>Back in the dim times (before PCs but after Unix) not everybody had their own
computer. What they might have had was a device called a terminal. A terminal
was a communication device that featured a text display screen and a keyboard
and just enough electronics inside to display text characters and move the
cursor around. It was attached (usually by serial cable) to a larger computer or the
communication network of a larger computer. There were many different brands
of terminals and they all had different keyboards and display feature sets.
Since they all tended to at least understand ASCII, software developers wanting
portable applications wrote to the lowest common denominator. Unix systems
have a very elaborate way of dealing with terminals and their different
display features. Since the developers of Readline could not be sure of the presence
of a dedicated extra control key, they invented one and called it &#x201C;meta.&#x201D; While the
Alt key serves as the meta key on modern keyboards, you can also press and
release the Esc key to get the same effect as holding down the Alt key if
you&apos;re still using a terminal (which you can still do in Linux!).</p>
<p>&#x56DE;&#x5230;&#x660F;&#x6697;&#x7684;&#x5E74;&#x4EE3;&#xFF08;&#x5728; PC &#x4E4B;&#x524D; Unix &#x4E4B;&#x540E;&#xFF09;&#xFF0C;&#x5E76;&#x4E0D;&#x662F;&#x6BCF;&#x4E2A;&#x4EBA;&#x90FD;&#x6709;&#x4ED6;&#x4EEC;&#x81EA;&#x5DF1;&#x7684;&#x8BA1;&#x7B97;&#x673A;&#x3002;
&#x4ED6;&#x4EEC;&#x53EF;&#x80FD;&#x6709;&#x4E00;&#x4E2A;&#x53EB;&#x505A;&#x7EC8;&#x7AEF;&#x7684;&#x8BBE;&#x5907;&#x3002;&#x4E00;&#x4E2A;&#x7EC8;&#x7AEF;&#x662F;&#x4E00;&#x79CD;&#x901A;&#x4FE1;&#x8BBE;&#x5907;&#xFF0C;&#x5B83;&#x4EE5;&#x4E00;&#x4E2A;&#x6587;&#x672C;&#x663E;&#x793A;
&#x5C4F;&#x5E55;&#x548C;&#x4E00;&#x4E2A;&#x952E;&#x76D8;&#x4F5C;&#x4E3A;&#x5176;&#x7279;&#x8272;&#xFF0C;&#x5B83;&#x91CC;&#x9762;&#x6709;&#x8DB3;&#x591F;&#x7684;&#x7535;&#x5B50;&#x5668;&#x4EF6;&#x6765;&#x663E;&#x793A;&#x6587;&#x672C;&#x5B57;&#x7B26;&#x548C;&#x79FB;&#x52A8;&#x5149;&#x6807;&#x3002;
&#x5B83;&#x8FDE;&#x63A5;&#x5230;&#xFF08;&#x901A;&#x5E38;&#x901A;&#x8FC7;&#x4E32;&#x884C;&#x7535;&#x7F06;&#xFF09;&#x4E00;&#x4E2A;&#x66F4;&#x5927;&#x7684;&#x8BA1;&#x7B97;&#x673A;&#x6216;&#x8005;&#x662F;&#x4E00;&#x4E2A;&#x5927;&#x578B;&#x8BA1;&#x7B97;&#x673A;&#x7684;&#x901A;&#x4FE1;
&#x7F51;&#x7EDC;&#x3002;&#x6709;&#x8BB8;&#x591A;&#x4E0D;&#x540C;&#x7684;&#x7EC8;&#x7AEF;&#x4EA7;&#x54C1;&#x5546;&#x6807;&#xFF0C;&#x5B83;&#x4EEC;&#x6709;&#x7740;&#x4E0D;&#x540C;&#x7684;&#x952E;&#x76D8;&#x548C;&#x7279;&#x5F81;&#x663E;&#x793A;&#x96C6;&#x3002;&#x56E0;&#x4E3A;&#x5B83;&#x4EEC;
&#x90FD;&#x503E;&#x5411;&#x4E8E;&#x81F3;&#x5C11;&#x80FD;&#x7406;&#x89E3; ASCII&#xFF0C;&#x6240;&#x4EE5;&#x8F6F;&#x4EF6;&#x5F00;&#x53D1;&#x8005;&#x60F3;&#x8981;&#x7B26;&#x5408;&#x6700;&#x4F4E;&#x6807;&#x51C6;&#x7684;&#x53EF;&#x79FB;&#x690D;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x3002;
Unix &#x7CFB;&#x7EDF;&#x6709;&#x4E00;&#x4E2A;&#x975E;&#x5E38;&#x7CBE;&#x5DE7;&#x7684;&#x65B9;&#x6CD5;&#x6765;&#x5904;&#x7406;&#x5404;&#x79CD;&#x7EC8;&#x7AEF;&#x4EA7;&#x54C1;&#x548C;&#x5B83;&#x4EEC;&#x4E0D;&#x540C;&#x7684;&#x663E;&#x793A;&#x7279;&#x5F81;&#x3002;&#x56E0;&#x4E3A;
Readline &#x7A0B;&#x5E8F;&#x7684;&#x5F00;&#x53D1;&#x8005;&#x4EEC;&#xFF0C;&#x4E0D;&#x80FD;&#x786E;&#x5B9A;&#x4E00;&#x4E2A;&#x4E13;&#x7528;&#x591A;&#x4F59;&#x7684;&#x63A7;&#x5236;&#x952E;&#x7684;&#x5B58;&#x5728;&#xFF0C;&#x4ED6;&#x4EEC;&#x53D1;&#x660E;&#x4E86;&#x4E00;&#x4E2A;
&#x63A7;&#x5236;&#x952E;&#xFF0C;&#x5E76;&#x628A;&#x5B83;&#x53EB;&#x505A;&quot;&#x5143;&quot;&#xFF08;&quot;meta&quot;&#xFF09;&#x3002;&#x7136;&#x800C;&#x5728;&#x73B0;&#x4EE3;&#x7684;&#x952E;&#x76D8;&#x4E0A;&#xFF0C;Alt &#x952E;&#x4F5C;&#x4E3A;&#x5143;&#x952E;&#x6765;&#x670D;&#x52A1;&#x3002;
&#x5982;&#x679C;&#x4F60;&#x4ECD;&#x7136;&#x5728;&#x4F7F;&#x7528;&#x7EC8;&#x7AEF;&#xFF08;&#x5728; Linux &#x4E2D;&#xFF0C;&#x4F60;&#x4ECD;&#x7136;&#x53EF;&#x4EE5;&#x5F97;&#x5230;&#x4E00;&#x4E2A;&#x7EC8;&#x7AEF;&#xFF09;&#xFF0C;&#x4F60;&#x4E5F;&#x53EF;&#x4EE5;&#x6309;&#x4E0B;&#x548C;
&#x91CA;&#x653E; Esc &#x952E;&#x6765;&#x5F97;&#x5230;&#x5982;&#x63A7;&#x5236; Alt &#x952E;&#x4E00;&#x6837;&#x7684;&#x6548;&#x679C;&#x3002;</p>
</blockquote>
<h3 id="&#x81EA;&#x52A8;&#x8865;&#x5168;">&#x81EA;&#x52A8;&#x8865;&#x5168;</h3>
<p>Another way that the shell can help you is through a mechanism called completion.
Completion occurs when you press the tab key while typing a command. Let&apos;s see how
this works. Given a home directory that looks like this:</p>
<p>shell &#x80FD;&#x5E2E;&#x52A9;&#x4F60;&#x7684;&#x53E6;&#x4E00;&#x79CD;&#x65B9;&#x5F0F;&#x662F;&#x901A;&#x8FC7;&#x4E00;&#x79CD;&#x53EB;&#x505A;&#x81EA;&#x52A8;&#x8865;&#x5168;&#x7684;&#x673A;&#x5236;&#x3002;&#x5F53;&#x4F60;&#x6572;&#x5165;&#x4E00;&#x4E2A;&#x547D;&#x4EE4;&#x65F6;&#xFF0C;
&#x6309;&#x4E0B; tab &#x952E;&#xFF0C;&#x81EA;&#x52A8;&#x8865;&#x5168;&#x5C31;&#x4F1A;&#x53D1;&#x751F;&#x3002;&#x8BA9;&#x6211;&#x4EEC;&#x770B;&#x4E00;&#x4E0B;&#x8FD9;&#x662F;&#x600E;&#x6837;&#x5DE5;&#x4F5C;&#x7684;&#x3002;&#x7ED9;&#x51FA;&#x4E00;&#x4E2A;&#x770B;&#x8D77;&#x6765;
&#x50CF;&#x8FD9;&#x6837;&#x7684;&#x5BB6;&#x76EE;&#x5F55;&#xFF1A;</p>
<pre><code>[me@linuxbox ~]$ ls
Desktop   ls-output.txt   Pictures   Templates   Videos
....
</code></pre><p>Try typing the following but don&apos;t press the Enter key:</p>
<p>&#x8BD5;&#x7740;&#x8F93;&#x5165;&#x4E0B;&#x9762;&#x7684;&#x547D;&#x4EE4;&#xFF0C;&#x4F46;&#x4E0D;&#x8981;&#x6309;&#x4E0B; Enter &#x952E;&#xFF1A;</p>
<pre><code>[me@linuxbox ~]$ ls l
</code></pre><p>Now press the tab key:</p>
<p>&#x73B0;&#x5728;&#x6309;&#x4E0B; tab &#x952E;&#xFF1A;</p>
<pre><code>[me@linuxbox ~]$ ls ls-output.txt
</code></pre><p>See how the shell completed the line for you? Let&apos;s try another one. Again, don&apos;t press
Enter:</p>
<p>&#x770B;&#x4E00;&#x4E0B; shell &#x662F;&#x600E;&#x6837;&#x8865;&#x5168;&#x8FD9;&#x4E00;&#x884C;&#x7684;&#xFF1F;&#x8BA9;&#x6211;&#x4EEC;&#x518D;&#x8BD5;&#x8BD5;&#x53E6;&#x4E00;&#x4E2A;&#x4F8B;&#x5B50;&#x3002;&#x8FD9;&#x56DE;&#xFF0C;&#x4E5F;
&#x4E0D;&#x8981;&#x6309;&#x4E0B; Enter:</p>
<pre><code>[me@linuxbox ~]$ ls D
</code></pre><p>Press tab:</p>
<p>&#x6309;&#x4E0B; tab:</p>
<pre><code>[me@linuxbox ~]$ ls D
</code></pre><p>No completion, just a beep. This happened because &#x201C;D&#x201D; matches more than one entry in
the directory. For completion to be successful, the &#x201C;clue&#x201D; you give it has to be
unambiguous. If we go further:</p>
<p>&#x6CA1;&#x6709;&#x8865;&#x5168;&#xFF0C;&#x53EA;&#x662F;&#x561F;&#x561F;&#x54CD;&#x3002;&#x56E0;&#x4E3A;&quot;D&quot;&#x4E0D;&#x6B62;&#x5339;&#x914D;&#x76EE;&#x5F55;&#x4E2D;&#x7684;&#x4E00;&#x4E2A;&#x6761;&#x76EE;&#x3002;&#x4E3A;&#x4E86;&#x81EA;&#x52A8;&#x8865;&#x5168;&#x6267;&#x884C;&#x6210;&#x529F;&#xFF0C;
&#x4F60;&#x7ED9;&#x5B83;&#x7684;&quot;&#x7EBF;&#x7D22;&quot;&#x5FC5;&#x987B;&#x4E0D;&#x6A21;&#x68F1;&#x4E24;&#x53EF;&#x3002;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x7EE7;&#x7EED;&#x8F93;&#x5165;&#xFF1A;</p>
<pre><code>[me@linuxbox ~]$ ls Do
</code></pre><p>Then press tab:</p>
<p>&#x7136;&#x540E;&#x6309;&#x4E0B; tab&#xFF1A;</p>
<pre><code>[me@linuxbox ~]$ ls Documents
</code></pre><p>The completion is successful.</p>
<p>&#x81EA;&#x52A8;&#x8865;&#x5168;&#x6210;&#x529F;&#x4E86;&#x3002;</p>
<p>While this example shows completion of pathnames, which is its most common use,
completion will also work on variables (if the beginning of the word is a &#x201C;$&#x201D;), user names
(if the word begins with &#x201C;~&#x201D;), commands (if the word is the first word on the line.) and
host names (if the beginning of the word is &#x201C;@&#x201D;). Host name completion only works for
host names listed in /etc/hosts.</p>
<p>&#x8FD9;&#x4E2A;&#x5B9E;&#x4F8B;&#x5C55;&#x793A;&#x4E86;&#x8DEF;&#x5F84;&#x540D;&#x81EA;&#x52A8;&#x8865;&#x5168;&#xFF0C;&#x8FD9;&#x662F;&#x6700;&#x5E38;&#x7528;&#x7684;&#x5F62;&#x5F0F;&#x3002;&#x81EA;&#x52A8;&#x8865;&#x5168;&#x4E5F;&#x80FD;&#x5BF9;&#x53D8;&#x91CF;&#x8D77;&#x4F5C;&#x7528;&#xFF08;&#x5982;&#x679C;
&#x5B57;&#x7684;&#x5F00;&#x5934;&#x662F;&#x4E00;&#x4E2A;&quot;$&quot;&#xFF09;&#xFF0C;&#x7528;&#x6237;&#x540D;&#x5B57;&#xFF08;&#x5355;&#x8BCD;&#x4EE5;&quot;~&quot;&#x5F00;&#x59CB;&#xFF09;&#xFF0C;&#x547D;&#x4EE4;&#xFF08;&#x5982;&#x679C;&#x5355;&#x8BCD;&#x662F;&#x4E00;&#x884C;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x5355;&#x8BCD;&#xFF09;&#xFF0C;
&#x548C;&#x4E3B;&#x673A;&#x540D;&#xFF08;&#x5982;&#x679C;&#x5355;&#x8BCD;&#x7684;&#x5F00;&#x5934;&#x662F;&quot;@&quot;&#xFF09;&#x3002;&#x4E3B;&#x673A;&#x540D;&#x81EA;&#x52A8;&#x8865;&#x5168;&#x53EA;&#x5BF9;&#x5305;&#x542B;&#x5728;&#x6587;&#x4EF6;/etc/hosts &#x4E2D;&#x7684;&#x4E3B;&#x673A;&#x540D;&#x6709;&#x6548;&#x3002;</p>
<p>There are a number of control and meta key sequences that are associated with
completion:</p>
<p>&#x6709;&#x4E00;&#x7CFB;&#x5217;&#x7684;&#x63A7;&#x5236;&#x548C;&#x5143;&#x952E;&#x5E8F;&#x5217;&#x4E0E;&#x81EA;&#x52A8;&#x8865;&#x5168;&#x76F8;&#x5173;&#x8054;&#xFF1A;</p>
<table class="multi">
<caption class="cap">Table 9-4: Completion Commands</caption>
<tr>
<th class="title">Key</th>
<th class="title">Action</th>
</tr>
<tr>
<td valign="top" width="25%">Alt-?</td>
<td valign="top">Display list of possible completions. On most systems you can
also do this by pressing the tab key a second time, which is much easier.</td>
</tr>
<tr>
<td valign="top">Alt-*</td>
<td valign="top">Insert all possible completions. This is useful when you want
to use more than one possible match.</td>
</tr>

</table>
<table class="multi">
<caption class="cap">&#x8868;9-4: &#x81EA;&#x52A8;&#x8865;&#x5168;&#x547D;&#x4EE4;</caption>
<tr>
<th class="title">&#x6309;&#x952E;</th>
<th class="title">&#x884C;&#x52A8;</th>
</tr>
<tr>
<td valign="top" width="25%">Alt-?</td>
<td valign="top"> &#x663E;&#x793A;&#x53EF;&#x80FD;&#x7684;&#x81EA;&#x52A8;&#x8865;&#x5168;&#x5217;&#x8868;&#x3002;&#x5728;&#x5927;&#x591A;&#x6570;&#x7CFB;&#x7EDF;&#x4E2D;&#xFF0C;&#x4F60;&#x4E5F;&#x53EF;&#x4EE5;&#x5B8C;&#x6210;&#x8FD9;&#x4E2A;&#x901A;&#x8FC7;&#x6309;
&#x4E24;&#x6B21; tab &#x952E;&#xFF0C;&#x8FD9;&#x4F1A;&#x66F4;&#x5BB9;&#x6613;&#x4E9B;&#x3002;</td>
</tr>
<tr>
<td valign="top">Alt-*</td>
<td valign="top">&#x63D2;&#x5165;&#x6240;&#x6709;&#x53EF;&#x80FD;&#x7684;&#x81EA;&#x52A8;&#x8865;&#x5168;&#x3002;&#x5F53;&#x4F60;&#x60F3;&#x8981;&#x4F7F;&#x7528;&#x591A;&#x4E2A;&#x53EF;&#x80FD;&#x7684;&#x5339;&#x914D;&#x9879;&#x65F6;&#xFF0C;&#x8FD9;&#x4E2A;&#x5F88;&#x6709;&#x5E2E;&#x52A9;&#x3002;</td>
</tr>
</table>

<blockquote>
<p>Programmable Completion</p>
<p>&#x53EF;&#x7F16;&#x7A0B;&#x81EA;&#x52A8;&#x8865;&#x5168;</p>
<p>Recent versions of bash have a facility called programmable completion.
Programmable completion allows you (or more likely, your distribution
provider) to add additional completion rules. Usually this is done to add support for
specific applications. For example it is possible to add completions for the
option list of a command or match particular file types that an application supports.
Ubuntu has a fairly large set defined by default. Programmable completion is
implemented by shell functions, a kind of mini shell script that we will cover
in later chapters. If you are curious, try:</p>
<p>&#x76EE;&#x524D;&#x7684; bash &#x7248;&#x672C;&#x6709;&#x4E00;&#x4E2A;&#x53EB;&#x505A;&#x53EF;&#x7F16;&#x7A0B;&#x81EA;&#x52A8;&#x8865;&#x5168;&#x5DE5;&#x5177;&#x3002;&#x53EF;&#x7F16;&#x7A0B;&#x81EA;&#x52A8;&#x8865;&#x5168;&#x5141;&#x8BB8;&#x4F60;&#xFF08;&#x66F4;&#x53EF;&#x80FD;&#x662F;&#xFF0C;&#x4F60;&#x7684;
&#x53D1;&#x884C;&#x7248;&#x63D0;&#x4F9B;&#x5546;&#xFF09;&#x6765;&#x52A0;&#x5165;&#x989D;&#x5916;&#x7684;&#x81EA;&#x52A8;&#x8865;&#x5168;&#x89C4;&#x5219;&#x3002;&#x901A;&#x5E38;&#x9700;&#x8981;&#x52A0;&#x5165;&#x5BF9;&#x7279;&#x5B9A;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x652F;&#x6301;&#xFF0C;&#x6765;&#x5B8C;&#x6210;&#x8FD9;&#x4E2A;
&#x4EFB;&#x52A1;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x6709;&#x53EF;&#x80FD;&#x4E3A;&#x4E00;&#x4E2A;&#x547D;&#x4EE4;&#x7684;&#x9009;&#x9879;&#x5217;&#x8868;&#xFF0C;&#x6216;&#x8005;&#x4E00;&#x4E2A;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x652F;&#x6301;&#x7684;&#x7279;&#x6B8A;&#x6587;&#x4EF6;&#x7C7B;&#x578B;&#x52A0;&#x5165;&#x81EA;&#x52A8;&#x8865;&#x5168;&#x3002;
&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;Ubuntu &#x5DF2;&#x7ECF;&#x5B9A;&#x4E49;&#x4E86;&#x4E00;&#x4E2A;&#x76F8;&#x5F53;&#x5927;&#x7684;&#x89C4;&#x5219;&#x96C6;&#x5408;&#x3002;&#x53EF;&#x7F16;&#x7A0B;&#x81EA;&#x52A8;&#x8865;&#x5168;&#x662F;&#x7531; shell
&#x51FD;&#x6570;&#x5B9E;&#x73B0;&#x7684;&#xFF0C;shell &#x51FD;&#x6570;&#x662F;&#x4E00;&#x79CD;&#x5C0F;&#x5DE7;&#x7684; shell &#x811A;&#x672C;&#xFF0C;&#x6211;&#x4EEC;&#x4F1A;&#x5728;&#x540E;&#x9762;&#x7684;&#x7AE0;&#x8282;&#x4E2D;&#x8BA8;&#x8BBA;&#x5230;&#x3002;&#x5982;&#x679C;&#x4F60;&#x611F;&#x5230;&#x597D;&#x5947;&#xFF0C;&#x8BD5;&#x4E00;&#x4E0B;&#xFF1A;</p>
<p> <em>set | less</em></p>
<p>and see if you can find them. Not all distributions include them by default.</p>
<p>&#x67E5;&#x770B;&#x4E00;&#x4E0B;&#x5982;&#x679C;&#x4F60;&#x80FD;&#x627E;&#x5230;&#x5B83;&#x4EEC;&#x7684;&#x8BDD;&#x3002;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5E76;&#x4E0D;&#x662F;&#x6240;&#x6709;&#x7684;&#x53D1;&#x884C;&#x7248;&#x90FD;&#x5305;&#x62EC;&#x5B83;&#x4EEC;&#x3002;</p>
</blockquote>
<h3 id="&#x5229;&#x7528;&#x5386;&#x53F2;&#x547D;&#x4EE4;">&#x5229;&#x7528;&#x5386;&#x53F2;&#x547D;&#x4EE4;</h3>
<p>As we discovered in Chapter 2, bash maintains a history of commands that have been
entered. This list of commands is kept in your home directory in a file called
.bash_history. The history facility is a useful resource for reducing the amount of
typing you have to do, especially when combined with command line editing.</p>
<p>&#x6B63;&#x5982;&#x6211;&#x4EEC;&#x5728;&#x7B2C;&#x4E8C;&#x7AE0;&#x4E2D;&#x8BA8;&#x8BBA;&#x5230;&#x7684;&#xFF0C;bash &#x7EF4;&#x62A4;&#x7740;&#x4E00;&#x4E2A;&#x5DF2;&#x7ECF;&#x6267;&#x884C;&#x8FC7;&#x7684;&#x547D;&#x4EE4;&#x7684;&#x5386;&#x53F2;&#x5217;&#x8868;&#x3002;&#x8FD9;&#x4E2A;&#x547D;&#x4EE4;&#x5217;&#x8868;
&#x88AB;&#x4FDD;&#x5B58;&#x5728;&#x4F60;&#x5BB6;&#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x4E00;&#x4E2A;&#x53EB;&#x505A; .bash_history &#x7684;&#x6587;&#x4EF6;&#x91CC;&#x3002;&#x8FD9;&#x4E2A; history &#x5DE5;&#x5177;&#x662F;&#x4E2A;&#x6709;&#x7528;&#x8D44;&#x6E90;&#xFF0C;
&#x56E0;&#x4E3A;&#x5B83;&#x53EF;&#x4EE5;&#x51CF;&#x5C11;&#x4F60;&#x6572;&#x952E;&#x76D8;&#x7684;&#x6B21;&#x6570;&#xFF0C;&#x5C24;&#x5176;&#x5F53;&#x548C;&#x547D;&#x4EE4;&#x884C;&#x7F16;&#x8F91;&#x8054;&#x7CFB;&#x8D77;&#x6765;&#x65F6;&#x3002;</p>
<h3 id="&#x641C;&#x7D22;&#x5386;&#x53F2;&#x547D;&#x4EE4;">&#x641C;&#x7D22;&#x5386;&#x53F2;&#x547D;&#x4EE4;</h3>
<p>At any time, we can view the contents of the history list by:</p>
<p>&#x5728;&#x4EFB;&#x4F55;&#x65F6;&#x5019;&#xFF0C;&#x6211;&#x4EEC;&#x90FD;&#x53EF;&#x4EE5;&#x6D4F;&#x89C8;&#x5386;&#x53F2;&#x5217;&#x8868;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x901A;&#x8FC7;&#xFF1A;</p>
<pre><code>[me@linuxbox ~]$ history | less
</code></pre><p>By default, bash stores the last five hundred commands you have entered. We will see
how to adjust this value in a later chapter. Let&apos;s say we want to find the commands we
used to list /usr/bin. One way we could do this:</p>
<p>&#x5728;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;bash &#x4F1A;&#x5B58;&#x50A8;&#x4F60;&#x6240;&#x8F93;&#x5165;&#x7684;&#x6700;&#x540E; 500 &#x4E2A;&#x547D;&#x4EE4;&#x3002;&#x5728;&#x968F;&#x540E;&#x7684;&#x7AE0;&#x8282;&#x91CC;&#xFF0C;&#x6211;&#x4EEC;&#x4F1A;&#x77E5;&#x9053;
&#x600E;&#x6837;&#x8C03;&#x6574;&#x8FD9;&#x4E2A;&#x6570;&#x503C;&#x3002;&#x6BD4;&#x65B9;&#x8BF4;&#x6211;&#x4EEC;&#x60F3;&#x8981;&#x627E;&#x5230;&#x5217;&#x51FA;&#x76EE;&#x5F55; /usr/bin &#x5185;&#x5BB9;&#x7684;&#x547D;&#x4EE4;&#x3002;&#x4E00;&#x79CD;&#x65B9;&#x6CD5;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x8FD9;&#x6837;&#x505A;&#xFF1A;</p>
<pre><code>[me@linuxbox ~]$ history | grep /usr/bin
</code></pre><p>And let&apos;s say that among our results we got a line containing an interesting command like
this:</p>
<p>&#x6BD4;&#x65B9;&#x8BF4;&#x5728;&#x6211;&#x4EEC;&#x7684;&#x641C;&#x7D22;&#x7ED3;&#x679C;&#x4E4B;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x5F97;&#x5230;&#x4E00;&#x884C;&#xFF0C;&#x5305;&#x542B;&#x4E86;&#x6709;&#x8DA3;&#x7684;&#x547D;&#x4EE4;&#xFF0C;&#x50CF;&#x8FD9;&#x6837;&#xFF1B;</p>
<pre><code>88  ls -l /usr/bin &gt; ls-output.txt
</code></pre><p>The number &#x201C;88&#x201D; is the line number of the command in the history list. We could use this
immediately using another type of expansion called history expansion. To use our
discovered line we could do this:</p>
<p>&#x6570;&#x5B57; &quot;88&quot; &#x662F;&#x8FD9;&#x4E2A;&#x547D;&#x4EE4;&#x5728;&#x5386;&#x53F2;&#x5217;&#x8868;&#x4E2D;&#x7684;&#x884C;&#x53F7;&#x3002;&#x968F;&#x540E;&#x5728;&#x4F7F;&#x7528;&#x53E6;&#x4E00;&#x79CD;&#x5C55;&#x5F00;&#x7C7B;&#x578B;&#x65F6;&#xFF0C;&#x53EB;&#x505A;
&#x5386;&#x53F2;&#x547D;&#x4EE4;&#x5C55;&#x5F00;&#xFF0C;&#x6211;&#x4EEC;&#x4F1A;&#x7528;&#x5230;&#x8FD9;&#x4E2A;&#x6570;&#x5B57;&#x3002;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x8FD9;&#x6837;&#x505A;&#xFF0C;&#x6765;&#x4F7F;&#x7528;&#x6211;&#x4EEC;&#x6240;&#x53D1;&#x73B0;&#x7684;&#x884C;&#xFF1A;</p>
<pre><code>[me@linuxbox ~]$ !88
</code></pre><p>bash will expand &#x201C;!88&#x201D; into the contents of the eighty-eighth line in the
history list. There are other forms of history expansion that we will cover a
little later. bash also provides the ability to search the history list
incrementally. This means that we can tell bash to search the history list as
we enter characters, with each additional character further refining our
search. To start incremental search type Ctrl-r followed by the text you are
looking for. When you find it, you can either type Enter to execute the
command or type Ctrl-j to copy the line from the history list to the current
command line. To find the next occurrence of the text (moving &#x201C;up&#x201D; the history
list), type Ctrl-r again. To quit searching, type either Ctrl-g or Ctrl-c.
Here we see it in action:</p>
<p>bash &#x4F1A;&#x628A; &quot;!88&quot; &#x5C55;&#x5F00;&#x6210;&#x4E3A;&#x5386;&#x53F2;&#x5217;&#x8868;&#x4E2D;88&#x884C;&#x7684;&#x5185;&#x5BB9;&#x3002;&#x8FD8;&#x6709;&#x5176;&#x5B83;&#x7684;&#x5386;&#x53F2;&#x547D;&#x4EE4;&#x5C55;&#x5F00;&#x5F62;&#x5F0F;&#xFF0C;&#x6211;&#x4EEC;&#x4E00;&#x4F1A;&#x513F;
&#x8BA8;&#x8BBA;&#x5B83;&#x4EEC;&#x3002;bash &#x4E5F;&#x5177;&#x6709;&#x6309;&#x9012;&#x589E;&#x987A;&#x5E8F;&#x6765;&#x641C;&#x7D22;&#x5386;&#x53F2;&#x5217;&#x8868;&#x7684;&#x80FD;&#x529B;&#x3002;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x968F;&#x7740;&#x5B57;&#x7B26;&#x7684;&#x8F93;&#x5165;&#xFF0C;&#x6211;&#x4EEC;
&#x53EF;&#x4EE5;&#x544A;&#x8BC9; bash &#x53BB;&#x641C;&#x7D22;&#x5386;&#x53F2;&#x5217;&#x8868;&#xFF0C;&#x6BCF;&#x4E00;&#x4E2A;&#x9644;&#x52A0;&#x5B57;&#x7B26;&#x90FD;&#x8FDB;&#x4E00;&#x6B65;&#x63D0;&#x70BC;&#x6211;&#x4EEC;&#x7684;&#x641C;&#x7D22;&#x3002;&#x542F;&#x52A8;&#x9012;&#x589E;&#x641C;&#x7D22;&#xFF0C;
&#x8F93;&#x5165; Ctrl-r&#xFF0C;&#x5176;&#x540E;&#x8F93;&#x5165;&#x4F60;&#x8981;&#x5BFB;&#x627E;&#x7684;&#x6587;&#x672C;&#x3002;&#x5F53;&#x4F60;&#x627E;&#x5230;&#x5B83;&#x4EE5;&#x540E;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x6572;&#x5165; Enter &#x6765;&#x6267;&#x884C;&#x547D;&#x4EE4;&#xFF0C;
&#x6216;&#x8005;&#x8F93;&#x5165; Ctrl-j&#xFF0C;&#x4ECE;&#x5386;&#x53F2;&#x5217;&#x8868;&#x4E2D;&#x590D;&#x5236;&#x8FD9;&#x4E00;&#x884C;&#x5230;&#x5F53;&#x524D;&#x547D;&#x4EE4;&#x884C;&#x3002;&#x518D;&#x6B21;&#x8F93;&#x5165; Ctrl-r&#xFF0C;&#x6765;&#x627E;&#x5230;&#x4E0B;&#x4E00;&#x4E2A;
&#x5339;&#x914D;&#x9879;&#xFF08;&#x5411;&#x4E0A;&#x79FB;&#x52A8;&#x5386;&#x53F2;&#x5217;&#x8868;&#xFF09;&#x3002;&#x8F93;&#x5165; Ctrl-g &#x6216;&#x8005; Ctrl-c&#xFF0C;&#x9000;&#x51FA;&#x641C;&#x7D22;&#x3002;&#x5B9E;&#x9645;&#x6765;&#x4F53;&#x9A8C;&#x4E00;&#x4E0B;&#xFF1A;</p>
<pre><code>[me@linuxbox ~]$
</code></pre><p>First type Ctrl-r:</p>
<p>&#x9996;&#x5148;&#x8F93;&#x5165; Ctrl-r:</p>
<pre><code>(reverse-i-search)`&apos;:
</code></pre><p>The prompt changes to indicate that we are performing a reverse incremental search. It is
&#x201C;reverse&#x201D; because we are searching from &#x201C;now&#x201D; to some time in the past. Next, we start
typing our search text. In this example &#x201C;/usr/bin&#x201D;:</p>
<p>&#x63D0;&#x793A;&#x7B26;&#x6539;&#x53D8;&#xFF0C;&#x663E;&#x793A;&#x6211;&#x4EEC;&#x6B63;&#x5728;&#x6267;&#x884C;&#x53CD;&#x5411;&#x9012;&#x589E;&#x641C;&#x7D22;&#x3002;&#x641C;&#x7D22;&#x8FC7;&#x7A0B;&#x662F;&quot;&#x53CD;&#x5411;&#x7684;&quot;&#xFF0C;&#x56E0;&#x4E3A;&#x6211;&#x4EEC;&#x6309;&#x7167;&#x4ECE;&quot;&#x73B0;&#x5728;&quot;&#x5230;&#x8FC7;&#x53BB;
&#x67D0;&#x4E2A;&#x65F6;&#x95F4;&#x6BB5;&#x7684;&#x987A;&#x5E8F;&#x6765;&#x641C;&#x5BFB;&#x3002;&#x4E0B;&#x4E00;&#x6B65;&#xFF0C;&#x6211;&#x4EEC;&#x5F00;&#x59CB;&#x8F93;&#x5165;&#x8981;&#x67E5;&#x627E;&#x7684;&#x6587;&#x672C;&#x3002;&#x5728;&#x8FD9;&#x4E2A;&#x4F8B;&#x5B50;&#x91CC;&#x662F; &quot;/usr/bin&quot;&#xFF1A;</p>
<pre><code>(reverse-i-search)`/usr/bin&apos;: ls -l /usr/bin &gt; ls-output.txt
</code></pre><p>Immediately, the search returns our result. With our result, we can execute the command
by pressing Enter, or we can copy the command to our current command line for
further editing by typing Ctrl-j. Let&apos;s copy it. Type Ctrl-j:</p>
<p>&#x5373;&#x523B;&#xFF0C;&#x641C;&#x7D22;&#x8FD4;&#x56DE;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x7684;&#x7ED3;&#x679C;&#x3002;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x6267;&#x884C;&#x8FD9;&#x4E2A;&#x547D;&#x4EE4;&#xFF0C;&#x6309;&#x4E0B; Enter &#x952E;&#xFF0C;&#x6216;&#x8005;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x590D;&#x5236;
&#x8FD9;&#x4E2A;&#x547D;&#x4EE4;&#x5230;&#x6211;&#x4EEC;&#x5F53;&#x524D;&#x7684;&#x547D;&#x4EE4;&#x884C;&#xFF0C;&#x6765;&#x8FDB;&#x4E00;&#x6B65;&#x7F16;&#x8F91;&#x5B83;&#xFF0C;&#x8F93;&#x5165; Ctrl-j&#x3002;&#x590D;&#x5236;&#x5B83;&#xFF0C;&#x8F93;&#x5165; Ctrl-j&#xFF1A;</p>
<pre><code>[me@linuxbox ~]$ ls -l /usr/bin &gt; ls-output.txt
</code></pre><p>Our shell prompt returns and our command line is loaded and ready for action!
The table below lists some of the keystrokes used to manipulate the history list:</p>
<p>&#x6211;&#x4EEC;&#x7684; shell &#x63D0;&#x793A;&#x7B26;&#x91CD;&#x65B0;&#x51FA;&#x73B0;&#xFF0C;&#x547D;&#x4EE4;&#x884C;&#x52A0;&#x8F7D;&#x5B8C;&#x6BD5;&#xFF0C;&#x6B63;&#x51C6;&#x5907;&#x884C;&#x52A8;&#xFF01;&#x4E0B;&#x8868;&#x5217;&#x51FA;&#x4E86;&#x4E00;&#x4E9B;&#x6309;&#x952E;&#x7EC4;&#x5408;&#xFF0C;
&#x8FD9;&#x4E9B;&#x6309;&#x952E;&#x7528;&#x6765;&#x64CD;&#x4F5C;&#x5386;&#x53F2;&#x5217;&#x8868;&#xFF1A;</p>
<table class="multi">
<caption class="cap">Table 9-5: History Commands</caption>
<tr>
<th class="title">Key</th>
<th class="title">Action</th>
</tr>
<tr>
<td valign="top" width="25%">Ctrl-p </td>
<td valign="top">Move to the previous history entry. Same action as the up arrow.</td>
</tr>
<tr>
<td valign="top">Ctrl-n</td>
<td valign="top">Move to the next history entry. Same action as the down arrow.</td>
</tr>
<tr>
<td valign="top">Alt-&lt; </td>
<td valign="top">Move to the beginning (top) of the history list.</td>
</tr>
<tr>
<td valign="top">Alt-&gt; </td>
<td valign="top">Move to the end (bottom) of the history list, i.e., the current
command line.</td>
</tr>
<tr>
<td valign="top">Ctrl-r </td>
<td valign="top">Reverse incremental search. Searches incrementally from the
current command line up the history list.</td>
</tr>
<tr>
<td valign="top">Alt-p </td>
<td valign="top">Reverse search, non-incremental. With this key, type in the search
string and press enter before the search is performed.</td>
</tr>
<tr>
<td valign="top">Alt-n </td>
<td valign="top">Forward search, non-incremental.</td>
</tr>
<tr>
<td valign="top">Ctrl-o </td>
<td valign="top">Execute the current item in the history list and advance to the next
one. This is handy if you are trying to re-execute a sequence of
commands in the history list.</td>
</tr>
</table>
<table class="multi">
<caption class="cap">&#x8868;9-5: &#x5386;&#x53F2;&#x547D;&#x4EE4;</caption>
<tr>
<th class="title">&#x6309;&#x952E;</th>
<th class="title">&#x884C;&#x4E3A;</th>
</tr>
<tr>
<td valign="top" width="25%">Ctrl-p</td>
<td valign="top">&#x79FB;&#x52A8;&#x5230;&#x4E0A;&#x4E00;&#x4E2A;&#x5386;&#x53F2;&#x6761;&#x76EE;&#x3002;&#x7C7B;&#x4F3C;&#x4E8E;&#x4E0A;&#x7BAD;&#x5934;&#x6309;&#x952E;&#x3002;</td>
</tr>
<tr>
<td valign="top">Ctrl-n</td>
<td valign="top">&#x79FB;&#x52A8;&#x5230;&#x4E0B;&#x4E00;&#x4E2A;&#x5386;&#x53F2;&#x6761;&#x76EE;&#x3002;&#x7C7B;&#x4F3C;&#x4E8E;&#x4E0B;&#x7BAD;&#x5934;&#x6309;&#x952E;&#x3002;</td>
</tr>
<tr>
<td valign="top">Alt-&lt;</td>
<td valign="top"> &#x79FB;&#x52A8;&#x5230;&#x5386;&#x53F2;&#x5217;&#x8868;&#x5F00;&#x5934;&#x3002;</td>
</tr>
<tr>
<td valign="top">Alt-&gt;</td>
<td valign="top">&#x79FB;&#x52A8;&#x5230;&#x5386;&#x53F2;&#x5217;&#x8868;&#x7ED3;&#x5C3E;&#xFF0C;&#x5373;&#x5F53;&#x524D;&#x547D;&#x4EE4;&#x884C;&#x3002;</td>
</tr>
<tr>
<td valign="top">Ctrl-r</td>
<td valign="top">&#x53CD;&#x5411;&#x9012;&#x589E;&#x641C;&#x7D22;&#x3002;&#x4ECE;&#x5F53;&#x524D;&#x547D;&#x4EE4;&#x884C;&#x5F00;&#x59CB;&#xFF0C;&#x5411;&#x4E0A;&#x9012;&#x589E;&#x641C;&#x7D22;&#x3002;</td>
</tr>
<tr>
<td valign="top">Alt-p</td>
<td valign="top">&#x53CD;&#x5411;&#x641C;&#x7D22;&#xFF0C;&#x4E0D;&#x662F;&#x9012;&#x589E;&#x987A;&#x5E8F;&#x3002;&#x8F93;&#x5165;&#x8981;&#x67E5;&#x627E;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x7136;&#x540E;&#x6309;&#x4E0B; Enter&#xFF0C;&#x6267;&#x884C;&#x641C;&#x7D22;&#x3002;</td>
</tr>
<tr>
<td valign="top">Alt-n</td>
<td valign="top"> &#x5411;&#x524D;&#x641C;&#x7D22;&#xFF0C;&#x975E;&#x9012;&#x589E;&#x987A;&#x5E8F;&#x3002;</td>
</tr>
<tr>
<td valign="top">Ctrl-o</td>
<td valign="top">&#x6267;&#x884C;&#x5386;&#x53F2;&#x5217;&#x8868;&#x4E2D;&#x7684;&#x5F53;&#x524D;&#x9879;&#xFF0C;&#x5E76;&#x79FB;&#x5230;&#x4E0B;&#x4E00;&#x4E2A;&#x3002;&#x5982;&#x679C;&#x4F60;&#x60F3;&#x8981;&#x6267;&#x884C;&#x5386;&#x53F2;&#x5217;&#x8868;&#x4E2D;&#x4E00;&#x7CFB;&#x5217;&#x7684;&#x547D;&#x4EE4;&#xFF0C;&#x8FD9;&#x5F88;&#x65B9;&#x4FBF;&#x3002;</td>
</tr>
</table>

<h3 id="&#x5386;&#x53F2;&#x547D;&#x4EE4;&#x5C55;&#x5F00;">&#x5386;&#x53F2;&#x547D;&#x4EE4;&#x5C55;&#x5F00;</h3>
<p>The shell offers a specialized type of expansion for items in the history list by using the
&#x201C;!&#x201D; character. We have already seen how the exclamation point can be followed by a
number to insert an entry from the history list. There are a number of other expansion
features:</p>
<p>&#x901A;&#x8FC7;&#x4F7F;&#x7528; &quot;!&quot; &#x5B57;&#x7B26;&#xFF0C;shell &#x4E3A;&#x5386;&#x53F2;&#x5217;&#x8868;&#x4E2D;&#x7684;&#x547D;&#x4EE4;&#xFF0C;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A;&#x7279;&#x6B8A;&#x7684;&#x5C55;&#x5F00;&#x7C7B;&#x578B;&#x3002;&#x6211;&#x4EEC;&#x5DF2;&#x7ECF;&#x77E5;&#x9053;&#x4E00;&#x4E2A;&#x611F;&#x53F9;&#x53F7;
&#xFF0C;&#x5176;&#x540E;&#x518D;&#x52A0;&#x4E0A;&#x4E00;&#x4E2A;&#x6570;&#x5B57;&#xFF0C;&#x53EF;&#x4EE5;&#x628A;&#x6765;&#x81EA;&#x5386;&#x53F2;&#x5217;&#x8868;&#x4E2D;&#x7684;&#x547D;&#x4EE4;&#x63D2;&#x5165;&#x5230;&#x547D;&#x4EE4;&#x884C;&#x4E2D;&#x3002;&#x8FD8;&#x6709;&#x4E00;&#x4E9B;&#x5176;&#x5B83;&#x7684;&#x5C55;&#x5F00;&#x7279;&#x6027;&#xFF1A;</p>
<table class="multi">
<caption class="cap">Table 9-6: History Expansion Commands</caption>
<tr>
<th class="title">Sequence</th>
<th class="title">Action</th>
</tr>
<tr>
<td valign="top" width="25%">!!</td>
<td valign="top">Repeat the last command. It is probably easier to press up arrow and enter.</td>
</tr>
<tr>
<td valign="top">!number</td>
<td valign="top">Repeat history list item number.</td>
</tr>
<tr>
<td valign="top">!string</td>
<td valign="top">Repeat last history list item starting with string.</td>
</tr>
<tr>
<td valign="top">!?string</td>
<td valign="top">Repeat last history list item containing string.</td>
</tr>
</table>

<table class="multi">
<caption class="cap">&#x8868;9-6: &#x5386;&#x53F2;&#x5C55;&#x5F00;&#x547D;&#x4EE4; </caption>
<tr>
<th class="title">&#x5E8F;&#x5217;</th>
<th class="title">&#x884C;&#x4E3A;</th>
</tr>
<tr>
<td valign="top" width="25%">!!</td>
<td valign="top">&#x91CD;&#x590D;&#x6700;&#x540E;&#x4E00;&#x6B21;&#x6267;&#x884C;&#x7684;&#x547D;&#x4EE4;&#x3002;&#x53EF;&#x80FD;&#x6309;&#x4E0B;&#x4E0A;&#x7BAD;&#x5934;&#x6309;&#x952E;&#x548C; enter &#x952E;&#x66F4;&#x5BB9;&#x6613;&#x4E9B;&#x3002;</td>
</tr>
<tr>
<td valign="top">!number</td>
<td valign="top">&#x91CD;&#x590D;&#x5386;&#x53F2;&#x5217;&#x8868;&#x4E2D;&#x7B2C; number &#x884C;&#x7684;&#x547D;&#x4EE4;&#x3002;</td>
</tr>
<tr>
<td valign="top">!string</td>
<td valign="top">&#x91CD;&#x590D;&#x6700;&#x8FD1;&#x5386;&#x53F2;&#x5217;&#x8868;&#x4E2D;&#xFF0C;&#x4EE5;&#x8FD9;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#x5F00;&#x5934;&#x7684;&#x547D;&#x4EE4;&#x3002;</td>
</tr>
<tr>
<td valign="top">!?string</td>
<td valign="top">&#x91CD;&#x590D;&#x6700;&#x8FD1;&#x5386;&#x53F2;&#x5217;&#x8868;&#x4E2D;&#xFF0C;&#x5305;&#x542B;&#x8FD9;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x547D;&#x4EE4;&#x3002;</td>
</tr>
</table>

<p>I would caution against using the &#x201C;!string&#x201D; and &#x201C;!?string&#x201D; forms unless you are absolutely
sure of the contents of the history list items.</p>
<p>&#x5E94;&#x8BE5;&#x5C0F;&#x5FC3;&#x8C28;&#x614E;&#x5730;&#x4F7F;&#x7528; &quot;!string&quot; &#x548C; &quot;!?string&quot; &#x683C;&#x5F0F;&#xFF0C;&#x9664;&#x975E;&#x4F60;&#x5B8C;&#x5168;&#x786E;&#x4FE1;&#x5386;&#x53F2;&#x5217;&#x8868;&#x6761;&#x76EE;&#x7684;&#x5185;&#x5BB9;&#x3002;</p>
<p>There are many more elements available in the history expansion mechanism, but this
subject is already too arcane and our heads may explode if we continue. The HISTORY
EXPANSION section of the bash man page goes into all the gory details. Feel free to
explore!</p>
<p>&#x5728;&#x5386;&#x53F2;&#x5C55;&#x5F00;&#x673A;&#x5236;&#x4E2D;&#xFF0C;&#x8FD8;&#x6709;&#x8BB8;&#x591A;&#x53EF;&#x5229;&#x7528;&#x7684;&#x7279;&#x70B9;&#xFF0C;&#x4F46;&#x662F;&#x8FD9;&#x4E2A;&#x9898;&#x76EE;&#x5DF2;&#x7ECF;&#x592A;&#x6666;&#x6DA9;&#x96BE;&#x61C2;&#x4E86;&#xFF0C;
&#x5982;&#x679C;&#x6211;&#x4EEC;&#x518D;&#x7EE7;&#x7EED;&#x8BA8;&#x8BBA;&#x7684;&#x8BDD;&#xFF0C;&#x6211;&#x4EEC;&#x7684;&#x5934;&#x53EF;&#x80FD;&#x8981;&#x7206;&#x70B8;&#x4E86;&#x3002;bash &#x624B;&#x518C;&#x9875;&#x7684; HISTORY EXPANSION
&#x90E8;&#x5206;&#x8BE6;&#x5C3D;&#x5730;&#x8BB2;&#x8FF0;&#x4E86;&#x6240;&#x6709;&#x8981;&#x7D20;&#x3002;</p>
<blockquote>
<p>script</p>
<p>&#x811A;&#x672C;</p>
<p>In addition to the command history feature in bash, most Linux distributions
include a program called script that can be used to record an entire shell
session and store it in a file. The basic syntax of the command is:</p>
<p>&#x9664;&#x4E86; bash &#x4E2D;&#x7684;&#x547D;&#x4EE4;&#x5386;&#x53F2;&#x7279;&#x6027;&#xFF0C;&#x8BB8;&#x591A; Linux &#x53D1;&#x884C;&#x7248;&#x5305;&#x62EC;&#x4E00;&#x4E2A;&#x53EB;&#x505A; script &#x7684;&#x7A0B;&#x5E8F;&#xFF0C;
&#x8FD9;&#x4E2A;&#x7A0B;&#x5E8F;&#x53EF;&#x4EE5;&#x8BB0;&#x5F55;&#x6574;&#x4E2A; shell &#x4F1A;&#x8BDD;&#xFF0C;&#x5E76;&#x628A; shell
&#x4F1A;&#x8BDD;&#x5B58;&#x5728;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x91CC;&#x9762;&#x3002;&#x8FD9;&#x4E2A;&#x547D;&#x4EE4;&#x7684;&#x57FA;&#x672C;&#x8BED;&#x6CD5;&#x662F;&#xFF1A;</p>
<p> <em>script [file]</em></p>
<p>where file is the name of the file used for storing the recording. If no
file is specified, the file typescript is used. See the script man page for a
complete list of the program&#x2019;s options and features.</p>
<p>&#x547D;&#x4EE4;&#x4E2D;&#x7684; file &#x662F;&#x6307;&#x7528;&#x6765;&#x5B58;&#x50A8; shell &#x4F1A;&#x8BDD;&#x8BB0;&#x5F55;&#x7684;&#x6587;&#x4EF6;&#x540D;&#x3002;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x6307;&#x5B9A;&#x6587;&#x4EF6;&#x540D;&#xFF0C;&#x5219;&#x4F7F;&#x7528;&#x6587;&#x4EF6;
typescript&#x3002;&#x67E5;&#x770B;&#x811A;&#x672C;&#x7684;&#x624B;&#x518C;&#x9875;&#xFF0C;&#x53EF;&#x4EE5;&#x5F97;&#x5230;&#x4E00;&#x4E2A;&#x5173;&#x4E8E; script &#x7A0B;&#x5E8F;&#x9009;&#x9879;&#x548C;&#x7279;&#x70B9;&#x7684;&#x5B8C;&#x6574;&#x5217;&#x8868;&#x3002;</p>
</blockquote>
<h3 id="&#x603B;&#x7ED3;&#x5F52;&#x7EB3;">&#x603B;&#x7ED3;&#x5F52;&#x7EB3;</h3>
<p>In this chapter we have covered some of the keyboard tricks that the shell provides to
help hardcore typists reduce their workloads. I suspect that as time goes by and you
become more involved with the command line, you will refer back to this chapter to pick
up more of these tricks. For now, consider them optional and potentially helpful.</p>
<p>&#x5728;&#x8FD9;&#x4E00;&#x7AE0;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x5DF2;&#x7ECF;&#x8BA8;&#x8BBA;&#x4E86;&#x4E00;&#x4E9B;&#x7531; shell &#x63D0;&#x4F9B;&#x7684;&#x952E;&#x76D8;&#x64CD;&#x4F5C;&#x6280;&#x5DE7;&#xFF0C;&#x8FD9;&#x4E9B;&#x6280;&#x5DE7;&#x662F;&#x6765;&#x5E2E;&#x52A9;&#x6253;&#x5B57;&#x5458;&#x51CF;&#x5C11;&#x5DE5;&#x4F5C;&#x91CF;&#x7684;&#x3002;
&#x968F;&#x7740;&#x65F6;&#x5149;&#x6D41;&#x901D;&#xFF0C;&#x4F60;&#x548C;&#x547D;&#x4EE4;&#x884C;&#x6253;&#x4EA4;&#x9053;&#x8D8A;&#x6765;&#x8D8A;&#x591A;&#xFF0C;&#x6211;&#x731C;&#x60F3;&#x4F60;&#x4F1A;&#x91CD;&#x65B0;&#x7FFB;&#x9605;&#x8FD9;&#x4E00;&#x7AE0;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x5B66;&#x4F1A;&#x66F4;&#x591A;&#x7684;&#x6280;&#x5DE7;&#x3002;
&#x76EE;&#x524D;&#xFF0C;&#x4F60;&#x5C31;&#x8BA4;&#x4E3A;&#x5B83;&#x4EEC;&#x662F;&#x53EF;&#x9009;&#x7684;&#xFF0C;&#x6F5C;&#x5728;&#x5730;&#x6709;&#x5E2E;&#x52A9;&#x7684;&#x3002;</p>
<h3 id="&#x62D3;&#x5C55;&#x9605;&#x8BFB;">&#x62D3;&#x5C55;&#x9605;&#x8BFB;</h3>
<ul>
<li><p>The Wikipedia has a good article on computer terminals:</p>
</li>
<li><p>Wikipedia &#x4E0A;&#x6709;&#x4E00;&#x7BC7;&#x5173;&#x4E8E;&#x8BA1;&#x7B97;&#x673A;&#x7EC8;&#x7AEF;&#x7684;&#x597D;&#x6587;&#x7AE0;&#xFF1A;</p>
<p>  <a href="http://en.wikipedia.org/wiki/Computer_terminal" target="_blank">http://en.wikipedia.org/wiki/Computer_terminal</a></p>
</li>
</ul>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="chap08.html" class="navigation navigation-prev " aria-label="Previous page: 08. 从 shell 眼中看世界">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="chap10.html" class="navigation navigation-next " aria-label="Next page: 10. 权限">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"layout":"book","title":"09. 键盘高级操作技巧","level":"1.1.9","depth":2,"next":{"title":"10. 权限","level":"1.1.10","depth":2,"path":"chap10.md","ref":"chap10.md","articles":[]},"previous":{"title":"08. 从 shell 眼中看世界","level":"1.1.8","depth":2,"path":"chap08.md","ref":"chap08.md","articles":[]},"dir":"ltr"},"config":{"plugins":[],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"language":"en","gitbook":"*"},"file":{"path":"chap09.md","mtime":"2017-01-12T13:05:37.000Z","type":"markdown"},"gitbook":{"version":"3.2.2","time":"2017-01-12T13:06:00.166Z"},"basePath":".","book":{"language":"en"}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

