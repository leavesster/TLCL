
<!DOCTYPE HTML>
<html lang="en" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>35. 字符串和数字 · GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.2">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="chap36.html" />
    
    
    <link rel="prev" href="chap34.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                    Introduction
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.1" data-path="chap01.html">
            
                <a href="chap01.html">
            
                    
                    01. 引言
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.2" data-path="chap02.html">
            
                <a href="chap02.html">
            
                    
                    02. 什么是 shell
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.3" data-path="chap03.html">
            
                <a href="chap03.html">
            
                    
                    03. 文件系统中跳转
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.4" data-path="chap04.html">
            
                <a href="chap04.html">
            
                    
                    04. 探究操作系统
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.5" data-path="chap05.html">
            
                <a href="chap05.html">
            
                    
                    05. 操作文件和目录
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.6" data-path="chap06.html">
            
                <a href="chap06.html">
            
                    
                    06. 使用命令
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.7" data-path="chap07.html">
            
                <a href="chap07.html">
            
                    
                    07. 重定向
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.8" data-path="chap08.html">
            
                <a href="chap08.html">
            
                    
                    08. 从 shell 眼中看世界
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.9" data-path="chap09.html">
            
                <a href="chap09.html">
            
                    
                    09. 键盘高级操作技巧
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.10" data-path="chap10.html">
            
                <a href="chap10.html">
            
                    
                    10. 权限
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.11" data-path="chap11.html">
            
                <a href="chap11.html">
            
                    
                    11. 进程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.12" data-path="chap12.html">
            
                <a href="chap12.html">
            
                    
                    12. shell 环境
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.13" data-path="chap13.html">
            
                <a href="chap13.html">
            
                    
                    13. vi 简介
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.14" data-path="chap14.html">
            
                <a href="chap14.html">
            
                    
                    14. 自定制 shell 提示符
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.15" data-path="chap15.html">
            
                <a href="chap15.html">
            
                    
                    15. 软件包管理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.16" data-path="chap16.html">
            
                <a href="chap16.html">
            
                    
                    16. 存储媒介
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.17" data-path="chap17.html">
            
                <a href="chap17.html">
            
                    
                    17. 网络系统
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.18" data-path="chap18.html">
            
                <a href="chap18.html">
            
                    
                    18. 查找文件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.19" data-path="chap19.html">
            
                <a href="chap19.html">
            
                    
                    19. 归档和备份
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.20" data-path="chap20.html">
            
                <a href="chap20.html">
            
                    
                    20. 正则表达式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.21" data-path="chap21.html">
            
                <a href="chap21.html">
            
                    
                    21. 文本处理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.22" data-path="chap22.html">
            
                <a href="chap22.html">
            
                    
                    22. 格式化输出
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.23" data-path="chap23.html">
            
                <a href="chap23.html">
            
                    
                    23. 打印
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.24" data-path="chap24.html">
            
                <a href="chap24.html">
            
                    
                    24. 编译程序
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.25" data-path="chap25.html">
            
                <a href="chap25.html">
            
                    
                    25. 编写第一个 Shell 脚本
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.26" data-path="chap26.html">
            
                <a href="chap26.html">
            
                    
                    26. 启动一个项目
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.27" data-path="chap27.html">
            
                <a href="chap27.html">
            
                    
                    27. 自顶向下设计
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.28" data-path="chap28.html">
            
                <a href="chap28.html">
            
                    
                    28. 流程控制：if 分支结构
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.29" data-path="chap29.html">
            
                <a href="chap29.html">
            
                    
                    29. 读取键盘输入
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.30" data-path="chap30.html">
            
                <a href="chap30.html">
            
                    
                    30. 流程控制：while/until 循环
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.31" data-path="chap31.html">
            
                <a href="chap31.html">
            
                    
                    31. 疑难排解
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.32" data-path="chap32.html">
            
                <a href="chap32.html">
            
                    
                    32. 流程控制：case 分支
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.33" data-path="chap33.html">
            
                <a href="chap33.html">
            
                    
                    33. 位置参数
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.34" data-path="chap34.html">
            
                <a href="chap34.html">
            
                    
                    34. 流程控制：for 循环
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.1.35" data-path="chap35.html">
            
                <a href="chap35.html">
            
                    
                    35. 字符串和数字
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.36" data-path="chap36.html">
            
                <a href="chap36.html">
            
                    
                    36. 数组
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.37" data-path="chap37.html">
            
                <a href="chap37.html">
            
                    
                    37. 奇珍异宝
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >35. 字符串和数字</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <p>Computer programs are all about working with data. In past chapters, we have focused on
processing data at the file level. However, many programming problems need to be
solved using smaller units of data such as strings and numbers.</p>
<p>&#x6240;&#x6709;&#x7684;&#x8BA1;&#x7B97;&#x673A;&#x7A0B;&#x5E8F;&#x90FD;&#x662F;&#x7528;&#x6765;&#x548C;&#x6570;&#x636E;&#x6253;&#x4EA4;&#x9053;&#x7684;&#x3002;&#x5728;&#x8FC7;&#x53BB;&#x7684;&#x7AE0;&#x8282;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x4E13;&#x6CE8;&#x4E8E;&#x5904;&#x7406;&#x6587;&#x4EF6;&#x7EA7;&#x522B;&#x7684;&#x6570;&#x636E;&#x3002;
&#x7136;&#x800C;&#xFF0C;&#x8BB8;&#x591A;&#x7F16;&#x7A0B;&#x95EE;&#x9898;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x66F4;&#x5C0F;&#x7684;&#x6570;&#x636E;&#x5355;&#x4F4D;&#x6765;&#x89E3;&#x51B3;&#xFF0C;&#x6BD4;&#x65B9;&#x8BF4;&#x5B57;&#x7B26;&#x4E32;&#x548C;&#x6570;&#x5B57;&#x3002;</p>
<p>In this chapter, we will look at several shell features that are used to manipulate strings
and numbers. The shell provides a variety of parameter expansions that perform string
operations. In addition to arithmetic expansion (which we touched upon in Chapter 7),
there is a common command line program called bc, which performs higher level math.</p>
<p>&#x5728;&#x8FD9;&#x4E00;&#x7AE0;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;&#x67E5;&#x770B;&#x51E0;&#x4E2A;&#x7528;&#x6765;&#x64CD;&#x4F5C;&#x5B57;&#x7B26;&#x4E32;&#x548C;&#x6570;&#x5B57;&#x7684; shell &#x529F;&#x80FD;&#x3002;shell &#x63D0;&#x4F9B;&#x4E86;&#x5404;&#x79CD;&#x6267;&#x884C;&#x5B57;&#x7B26;&#x4E32;&#x64CD;&#x4F5C;&#x7684;&#x53C2;&#x6570;&#x5C55;&#x5F00;&#x529F;&#x80FD;&#x3002;
&#x9664;&#x4E86;&#x7B97;&#x672F;&#x5C55;&#x5F00;&#xFF08;&#x5728;&#x7B2C;&#x4E03;&#x7AE0;&#x4E2D;&#x63A5;&#x89E6;&#x8FC7;&#xFF09;&#xFF0C;&#x8FD8;&#x6709;&#x4E00;&#x4E2A;&#x5E38;&#x89C1;&#x7684;&#x547D;&#x4EE4;&#x884C;&#x7A0B;&#x5E8F;&#x53EB;&#x505A; bc&#xFF0C;&#x80FD;&#x6267;&#x884C;&#x66F4;&#x9AD8;&#x7EA7;&#x522B;&#x7684;&#x6570;&#x5B66;&#x8FD0;&#x7B97;&#x3002;</p>
<h3 id="&#x53C2;&#x6570;&#x5C55;&#x5F00;">&#x53C2;&#x6570;&#x5C55;&#x5F00;</h3>
<p>Though parameter expansion came up in Chapter 7, we did not cover it in detail because
most parameter expansions are used in scripts rather than on the command line. We have
already worked with some forms of parameter expansion; for example, shell variables.
The shell provides many more.</p>
<p>&#x5C3D;&#x7BA1;&#x53C2;&#x6570;&#x5C55;&#x5F00;&#x5728;&#x7B2C;&#x4E03;&#x7AE0;&#x4E2D;&#x51FA;&#x73B0;&#x8FC7;&#xFF0C;&#x4F46;&#x6211;&#x4EEC;&#x5E76;&#x6CA1;&#x6709;&#x8BE6;&#x5C3D;&#x5730;&#x4ECB;&#x7ECD;&#x5B83;&#xFF0C;&#x56E0;&#x4E3A;&#x5927;&#x591A;&#x6570;&#x7684;&#x53C2;&#x6570;&#x5C55;&#x5F00;&#x4F1A;&#x7528;&#x5728;&#x811A;&#x672C;&#x4E2D;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x547D;&#x4EE4;&#x884C;&#x4E2D;&#x3002;
&#x6211;&#x4EEC;&#x5DF2;&#x7ECF;&#x4F7F;&#x7528;&#x4E86;&#x4E00;&#x4E9B;&#x5F62;&#x5F0F;&#x7684;&#x53C2;&#x6570;&#x5C55;&#x5F00;&#xFF1B;&#x4F8B;&#x5982;&#xFF0C;shell &#x53D8;&#x91CF;&#x3002;shell &#x63D0;&#x4F9B;&#x4E86;&#x66F4;&#x591A;&#x65B9;&#x5F0F;&#x3002;</p>
<h4 id="&#x57FA;&#x672C;&#x53C2;&#x6570;">&#x57FA;&#x672C;&#x53C2;&#x6570;</h4>
<p>The simplest form of parameter expansion is reflected in the ordinary use of variables.</p>
<p>&#x6700;&#x7B80;&#x5355;&#x7684;&#x53C2;&#x6570;&#x5C55;&#x5F00;&#x5F62;&#x5F0F;&#x53CD;&#x6620;&#x5728;&#x5E73;&#x5E38;&#x4F7F;&#x7528;&#x7684;&#x53D8;&#x91CF;&#x4E0A;&#x3002;</p>
<p>For example:</p>
<p>&#x4F8B;&#x5982;&#xFF1A;</p>
<p><em>$a</em></p>
<p>when expanded, becomes whatever the variable a contains. Simple parameters may also
be surrounded by braces:</p>
<p>&#x5F53; $a &#x5C55;&#x5F00;&#x540E;&#xFF0C;&#x4F1A;&#x53D8;&#x6210;&#x53D8;&#x91CF; a &#x6240;&#x5305;&#x542B;&#x7684;&#x503C;&#x3002;&#x7B80;&#x5355;&#x53C2;&#x6570;&#x4E5F;&#x53EF;&#x80FD;&#x7528;&#x82B1;&#x62EC;&#x53F7;&#x5F15;&#x8D77;&#x6765;&#xFF1A;</p>
<p><em>${a}</em></p>
<p>This has no effect on the expansion, but is required if the variable is adjacent to other
text, which may confuse the shell. In this example, we attempt to create a filename by ap-
pending the string &#x201C;_file&#x201D; to the contents of the variable a.</p>
<p>&#x867D;&#x7136;&#x8FD9;&#x5BF9;&#x5C55;&#x5F00;&#x6CA1;&#x6709;&#x5F71;&#x54CD;&#xFF0C;&#x4F46;&#x82E5;&#x8BE5;&#x53D8;&#x91CF; a &#x4E0E;&#x5176;&#x5B83;&#x7684;&#x6587;&#x672C;&#x76F8;&#x90BB;&#xFF0C;&#x53EF;&#x80FD;&#x4F1A;&#x628A; shell &#x641E;&#x7CCA;&#x6D82;&#x4E86;&#x3002;&#x5728;&#x8FD9;&#x4E2A;&#x4F8B;&#x5B50;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x8BD5;&#x56FE;
&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x540D;&#xFF0C;&#x901A;&#x8FC7;&#x628A;&#x5B57;&#x7B26;&#x4E32; &#x201C;_file&#x201D; &#x9644;&#x52A0;&#x5230;&#x53D8;&#x91CF; a &#x7684;&#x503C;&#x7684;&#x540E;&#x9762;&#x3002;</p>
<pre><code>[me@linuxbox ~]$ a=&quot;foo&quot;
[me@linuxbox ~]$ echo &quot;$a_file&quot;
</code></pre><p>If we perform this sequence, the result will be nothing, because the shell will try to ex-
pand a variable named a_file rather than a. This problem can be solved by adding
braces:</p>
<p>&#x5982;&#x679C;&#x6211;&#x4EEC;&#x6267;&#x884C;&#x8FD9;&#x4E2A;&#x5E8F;&#x5217;&#xFF0C;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x8F93;&#x51FA;&#x7ED3;&#x679C;&#xFF0C;&#x56E0;&#x4E3A; shell &#x4F1A;&#x8BD5;&#x7740;&#x5C55;&#x5F00;&#x4E00;&#x4E2A;&#x79F0;&#x4E3A; a_file &#x7684;&#x53D8;&#x91CF;&#xFF0C;&#x800C;&#x4E0D;&#x662F; a&#x3002;&#x901A;&#x8FC7;
&#x6DFB;&#x52A0;&#x82B1;&#x62EC;&#x53F7;&#x53EF;&#x4EE5;&#x89E3;&#x51B3;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#xFF1A;</p>
<pre><code>[me@linuxbox ~]$ echo &quot;${a}_file&quot;
foo_file
</code></pre><p>We have also seen that positional parameters greater than 9 can be accessed by surround-
ing the number in braces. For example, to access the eleventh positional parameter, we
can do this:</p>
<p>&#x6211;&#x4EEC;&#x5DF2;&#x7ECF;&#x77E5;&#x9053;&#x901A;&#x8FC7;&#x628A;&#x6570;&#x5B57;&#x5305;&#x88F9;&#x5728;&#x82B1;&#x62EC;&#x53F7;&#x4E2D;&#xFF0C;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE;&#x5927;&#x4E8E;9&#x7684;&#x4F4D;&#x7F6E;&#x53C2;&#x6570;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x8BBF;&#x95EE;&#x7B2C;&#x5341;&#x4E00;&#x4E2A;&#x4F4D;&#x7F6E;&#x53C2;&#x6570;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x8FD9;&#x6837;&#x505A;&#xFF1A;</p>
<p><em>${11}</em></p>
<h4 id="&#x7BA1;&#x7406;&#x7A7A;&#x53D8;&#x91CF;&#x7684;&#x5C55;&#x5F00;">&#x7BA1;&#x7406;&#x7A7A;&#x53D8;&#x91CF;&#x7684;&#x5C55;&#x5F00;</h4>
<p>Several parameter expansions deal with nonexistent and empty variables. These expan-
sions are handy for handling missing positional parameters and assigning default values
to parameters.</p>
<p>&#x51E0;&#x79CD;&#x7528;&#x6765;&#x5904;&#x7406;&#x4E0D;&#x5B58;&#x5728;&#x548C;&#x7A7A;&#x53D8;&#x91CF;&#x7684;&#x53C2;&#x6570;&#x5C55;&#x5F00;&#x5F62;&#x5F0F;&#x3002;&#x8FD9;&#x4E9B;&#x5C55;&#x5F00;&#x5F62;&#x5F0F;&#x5BF9;&#x4E8E;&#x89E3;&#x51B3;&#x4E22;&#x5931;&#x7684;&#x4F4D;&#x7F6E;&#x53C2;&#x6570;&#x548C;&#x7ED9;&#x53C2;&#x6570;&#x6307;&#x5B9A;&#x9ED8;&#x8BA4;&#x503C;&#x7684;&#x60C5;&#x51B5;&#x5F88;&#x65B9;&#x4FBF;&#x3002;</p>
<p><em>${parameter:-word}</em></p>
<p>If parameter is unset (i.e., does not exist) or is empty, this expansion results in the value
of word. If parameter is not empty, the expansion results in the value of parameter.</p>
<p>&#x82E5; parameter &#x6CA1;&#x6709;&#x8BBE;&#x7F6E;&#xFF08;&#x4F8B;&#x5982;&#xFF0C;&#x4E0D;&#x5B58;&#x5728;&#xFF09;&#x6216;&#x8005;&#x4E3A;&#x7A7A;&#xFF0C;&#x5C55;&#x5F00;&#x7ED3;&#x679C;&#x662F; word &#x7684;&#x503C;&#x3002;&#x82E5; parameter &#x4E0D;&#x4E3A;&#x7A7A;&#xFF0C;&#x5219;&#x5C55;&#x5F00;&#x7ED3;&#x679C;&#x662F; parameter &#x7684;&#x503C;&#x3002;</p>
<pre><code>[me@linuxbox ~]$ foo=
[me@linuxbox ~]$ echo ${foo:-&quot;substitute value if unset&quot;}
if unset
substitute value
[me@linuxbox ~]$ echo $foo
[me@linuxbox ~]$ foo=bar
[me@linuxbox ~]$ echo ${foo:-&quot;substitute value if unset&quot;}
bar
[me@linuxbox ~]$ echo $foo
bar
</code></pre><p><em>${parameter:=word}</em></p>
<p>If parameter is unset or empty, this expansion results in the value of word. In addition,
the value of word is assigned to parameter. If parameter is not empty, the expansion re-
sults in the value of parameter.</p>
<p>&#x82E5; parameter &#x6CA1;&#x6709;&#x8BBE;&#x7F6E;&#x6216;&#x4E3A;&#x7A7A;&#xFF0C;&#x5C55;&#x5F00;&#x7ED3;&#x679C;&#x662F; word &#x7684;&#x503C;&#x3002;&#x53E6;&#x5916;&#xFF0C;word &#x7684;&#x503C;&#x4F1A;&#x8D4B;&#x503C;&#x7ED9; parameter&#x3002;
&#x82E5; parameter &#x4E0D;&#x4E3A;&#x7A7A;&#xFF0C;&#x5C55;&#x5F00;&#x7ED3;&#x679C;&#x662F; parameter &#x7684;&#x503C;&#x3002;</p>
<pre><code>[me@linuxbox ~]$ foo=
[me@linuxbox ~]$ echo ${foo:=&quot;default value if unset&quot;}
default value if unset
[me@linuxbox ~]$ echo $foo
default value if unset
[me@linuxbox ~]$ foo=bar
[me@linuxbox ~]$ echo ${foo:=&quot;default value if unset&quot;}
bar
[me@linuxbox ~]$ echo $foo
bar
</code></pre><hr>
<p>Note: Positional and other special parameters cannot be assigned this way.</p>
<p>&#x6CE8;&#x610F;&#xFF1A; &#x4F4D;&#x7F6E;&#x53C2;&#x6570;&#x6216;&#x5176;&#x5B83;&#x7684;&#x7279;&#x6B8A;&#x53C2;&#x6570;&#x4E0D;&#x80FD;&#x4EE5;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x8D4B;&#x503C;&#x3002;</p>
<hr>
<p><em>${parameter:?word}</em></p>
<p>If parameter is unset or empty, this expansion causes the script to exit with an error, and
the contents of word are sent to standard error. If parameter is not empty, the expansion
results in the value of parameter.</p>
<p>&#x82E5; parameter &#x6CA1;&#x6709;&#x8BBE;&#x7F6E;&#x6216;&#x4E3A;&#x7A7A;&#xFF0C;&#x8FD9;&#x79CD;&#x5C55;&#x5F00;&#x5BFC;&#x81F4;&#x811A;&#x672C;&#x5E26;&#x6709;&#x9519;&#x8BEF;&#x9000;&#x51FA;&#xFF0C;&#x5E76;&#x4E14; word &#x7684;&#x5185;&#x5BB9;&#x4F1A;&#x53D1;&#x9001;&#x5230;&#x6807;&#x51C6;&#x9519;&#x8BEF;&#x3002;&#x82E5; parameter &#x4E0D;&#x4E3A;&#x7A7A;&#xFF0C;
&#x5C55;&#x5F00;&#x7ED3;&#x679C;&#x662F; parameter &#x7684;&#x503C;&#x3002;</p>
<pre><code>[me@linuxbox ~]$ foo=
[me@linuxbox ~]$ echo ${foo:?&quot;parameter is empty&quot;}
bash: foo: parameter is empty
[me@linuxbox ~]$ echo $?
1
[me@linuxbox ~]$ foo=bar
[me@linuxbox ~]$ echo ${foo:?&quot;parameter is empty&quot;}
bar
[me@linuxbox ~]$ echo $?
0
</code></pre><p><em>${parameter:+word}</em></p>
<p>If parameter is unset or empty, the expansion results in nothing. If parameter is not
empty, the value of word is substituted for parameter; however, the value of parameter is
not changed.</p>
<p>&#x82E5; parameter &#x6CA1;&#x6709;&#x8BBE;&#x7F6E;&#x6216;&#x4E3A;&#x7A7A;&#xFF0C;&#x5C55;&#x5F00;&#x7ED3;&#x679C;&#x4E3A;&#x7A7A;&#x3002;&#x82E5; parameter &#x4E0D;&#x4E3A;&#x7A7A;&#xFF0C;
&#x5C55;&#x5F00;&#x7ED3;&#x679C;&#x662F; word &#x7684;&#x503C;&#x4F1A;&#x66FF;&#x6362;&#x6389; parameter &#x7684;&#x503C;&#xFF1B;&#x7136;&#x800C;&#xFF0C;parameter &#x7684;&#x503C;&#x4E0D;&#x4F1A;&#x6539;&#x53D8;&#x3002;</p>
<pre><code>[me@linuxbox ~]$ foo=
[me@linuxbox ~]$ echo ${foo:+&quot;substitute value if set&quot;}

[me@linuxbox ~]$ foo=bar
[me@linuxbox ~]$ echo ${foo:+&quot;substitute value if set&quot;}
substitute value if set
</code></pre><h3 id="&#x8FD4;&#x56DE;&#x53D8;&#x91CF;&#x540D;&#x7684;&#x53C2;&#x6570;&#x5C55;&#x5F00;">&#x8FD4;&#x56DE;&#x53D8;&#x91CF;&#x540D;&#x7684;&#x53C2;&#x6570;&#x5C55;&#x5F00;</h3>
<p>The shell has the ability to return the names of variables. This is
used in some rather exotic situations.</p>
<p>shell &#x5177;&#x6709;&#x8FD4;&#x56DE;&#x53D8;&#x91CF;&#x540D;&#x7684;&#x80FD;&#x529B;&#x3002;&#x8FD9;&#x4F1A;&#x7528;&#x5728;&#x4E00;&#x4E9B;&#x76F8;&#x5F53;&#x72EC;&#x7279;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x3002;</p>
<p><em>${!prefix*}</em></p>
<p><em>${!prefix@}</em></p>
<p>This expansion returns the names of existing variables with names beginning with prefix.
According to the bash documentation, both forms of the expansion perform identically.
Here, we list all the variables in the environment with names that begin with BASH:</p>
<p>&#x8FD9;&#x79CD;&#x5C55;&#x5F00;&#x4F1A;&#x8FD4;&#x56DE;&#x4EE5; prefix &#x5F00;&#x5934;&#x7684;&#x5DF2;&#x6709;&#x53D8;&#x91CF;&#x540D;&#x3002;&#x6839;&#x636E; bash &#x6587;&#x6863;&#xFF0C;&#x8FD9;&#x4E24;&#x79CD;&#x5C55;&#x5F00;&#x5F62;&#x5F0F;&#x7684;&#x6267;&#x884C;&#x7ED3;&#x679C;&#x76F8;&#x540C;&#x3002;
&#x8FD9;&#x91CC;&#xFF0C;&#x6211;&#x4EEC;&#x5217;&#x51FA;&#x4E86;&#x6240;&#x6709;&#x4EE5; BASH &#x5F00;&#x5934;&#x7684;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x540D;&#xFF1A;</p>
<pre><code>[me@linuxbox ~]$ echo ${!BASH*}
BASH BASH_ARGC BASH_ARGV BASH_COMMAND BASH_COMPLETION
BASH_COMPLETION_DIR BASH_LINENO BASH_SOURCE BASH_SUBSHELL
BASH_VERSINFO BASH_VERSION
</code></pre><h4 id="&#x5B57;&#x7B26;&#x4E32;&#x5C55;&#x5F00;">&#x5B57;&#x7B26;&#x4E32;&#x5C55;&#x5F00;</h4>
<p>There is a large set of expansions that can be used to operate on strings. Many of these
expansions are particularly well suited for operations on pathnames.</p>
<p>&#x6709;&#x5927;&#x91CF;&#x7684;&#x5C55;&#x5F00;&#x5F62;&#x5F0F;&#x53EF;&#x7528;&#x4E8E;&#x64CD;&#x4F5C;&#x5B57;&#x7B26;&#x4E32;&#x3002;&#x5176;&#x4E2D;&#x8BB8;&#x591A;&#x5C55;&#x5F00;&#x5F62;&#x5F0F;&#x5C24;&#x5176;&#x9002;&#x7528;&#x4E8E;&#x8DEF;&#x5F84;&#x540D;&#x7684;&#x5C55;&#x5F00;&#x3002;</p>
<p><em>${#parameter}</em></p>
<p>expands into the length of the string contained by parameter. Normally, parameter is a
string; however, if parameter is either @ or *, then the expansion results in the number of
positional parameters.</p>
<p>&#x5C55;&#x5F00;&#x6210;&#x7531; parameter &#x6240;&#x5305;&#x542B;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x957F;&#x5EA6;&#x3002;&#x901A;&#x5E38;&#xFF0C;parameter &#x662F;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#xFF1B;&#x7136;&#x800C;&#xFF0C;&#x5982;&#x679C; parameter &#x662F; @ &#x6216;&#x8005;&#x662F; * &#x7684;&#x8BDD;&#xFF0C;
&#x5219;&#x5C55;&#x5F00;&#x7ED3;&#x679C;&#x662F;&#x4F4D;&#x7F6E;&#x53C2;&#x6570;&#x7684;&#x4E2A;&#x6570;&#x3002;</p>
<pre><code>[me@linuxbox ~]$ foo=&quot;This string is long.&quot;
[me@linuxbox ~]$ echo &quot;&apos;$foo&apos; is ${#foo} characters long.&quot;
&apos;This string is long.&apos; is 20 characters long.
</code></pre><p><em>${parameter:offset}</em></p>
<p><em>${parameter:offset:length}</em></p>
<p>These expansions are used to extract a portion of the string contained in parameter. The
extraction begins at offset characters from the beginning of the string and continues until
the end of the string, unless the length is specified.</p>
<p>&#x8FD9;&#x4E9B;&#x5C55;&#x5F00;&#x7528;&#x6765;&#x4ECE; parameter &#x6240;&#x5305;&#x542B;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x4E2D;&#x63D0;&#x53D6;&#x4E00;&#x90E8;&#x5206;&#x5B57;&#x7B26;&#x3002;&#x63D0;&#x53D6;&#x7684;&#x5B57;&#x7B26;&#x59CB;&#x4E8E;
&#x7B2C; offset &#x4E2A;&#x5B57;&#x7B26;&#xFF08;&#x4ECE;&#x5B57;&#x7B26;&#x4E32;&#x5F00;&#x5934;&#x7B97;&#x8D77;&#xFF09;&#x76F4;&#x5230;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x672B;&#x5C3E;&#xFF0C;&#x9664;&#x975E;&#x6307;&#x5B9A;&#x63D0;&#x53D6;&#x7684;&#x957F;&#x5EA6;&#x3002;</p>
<pre><code>[me@linuxbox ~]$ foo=&quot;This string is long.&quot;
[me@linuxbox ~]$ echo ${foo:5}
string is long.
[me@linuxbox ~]$ echo ${foo:5:6}
string
</code></pre><p>If the value of offset is negative, it is taken to mean it starts from the end of the string
rather than the beginning. Note that negative values must be preceded by a space to pre-
vent confusion with the ${parameter:-word} expansion. length, if present, must not
be less than zero.</p>
<p>&#x82E5; offset &#x7684;&#x503C;&#x4E3A;&#x8D1F;&#x6570;&#xFF0C;&#x5219;&#x8BA4;&#x4E3A; offset &#x503C;&#x662F;&#x4ECE;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x672B;&#x5C3E;&#x5F00;&#x59CB;&#x7B97;&#x8D77;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x4ECE;&#x5F00;&#x5934;&#x3002;&#x6CE8;&#x610F;&#x8D1F;&#x6570;&#x524D;&#x9762;&#x5FC5;&#x987B;&#x6709;&#x4E00;&#x4E2A;&#x7A7A;&#x683C;&#xFF0C;
&#x4E3A;&#x9632;&#x6B62;&#x4E0E; ${parameter:-word} &#x5C55;&#x5F00;&#x5F62;&#x5F0F;&#x6DF7;&#x6DC6;&#x3002;length&#xFF0C;&#x82E5;&#x51FA;&#x73B0;&#xFF0C;&#x5219;&#x5FC5;&#x987B;&#x4E0D;&#x80FD;&#x5C0F;&#x4E8E;&#x96F6;&#x3002;</p>
<p>If parameter is @, the result of the expansion is length positional parameters,
starting at offset.</p>
<p>&#x5982;&#x679C; parameter &#x662F; @&#xFF0C;&#x5C55;&#x5F00;&#x7ED3;&#x679C;&#x662F; length &#x4E2A;&#x4F4D;&#x7F6E;&#x53C2;&#x6570;&#xFF0C;&#x4ECE;&#x7B2C; offset &#x4E2A;&#x4F4D;&#x7F6E;&#x53C2;&#x6570;&#x5F00;&#x59CB;&#x3002;</p>
<pre><code>[me@linuxbox ~]$ foo=&quot;This string is long.&quot;
[me@linuxbox ~]$ echo ${foo: -5}
long.
[me@linuxbox ~]$ echo ${foo: -5:2}
lo
</code></pre><p><em>${parameter#pattern}</em></p>
<p><em>${parameter##pattern}</em></p>
<p>These expansions remove a leading portion of the string contained in parameter defined
by pattern. pattern is a wildcard pattern like those used in pathname expansion. The dif-
ference in the two forms is that the # form removes the shortest match, while the ## form
removes the longest match.</p>
<p>&#x8FD9;&#x4E9B;&#x5C55;&#x5F00;&#x4F1A;&#x4ECE; paramter &#x6240;&#x5305;&#x542B;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x4E2D;&#x6E05;&#x9664;&#x5F00;&#x5934;&#x4E00;&#x90E8;&#x5206;&#x6587;&#x672C;&#xFF0C;&#x8FD9;&#x4E9B;&#x5B57;&#x7B26;&#x8981;&#x5339;&#x914D;&#x5B9A;&#x4E49;&#x7684; pattern&#x3002;pattern &#x662F;
&#x901A;&#x914D;&#x7B26;&#x6A21;&#x5F0F;&#xFF0C;&#x5C31;&#x5982;&#x90A3;&#x4E9B;&#x7528;&#x5728;&#x8DEF;&#x5F84;&#x540D;&#x5C55;&#x5F00;&#x4E2D;&#x7684;&#x6A21;&#x5F0F;&#x3002;&#x8FD9;&#x4E24;&#x79CD;&#x5F62;&#x5F0F;&#x7684;&#x5DEE;&#x5F02;&#x4E4B;&#x5904;&#x662F;&#x8BE5; # &#x5F62;&#x5F0F;&#x6E05;&#x9664;&#x6700;&#x77ED;&#x7684;&#x5339;&#x914D;&#x7ED3;&#x679C;&#xFF0C;
&#x800C;&#x8BE5; ## &#x6A21;&#x5F0F;&#x6E05;&#x9664;&#x6700;&#x957F;&#x7684;&#x5339;&#x914D;&#x7ED3;&#x679C;&#x3002;</p>
<pre><code>[me@linuxbox ~]$ foo=file.txt.zip
[me@linuxbox ~]$ echo ${foo#*.}
txt.zip
[me@linuxbox ~]$ echo ${foo##*.}
zip
</code></pre><p><em>${parameter%pattern}</em></p>
<p><em>${parameter%%pattern}</em></p>
<p>These expansions are the same as the # and ## expansions above, except they remove
text from the end of the string contained in parameter rather than from the beginning.</p>
<p>&#x8FD9;&#x4E9B;&#x5C55;&#x5F00;&#x548C;&#x4E0A;&#x9762;&#x7684; # &#x548C; ## &#x5C55;&#x5F00;&#x4E00;&#x6837;&#xFF0C;&#x9664;&#x4E86;&#x5B83;&#x4EEC;&#x6E05;&#x9664;&#x7684;&#x6587;&#x672C;&#x4ECE; parameter &#x6240;&#x5305;&#x542B;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x672B;&#x5C3E;&#x5F00;&#x59CB;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x5F00;&#x5934;&#x3002;</p>
<pre><code>[me@linuxbox ~]$ foo=file.txt.zip
[me@linuxbox ~]$ echo ${foo%.*}
file.txt
[me@linuxbox ~]$ echo ${foo%%.*}
file
</code></pre><p><em>${parameter/pattern/string}</em></p>
<p><em>${parameter//pattern/string}</em></p>
<p><em>${parameter/#pattern/string}</em></p>
<p><em>${parameter/%pattern/string}</em></p>
<p>This expansion performs a search-and-replace upon the contents of parameter. If text is
found matching wildcard pattern, it is replaced with the contents of string. In the normal
form, only the first occurrence of pattern is replaced. In the // form, all occurrences are
replaced. The /# form requires that the match occur at the beginning of the string, and
the /% form requires the match to occur at the end of the string. /string may be omitted,
which causes the text matched by pattern to be deleted.</p>
<p>&#x8FD9;&#x79CD;&#x5F62;&#x5F0F;&#x7684;&#x5C55;&#x5F00;&#x5BF9; parameter &#x7684;&#x5185;&#x5BB9;&#x6267;&#x884C;&#x67E5;&#x627E;&#x548C;&#x66FF;&#x6362;&#x64CD;&#x4F5C;&#x3002;&#x5982;&#x679C;&#x627E;&#x5230;&#x4E86;&#x5339;&#x914D;&#x901A;&#x914D;&#x7B26; pattern &#x7684;&#x6587;&#x672C;&#xFF0C;
&#x5219;&#x7528; string &#x7684;&#x5185;&#x5BB9;&#x66FF;&#x6362;&#x5B83;&#x3002;&#x5728;&#x6B63;&#x5E38;&#x5F62;&#x5F0F;&#x4E0B;&#xFF0C;&#x53EA;&#x6709;&#x7B2C;&#x4E00;&#x4E2A;&#x5339;&#x914D;&#x9879;&#x4F1A;&#x88AB;&#x66FF;&#x6362;&#x6389;&#x3002;&#x5728;&#x8BE5; // &#x5F62;&#x5F0F;&#x4E0B;&#xFF0C;&#x6240;&#x6709;&#x7684;&#x5339;&#x914D;&#x9879;&#x90FD;&#x4F1A;&#x88AB;&#x66FF;&#x6362;&#x6389;&#x3002;
&#x8BE5; /# &#x8981;&#x6C42;&#x5339;&#x914D;&#x9879;&#x51FA;&#x73B0;&#x5728;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x5F00;&#x5934;&#xFF0C;&#x800C; /% &#x8981;&#x6C42;&#x5339;&#x914D;&#x9879;&#x51FA;&#x73B0;&#x5728;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x672B;&#x5C3E;&#x3002;/string &#x53EF;&#x80FD;&#x4F1A;&#x7701;&#x7565;&#x6389;&#xFF0C;&#x8FD9;&#x6837;&#x4F1A;
&#x5BFC;&#x81F4;&#x5220;&#x9664;&#x5339;&#x914D;&#x7684;&#x6587;&#x672C;&#x3002;</p>
<pre><code>[me@linuxbox~]$ foo=JPG.JPG
[me@linuxbox ~]$ echo ${foo/JPG/jpg}
jpg.JPG
[me@linuxbox~]$ echo ${foo//JPG/jpg}
jpg.jpg
[me@linuxbox~]$ echo ${foo/#JPG/jpg}
jpg.JPG
[me@linuxbox~]$ echo ${foo/%JPG/jpg}
JPG.jpg
</code></pre><p>Parameter expansion is a good thing to know. The string manipulation expansions can be
used as substitutes for other common commands such as sed and cut.
Expansions improve the efficiency of scripts by eliminating the use of external programs.
As an example, we will modify the longest-word program discussed in the previous chapter to
use the parameter expansion ${#j} in place of the command
substitution <em>$(echo $j | wc -c)</em> and its resulting subshell, like so:</p>
<p>&#x77E5;&#x9053;&#x53C2;&#x6570;&#x5C55;&#x5F00;&#x662F;&#x4EF6;&#x5F88;&#x597D;&#x7684;&#x4E8B;&#x60C5;&#x3002;&#x5B57;&#x7B26;&#x4E32;&#x64CD;&#x4F5C;&#x5C55;&#x5F00;&#x53EF;&#x4EE5;&#x7528;&#x6765;&#x66FF;&#x6362;&#x5176;&#x5B83;&#x5E38;&#x89C1;&#x547D;&#x4EE4;&#x6BD4;&#x65B9;&#x8BF4; sed &#x548C; cut&#x3002;
&#x901A;&#x8FC7;&#x51CF;&#x5C11;&#x4F7F;&#x7528;&#x5916;&#x90E8;&#x7A0B;&#x5E8F;&#xFF0C;&#x5C55;&#x5F00;&#x63D0;&#x9AD8;&#x4E86;&#x811A;&#x672C;&#x7684;&#x6548;&#x7387;&#x3002;&#x4E3E;&#x4F8B;&#x8BF4;&#x660E;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;&#x4FEE;&#x6539;&#x5728;&#x4E4B;&#x524D;&#x7AE0;&#x8282;&#x4E2D;&#x8BA8;&#x8BBA;&#x7684; longest-word &#x7A0B;&#x5E8F;&#xFF0C;
&#x7528;&#x53C2;&#x6570;&#x5C55;&#x5F00; ${#j} &#x53D6;&#x4EE3;&#x547D;&#x4EE4; $(echo $j | wc -c) &#x53CA;&#x5176; subshell &#xFF0C;&#x50CF;&#x8FD9;&#x6837;&#xFF1A;</p>
<pre><code>#!/bin/bash
# longest-word3 : find longest string in a file
for i; do
    if [[ -r $i ]]; then
        max_word=
        max_len=
        for j in $(strings $i); do
            len=${#j}
            if (( len &gt; max_len )); then
                max_len=$len
                max_word=$j
            fi
        done
        echo &quot;$i: &apos;$max_word&apos; ($max_len characters)&quot;
    fi
    shift
done
</code></pre><p>Next, we will compare the efficiency of the two versions by using the time command:</p>
<p>&#x4E0B;&#x4E00;&#x6B65;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;&#x4F7F;&#x7528; time &#x547D;&#x4EE4;&#x6765;&#x6BD4;&#x8F83;&#x8FD9;&#x4E24;&#x4E2A;&#x811A;&#x672C;&#x7248;&#x672C;&#x7684;&#x6548;&#x7387;&#xFF1A;</p>
<pre><code>[me@linuxbox ~]$ time longest-word2 dirlist-usr-bin.txt
dirlist-usr-bin.txt: &apos;scrollkeeper-get-extended-content-list&apos; (38
characters)
real 0m3.618s
user 0m1.544s
sys 0m1.768s
[me@linuxbox ~]$ time longest-word3 dirlist-usr-bin.txt
dirlist-usr-bin.txt: &apos;scrollkeeper-get-extended-content-list&apos; (38
characters)
real 0m0.060s
user 0m0.056s
sys 0m0.008s
</code></pre><p>The original version of the script takes 3.618 seconds to scan the text file, while the new
version, using parameter expansion, takes only 0.06 seconds &#x2014; a very significant improvement.</p>
<p>&#x539F;&#x6765;&#x7684;&#x811A;&#x672C;&#x626B;&#x63CF;&#x6574;&#x4E2A;&#x6587;&#x672C;&#x6587;&#x4EF6;&#x9700;&#x8017;&#x65F6;3.168&#x79D2;&#xFF0C;&#x800C;&#x8BE5;&#x65B0;&#x7248;&#x672C;&#xFF0C;&#x4F7F;&#x7528;&#x53C2;&#x6570;&#x5C55;&#x5F00;&#xFF0C;&#x4EC5;&#x4EC5;&#x82B1;&#x8D39;&#x4E86;0.06&#x79D2; &#x2014;&#x2014; &#x4E00;&#x4E2A;&#x975E;&#x5E38;&#x5DE8;&#x5927;&#x7684;&#x63D0;&#x9AD8;&#x3002;</p>
<h4 id="&#x5927;&#x5C0F;&#x5199;&#x8F6C;&#x6362;">&#x5927;&#x5C0F;&#x5199;&#x8F6C;&#x6362;</h4>
<p>Recent versions of bash have support for upper/lowercase conversion of strings. bash
has four parameter expansions and two options to the declare command to support it.</p>
<p>&#x6700;&#x65B0;&#x7684; bash &#x7248;&#x672C;&#x5DF2;&#x7ECF;&#x652F;&#x6301;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x5927;&#x5C0F;&#x5199;&#x8F6C;&#x6362;&#x4E86;&#x3002;bash &#x6709;&#x56DB;&#x4E2A;&#x53C2;&#x6570;&#x5C55;&#x5F00;&#x548C; declare &#x547D;&#x4EE4;&#x7684;&#x4E24;&#x4E2A;&#x9009;&#x9879;&#x6765;&#x652F;&#x6301;&#x5927;&#x5C0F;&#x5199;&#x8F6C;&#x6362;&#x3002;</p>
<p>So what is case conversion good for? Aside from the obvious aesthetic value, it has an
important role in programming. Let&apos;s consider the case of a database look-up. Imagine
that a user has entered a string into a data input field that we want to look up in a database.
It&apos;s possible the user will enter the value in all uppercase letters or lowercase letters
or a combination of both. We certainly don&apos;t want to populate our database with every
possible permutation of upper and lower case spellings. What to do?</p>
<p>&#x90A3;&#x4E48;&#x5927;&#x5C0F;&#x5199;&#x8F6C;&#x6362;&#x5BF9;&#x4EC0;&#x4E48;&#x6709;&#x597D;&#x5904;&#x5462;&#xFF1F; &#x9664;&#x4E86;&#x660E;&#x663E;&#x7684;&#x5BA1;&#x7F8E;&#x4EF7;&#x503C;&#xFF0C;&#x5B83;&#x5728;&#x7F16;&#x7A0B;&#x9886;&#x57DF;&#x8FD8;&#x6709;&#x4E00;&#x4E2A;&#x91CD;&#x8981;&#x7684;&#x89D2;&#x8272;&#x3002;
&#x8BA9;&#x6211;&#x4EEC;&#x8003;&#x8651;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x67E5;&#x8BE2;&#x7684;&#x6848;&#x4F8B;&#x3002;&#x5047;&#x8BBE;&#x4E00;&#x4E2A;&#x7528;&#x6237;&#x5DF2;&#x7ECF;&#x6572;&#x5199;&#x4E86;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#x5230;&#x6570;&#x636E;&#x8F93;&#x5165;&#x6846;&#x4E2D;&#xFF0C;
&#x800C;&#x6211;&#x4EEC;&#x60F3;&#x8981;&#x5728;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x67E5;&#x627E;&#x8FD9;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#x3002;&#x8BE5;&#x7528;&#x6237;&#x8F93;&#x5165;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x6709;&#x53EF;&#x80FD;&#x5168;&#x662F;&#x5927;&#x5199;&#x5B57;&#x6BCD;&#x6216;&#x5168;&#x662F;&#x5C0F;&#x5199;&#x6216;&#x662F;&#x4E24;&#x8005;&#x7684;&#x7ED3;&#x5408;&#x3002;
&#x6211;&#x4EEC;&#x5F53;&#x7136;&#x4E0D;&#x5E0C;&#x671B;&#x628A;&#x6BCF;&#x4E2A;&#x53EF;&#x80FD;&#x7684;&#x5927;&#x5C0F;&#x5199;&#x62FC;&#x5199;&#x6392;&#x5217;&#x586B;&#x5145;&#x5230;&#x6211;&#x4EEC;&#x7684;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x3002;&#x90A3;&#x600E;&#x4E48;&#x529E;&#xFF1F;</p>
<p>A common approach to this problem is to normalize the user&apos;s input. That is, convert it
into a standardized form before we attempt the database look-up. We can do this
by converting all of the characters in the user&apos;s input to either lower or
uppercase and ensure that the database entries are normalized the same way.</p>
<p>&#x89E3;&#x51B3;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x7684;&#x5E38;&#x89C1;&#x65B9;&#x6CD5;&#x662F;&#x89C4;&#x8303;&#x5316;&#x7528;&#x6237;&#x8F93;&#x5165;&#x3002;&#x4E5F;&#x5C31;&#x662F;&#xFF0C;&#x5728;&#x6211;&#x4EEC;&#x8BD5;&#x56FE;&#x67E5;&#x8BE2;&#x6570;&#x636E;&#x5E93;&#x4E4B;&#x524D;&#xFF0C;&#x628A;&#x7528;&#x6237;&#x7684;&#x8F93;&#x5165;&#x8F6C;&#x6362;&#x6210;&#x6807;&#x51C6;&#x5316;&#x3002;
&#x6211;&#x4EEC;&#x80FD;&#x505A;&#x5230;&#x8FD9;&#x4E00;&#x70B9;&#xFF0C;&#x901A;&#x8FC7;&#x628A;&#x7528;&#x6237;&#x8F93;&#x5165;&#x7684;&#x5B57;&#x7B26;&#x5168;&#x90E8;&#x8F6C;&#x6362;&#x6210;&#x5C0F;&#x5199;&#x5B57;&#x6BCD;&#x6216;&#x5927;&#x5199;&#x5B57;&#x6BCD;&#xFF0C;&#x5E76;&#x4E14;&#x786E;&#x4FDD;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x6761;&#x76EE;
&#x6309;&#x540C;&#x6837;&#x7684;&#x65B9;&#x5F0F;&#x89C4;&#x8303;&#x5316;&#x3002;</p>
<p>The declare command can be used to normalize strings to either upper or lowercase.
Using declare, we can force a variable to always contain the desired
format no matter what is assigned to it:</p>
<p>&#x8FD9;&#x4E2A; declare &#x547D;&#x4EE4;&#x53EF;&#x4EE5;&#x7528;&#x6765;&#x628A;&#x5B57;&#x7B26;&#x4E32;&#x89C4;&#x8303;&#x6210;&#x5927;&#x5199;&#x6216;&#x5C0F;&#x5199;&#x5B57;&#x7B26;&#x3002;&#x4F7F;&#x7528; declare &#x547D;&#x4EE4;&#xFF0C;&#x6211;&#x4EEC;&#x80FD;&#x5F3A;&#x5236;&#x4E00;&#x4E2A;
&#x53D8;&#x91CF;&#x603B;&#x662F;&#x5305;&#x542B;&#x6240;&#x9700;&#x7684;&#x683C;&#x5F0F;&#xFF0C;&#x65E0;&#x8BBA;&#x5982;&#x4F55;&#x8D4B;&#x503C;&#x7ED9;&#x5B83;&#x3002;</p>
<pre><code>#!/bin/bash
# ul-declare: demonstrate case conversion via declare
declare -u upper
declare -l lower
if [[ $1 ]]; then
    upper=&quot;$1&quot;
    lower=&quot;$1&quot;
    echo $upper
    echo $lower
fi
</code></pre><p>In the above script, we use declare to create two variables, upper and lower. We
assign the value of the first command line argument (positional parameter 1) to each of
the variables and then display them on the screen:</p>
<p>&#x5728;&#x4E0A;&#x9762;&#x7684;&#x811A;&#x672C;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x4F7F;&#x7528; declare &#x547D;&#x4EE4;&#x6765;&#x521B;&#x5EFA;&#x4E24;&#x4E2A;&#x53D8;&#x91CF;&#xFF0C;upper &#x548C; lower&#x3002;&#x6211;&#x4EEC;&#x628A;&#x7B2C;&#x4E00;&#x4E2A;&#x547D;&#x4EE4;&#x884C;&#x53C2;&#x6570;&#x7684;&#x503C;&#xFF08;&#x4F4D;&#x7F6E;&#x53C2;&#x6570;1&#xFF09;&#x8D4B;&#x7ED9;
&#x6BCF;&#x4E00;&#x4E2A;&#x53D8;&#x91CF;&#xFF0C;&#x7136;&#x540E;&#x628A;&#x53D8;&#x91CF;&#x503C;&#x5728;&#x5C4F;&#x5E55;&#x4E0A;&#x663E;&#x793A;&#x51FA;&#x6765;&#xFF1A;</p>
<pre><code>[me@linuxbox ~]$ ul-declare aBc
ABC
abc
</code></pre><p>As we can see, the command line argument (&quot;aBc&quot;) has been normalized.</p>
<p>&#x6B63;&#x5982;&#x6211;&#x4EEC;&#x6240;&#x770B;&#x5230;&#x7684;&#xFF0C;&#x547D;&#x4EE4;&#x884C;&#x53C2;&#x6570;&#xFF08;&#x201C;aBc&#x201D;&#xFF09;&#x5DF2;&#x7ECF;&#x89C4;&#x8303;&#x5316;&#x4E86;&#x3002;</p>
<p>There are four parameter expansions that perform upper/lowercase conversion:</p>
<p>&#x6709;&#x56DB;&#x4E2A;&#x53C2;&#x6570;&#x5C55;&#x5F00;&#xFF0C;&#x53EF;&#x4EE5;&#x6267;&#x884C;&#x5927;&#x5C0F;&#x5199;&#x8F6C;&#x6362;&#x64CD;&#x4F5C;&#xFF1A;</p>
<table class="multi">
<caption class="cap">Table 35-1: Case Conversion Parameter Expansions</caption>
<tr>
<th class="title">Format</th>
<th class="title">Result</th>
</tr>
<tr>
<td valign="top">${parameter,,} </td>
<td valign="top">Expand the value of parameter into all lowercase.</td>
</tr>
<tr>
<td valign="top">${parameter,} </td>
<td valign="top">Expand the value of parameter changing only the first
character to lowercase.</td>
</tr>
<tr>
<td valign="top">${parameter^^} </td>
<td valign="top">Expand the value of parameter into all uppercase letters.</td>
</tr>
<tr>
<td valign="top">${parameter^}</td>
<td valign="top">Expand the value of parameter changing only the first
character to uppercase (capitalization).</td>
</tr>
</table>

<table class="multi">
<caption class="cap">&#x8868; 35-1: &#x5927;&#x5C0F;&#x5199;&#x8F6C;&#x6362;&#x53C2;&#x6570;&#x5C55;&#x5F00;</caption>
<tr>
<th class="title">&#x683C;&#x5F0F;</th>
<th class="title">&#x7ED3;&#x679C;</th>
</tr>
<tr>
<td valign="top">${parameter,,} </td>
<td valign="top">&#x628A; parameter &#x7684;&#x503C;&#x5168;&#x90E8;&#x5C55;&#x5F00;&#x6210;&#x5C0F;&#x5199;&#x5B57;&#x6BCD;&#x3002;</td>
</tr>
<tr>
<td valign="top">${parameter,} </td>
<td valign="top">&#x4EC5;&#x4EC5;&#x628A; parameter &#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x5C55;&#x5F00;&#x6210;&#x5C0F;&#x5199;&#x5B57;&#x6BCD;&#x3002;</td>
</tr>
<tr>
<td valign="top">${parameter^^} </td>
<td valign="top">&#x628A; parameter &#x7684;&#x503C;&#x5168;&#x90E8;&#x8F6C;&#x6362;&#x6210;&#x5927;&#x5199;&#x5B57;&#x6BCD;&#x3002;</td>
</tr>
<tr>
<td valign="top">${parameter^}</td>
<td valign="top">&#x4EC5;&#x4EC5;&#x628A; parameter &#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x8F6C;&#x6362;&#x6210;&#x5927;&#x5199;&#x5B57;&#x6BCD;&#xFF08;&#x9996;&#x5B57;&#x6BCD;&#x5927;&#x5199;&#xFF09;&#x3002;</td>
</tr>
</table>

<p>Here is a script that demonstrates these expansions:</p>
<p>&#x8FD9;&#x91CC;&#x662F;&#x4E00;&#x4E2A;&#x811A;&#x672C;&#xFF0C;&#x6F14;&#x793A;&#x4E86;&#x8FD9;&#x4E9B;&#x5C55;&#x5F00;&#x683C;&#x5F0F;&#xFF1A;</p>
<pre><code>#!/bin/bash
# ul-param - demonstrate case conversion via parameter expansion
if [[ $1 ]]; then
    echo ${1,,}
    echo ${1,}
    echo ${1^^}
    echo ${1^}
fi
</code></pre><p>Here is the script in action:</p>
<p>&#x8FD9;&#x91CC;&#x662F;&#x811A;&#x672C;&#x8FD0;&#x884C;&#x540E;&#x7684;&#x7ED3;&#x679C;&#xFF1A;</p>
<pre><code>[me@linuxbox ~]$ ul-param aBc
abc
aBc
ABC
ABc
</code></pre><p>Again, we process the first command line argument and output the four variations
supported by the parameter expansions. While this script uses the first positional parameter,
parameter my be any string, variable, or string expression.</p>
<p>&#x518D;&#x6B21;&#xFF0C;&#x6211;&#x4EEC;&#x5904;&#x7406;&#x4E86;&#x7B2C;&#x4E00;&#x4E2A;&#x547D;&#x4EE4;&#x884C;&#x53C2;&#x6570;&#xFF0C;&#x8F93;&#x51FA;&#x4E86;&#x7531;&#x53C2;&#x6570;&#x5C55;&#x5F00;&#x652F;&#x6301;&#x7684;&#x56DB;&#x79CD;&#x53D8;&#x4F53;&#x3002;&#x5C3D;&#x7BA1;&#x8FD9;&#x4E2A;&#x811A;&#x672C;&#x4F7F;&#x7528;&#x4E86;&#x7B2C;&#x4E00;&#x4E2A;&#x4F4D;&#x7F6E;&#x53C2;&#x6570;&#xFF0C;
&#x4F46;&#x53C2;&#x6570;&#x53EF;&#x4EE5;&#x662F;&#x4EFB;&#x610F;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x53D8;&#x91CF;&#xFF0C;&#x6216;&#x5B57;&#x7B26;&#x4E32;&#x8868;&#x8FBE;&#x5F0F;&#x3002;</p>
<h3 id="&#x7B97;&#x672F;&#x6C42;&#x503C;&#x548C;&#x5C55;&#x5F00;">&#x7B97;&#x672F;&#x6C42;&#x503C;&#x548C;&#x5C55;&#x5F00;</h3>
<p>We looked at arithmetic expansion in Chapter 7. It is used to perform various arithmetic
operations on integers. Its basic form is:</p>
<p>&#x6211;&#x4EEC;&#x5728;&#x7B2C;&#x4E03;&#x7AE0;&#x4E2D;&#x5DF2;&#x7ECF;&#x63A5;&#x89E6;&#x8FC7;&#x7B97;&#x672F;&#x5C55;&#x5F00;&#x4E86;&#x3002;&#x5B83;&#x88AB;&#x7528;&#x6765;&#x5BF9;&#x6574;&#x6570;&#x6267;&#x884C;&#x5404;&#x79CD;&#x7B97;&#x672F;&#x8FD0;&#x7B97;&#x3002;&#x5B83;&#x7684;&#x57FA;&#x672C;&#x683C;&#x5F0F;&#x662F;&#xFF1A;</p>
<pre><code>$((expression))
</code></pre><p>where expression is a valid arithmetic expression.</p>
<p>&#x8FD9;&#x91CC;&#x7684; expression &#x662F;&#x4E00;&#x4E2A;&#x6709;&#x6548;&#x7684;&#x7B97;&#x672F;&#x8868;&#x8FBE;&#x5F0F;&#x3002;</p>
<p>This is related to the compound command (( )) used for arithmetic evaluation (truth
tests) we encountered in Chapter 27.</p>
<p>&#x8FD9;&#x4E2A;&#x4E0E;&#x590D;&#x5408;&#x547D;&#x4EE4; (( )) &#x6709;&#x5173;&#xFF0C;&#x6B64;&#x547D;&#x4EE4;&#x7528;&#x505A;&#x7B97;&#x672F;&#x6C42;&#x503C;&#xFF08;&#x771F;&#x6D4B;&#x8BD5;&#xFF09;&#xFF0C;&#x6211;&#x4EEC;&#x5728;&#x7B2C;27&#x7AE0;&#x4E2D;&#x9047;&#x5230;&#x8FC7;&#x3002;</p>
<p>In previous chapters, we saw some of the common types of expressions and operators.
Here, we will look at a more complete list.</p>
<p>&#x5728;&#x4E4B;&#x524D;&#x7684;&#x7AE0;&#x8282;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x770B;&#x5230;&#x8FC7;&#x4E00;&#x4E9B;&#x7C7B;&#x578B;&#x7684;&#x8868;&#x8FBE;&#x5F0F;&#x548C;&#x8FD0;&#x7B97;&#x7B26;&#x3002;&#x8FD9;&#x91CC;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;&#x770B;&#x5230;&#x4E00;&#x4E2A;&#x66F4;&#x5B8C;&#x6574;&#x7684;&#x5217;&#x8868;&#x3002;</p>
<h4 id="&#x6570;&#x57FA;">&#x6570;&#x57FA;</h4>
<p>Back in Chapter 9, we got a look at octal (base 8) and hexadecimal (base 16) numbers. In
arithmetic expressions, the shell supports integer constants in any base.</p>
<p>&#x56DE;&#x5230;&#x7B2C;9&#x7AE0;&#xFF0C;&#x6211;&#x4EEC;&#x770B;&#x8FC7;&#x516B;&#x8FDB;&#x5236;&#xFF08;&#x4EE5;8&#x4E3A;&#x5E95;&#xFF09;&#x548C;&#x5341;&#x516D;&#x8FDB;&#x5236;&#xFF08;&#x4EE5;16&#x4E3A;&#x5E95;&#xFF09;&#x7684;&#x6570;&#x5B57;&#x3002;&#x5728;&#x7B97;&#x672F;&#x8868;&#x8FBE;&#x5F0F;&#x4E2D;&#xFF0C;shell &#x652F;&#x6301;&#x4EFB;&#x610F;&#x8FDB;&#x5236;&#x7684;&#x6574;&#x578B;&#x5E38;&#x91CF;&#x3002;</p>
<table class="multi">
<caption class="cap">Table 35-2: Specifying Different Number Bases</caption>
<tr>
<th class="title">Notation</th>
<th class="title">Description</th>
</tr>
<tr>
<td valign="top">number</td>
<td valign="top">By default, numbers without any notation are treated as decimal (base 10) integers.</td>
</tr>
<tr>
<td valign="top">0number</td>
<td valign="top">In arithmetic expressions, numbers with a leading zero are
considered octal.</td>
</tr>
<tr>
<td valign="top">0xnumber</td>
<td valign="top">Hexadecimal notation</td>
</tr>
<tr>
<td valign="top">base#number</td>
<td valign="top">number is in base</td>
</tr>
</table>

<table class="multi">
<caption class="cap">&#x8868; 35-2: &#x6307;&#x5B9A;&#x4E0D;&#x540C;&#x7684;&#x6570;&#x57FA;</caption>
<tr>
<th class="title">&#x8868;&#x793A;&#x6CD5;</th>
<th class="title">&#x63CF;&#x8FF0;</th>
</tr>
<tr>
<td valign="top">number</td>
<td valign="top">&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x8868;&#x793A;&#x6CD5;&#x7684;&#x6570;&#x5B57;&#x88AB;&#x770B;&#x505A;&#x662F;&#x5341;&#x8FDB;&#x5236;&#x6570;&#xFF08;&#x4EE5;10&#x4E3A;&#x5E95;&#xFF09;&#x3002;</td>
</tr>
<tr>
<td valign="top">0number</td>
<td valign="top">&#x5728;&#x7B97;&#x672F;&#x8868;&#x8FBE;&#x5F0F;&#x4E2D;&#xFF0C;&#x4EE5;&#x96F6;&#x5F00;&#x5934;&#x7684;&#x6570;&#x5B57;&#x88AB;&#x8BA4;&#x4E3A;&#x662F;&#x516B;&#x8FDB;&#x5236;&#x6570;&#x3002;</td>
</tr>
<tr>
<td valign="top">0xnumber</td>
<td valign="top">&#x5341;&#x516D;&#x8FDB;&#x5236;&#x8868;&#x793A;&#x6CD5;</td>
</tr>
<tr>
<td valign="top">base#number</td>
<td valign="top">number &#x4EE5; base &#x4E3A;&#x5E95;</td>
</tr>
</table>


<p>Some examples:</p>
<p>&#x4E00;&#x4E9B;&#x4F8B;&#x5B50;&#xFF1A;</p>
<pre><code>[me@linuxbox ~]$ echo $((0xff))
255
[me@linuxbox ~]$ echo $((2#11111111))
255
</code></pre><p>In the examples above, we print the value of the hexadecimal number ff (the largest
two-digit number) and the largest eight-digit binary (base 2) number.</p>
<p>&#x5728;&#x4E0A;&#x9762;&#x7684;&#x793A;&#x4F8B;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x6253;&#x5370;&#x51FA;&#x5341;&#x516D;&#x8FDB;&#x5236;&#x6570; ff&#xFF08;&#x6700;&#x5927;&#x7684;&#x4E24;&#x4F4D;&#x6570;&#xFF09;&#x7684;&#x503C;&#x548C;&#x6700;&#x5927;&#x7684;&#x516B;&#x4F4D;&#x4E8C;&#x8FDB;&#x5236;&#x6570;&#xFF08;&#x4EE5;2&#x4E3A;&#x5E95;&#xFF09;&#x3002;</p>
<h4 id="&#x4E00;&#x5143;&#x8FD0;&#x7B97;&#x7B26;">&#x4E00;&#x5143;&#x8FD0;&#x7B97;&#x7B26;</h4>
<p>There are two unary operators, the + and -, which are used to indicate if a number is pos-
itive or negative, respectively. For example, -5.</p>
<p>&#x6709;&#x4E24;&#x4E2A;&#x4E00;&#x5143;&#x8FD0;&#x7B97;&#x7B26;&#xFF0C;+ &#x548C; -&#xFF0C;&#x5B83;&#x4EEC;&#x88AB;&#x5206;&#x522B;&#x7528;&#x6765;&#x8868;&#x793A;&#x4E00;&#x4E2A;&#x6570;&#x5B57;&#x662F;&#x6B63;&#x6570;&#x8FD8;&#x662F;&#x8D1F;&#x6570;&#x3002;&#x4F8B;&#x5982;&#xFF0C;-5&#x3002;</p>
<h4 id="&#x7B80;&#x5355;&#x7B97;&#x672F;">&#x7B80;&#x5355;&#x7B97;&#x672F;</h4>
<p>The ordinary arithmetic operators are listed in the table below:</p>
<p>&#x4E0B;&#x8868;&#x4E2D;&#x5217;&#x51FA;&#x4E86;&#x666E;&#x901A;&#x7B97;&#x672F;&#x8FD0;&#x7B97;&#x7B26;&#xFF1A;</p>
<table class="multi">
<caption class="cap">Table 35-3: Arithmetic Operators</caption>
<tr>
<th class="title">Operator</th>
<th class="title">Description</th>
</tr>
<tr>
<td valign="top">+</td>
<td valign="top">Addition</td>
</tr>
<tr>
<td valign="top">-</td>
<td valign="top">Subtraction</td>
</tr>
<tr>
<td valign="top">*</td>
<td valign="top">Multiplication</td>
</tr>
<tr>
<td valign="top">/</td>
<td valign="top">Integer division</td>
</tr>
<tr>
<td valign="top">**</td>
<td valign="top">Exponentiation</td>
</tr>
<tr>
<td valign="top">%</td>
<td valign="top">Modulo (remainder)</td>
</tr>
</table>

<table class="multi">
<caption class="cap">&#x8868; 35-3: &#x7B97;&#x672F;&#x8FD0;&#x7B97;&#x7B26;</caption>
<tr>
<th class="title">&#x8FD0;&#x7B97;&#x7B26;</th>
<th class="title">&#x63CF;&#x8FF0;</th>
</tr>
<tr>
<td valign="top">+</td>
<td valign="top">&#x52A0;</td>
</tr>
<tr>
<td valign="top">-</td>
<td valign="top">&#x51CF;</td>
</tr>
<tr>
<td valign="top">*</td>
<td valign="top">&#x4E58;</td>
</tr>
<tr>
<td valign="top">/</td>
<td valign="top">&#x6574;&#x9664;</td>
</tr>
<tr>
<td valign="top">**</td>
<td valign="top">&#x4E58;&#x65B9;</td>
</tr>
<tr>
<td valign="top">%</td>
<td valign="top">&#x53D6;&#x6A21;&#xFF08;&#x4F59;&#x6570;&#xFF09;</td>
</tr>
</table>

<p>Most of these are self-explanatory, but integer division and modulo require further discussion.</p>
<p>&#x5176;&#x4E2D;&#x5927;&#x90E8;&#x5206;&#x8FD0;&#x7B97;&#x7B26;&#x662F;&#x4E0D;&#x8A00;&#x81EA;&#x660E;&#x7684;&#xFF0C;&#x4F46;&#x662F;&#x6574;&#x9664;&#x548C;&#x53D6;&#x6A21;&#x8FD0;&#x7B97;&#x7B26;&#x9700;&#x8981;&#x8FDB;&#x4E00;&#x6B65;&#x89E3;&#x91CA;&#x4E00;&#x4E0B;&#x3002;</p>
<p>Since the shell&#x2019;s arithmetic only operates on integers, the results of division are always
whole numbers:</p>
<p>&#x56E0;&#x4E3A; shell &#x7B97;&#x672F;&#x53EA;&#x64CD;&#x4F5C;&#x6574;&#x578B;&#xFF0C;&#x6240;&#x4EE5;&#x9664;&#x6CD5;&#x8FD0;&#x7B97;&#x7684;&#x7ED3;&#x679C;&#x603B;&#x662F;&#x6574;&#x6570;&#xFF1A;</p>
<pre><code>[me@linuxbox ~]$ echo $(( 5 / 2 ))
2
</code></pre><p>This makes the determination of a remainder in a division operation more important:</p>
<p>&#x8FD9;&#x4F7F;&#x5F97;&#x786E;&#x5B9A;&#x9664;&#x6CD5;&#x8FD0;&#x7B97;&#x7684;&#x4F59;&#x6570;&#x66F4;&#x4E3A;&#x91CD;&#x8981;&#xFF1A;</p>
<pre><code>[me@linuxbox ~]$ echo $(( 5 % 2 ))
1
</code></pre><p>By using the division and modulo operators, we can determine that 5 divided by 2 results
in 2, with a remainder of 1.</p>
<p>&#x901A;&#x8FC7;&#x4F7F;&#x7528;&#x9664;&#x6CD5;&#x548C;&#x53D6;&#x6A21;&#x8FD0;&#x7B97;&#x7B26;&#xFF0C;&#x6211;&#x4EEC;&#x80FD;&#x591F;&#x786E;&#x5B9A;5&#x9664;&#x4EE5;2&#x5F97;&#x6570;&#x662F;2&#xFF0C;&#x4F59;&#x6570;&#x662F;1&#x3002;</p>
<p>Calculating the remainder is useful in loops. It allows an operation to be performed at
specified intervals during the loop&apos;s execution. In the example below, we display a line of
numbers, highlighting each multiple of 5:</p>
<p>&#x5728;&#x5FAA;&#x73AF;&#x4E2D;&#x8BA1;&#x7B97;&#x4F59;&#x6570;&#x662F;&#x5F88;&#x6709;&#x7528;&#x5904;&#x7684;&#x3002;&#x5728;&#x5FAA;&#x73AF;&#x6267;&#x884C;&#x671F;&#x95F4;&#xFF0C;&#x5B83;&#x5141;&#x8BB8;&#x67D0;&#x4E00;&#x4E2A;&#x64CD;&#x4F5C;&#x5728;&#x6307;&#x5B9A;&#x7684;&#x95F4;&#x9694;&#x5185;&#x6267;&#x884C;&#x3002;&#x5728;&#x4E0B;&#x9762;&#x7684;&#x4F8B;&#x5B50;&#x4E2D;&#xFF0C;
&#x6211;&#x4EEC;&#x663E;&#x793A;&#x4E00;&#x884C;&#x6570;&#x5B57;&#xFF0C;&#x5E76;&#x9AD8;&#x4EAE;&#x663E;&#x793A;5&#x7684;&#x500D;&#x6570;&#xFF1A;</p>
<pre><code>#!/bin/bash
# modulo : demonstrate the modulo operator
for ((i = 0; i &lt;= 20; i = i + 1)); do
    remainder=$((i % 5))
    if (( remainder == 0 )); then
        printf &quot;&lt;%d&gt; &quot; $i
    else
        printf &quot;%d &quot; $i
    fi
done
printf &quot;\n&quot;
</code></pre><p>When executed, the results look like this:</p>
<p>&#x5F53;&#x811A;&#x672C;&#x6267;&#x884C;&#x540E;&#xFF0C;&#x8F93;&#x51FA;&#x7ED3;&#x679C;&#x770B;&#x8D77;&#x6765;&#x50CF;&#x8FD9;&#x6837;&#xFF1A;</p>
<pre><code>[me@linuxbox ~]$ modulo
&lt;0&gt; 1 2 3 4 &lt;5&gt; 6 7 8 9 &lt;10&gt; 11 12 13 14 &lt;15&gt; 16 17 18 19 &lt;20&gt;
</code></pre><h4 id="&#x8D4B;&#x503C;&#x8FD0;&#x7B97;&#x7B26;">&#x8D4B;&#x503C;&#x8FD0;&#x7B97;&#x7B26;</h4>
<p>Although its uses may not be immediately apparent, arithmetic expressions may perform
assignment. We have performed assignment many times, though in a different context.
Each time we give a variable a value, we are performing assignment. We can also do it
within arithmetic expressions:</p>
<p>&#x5C3D;&#x7BA1;&#x5B83;&#x7684;&#x4F7F;&#x7528;&#x4E0D;&#x662F;&#x90A3;&#x4E48;&#x660E;&#x663E;&#xFF0C;&#x7B97;&#x672F;&#x8868;&#x8FBE;&#x5F0F;&#x53EF;&#x80FD;&#x6267;&#x884C;&#x8D4B;&#x503C;&#x8FD0;&#x7B97;&#x3002;&#x867D;&#x7136;&#x5728;&#x4E0D;&#x540C;&#x7684;&#x4E0A;&#x4E0B;&#x6587;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x5DF2;&#x7ECF;&#x6267;&#x884C;&#x4E86;&#x8BB8;&#x591A;&#x6B21;&#x8D4B;&#x503C;&#x8FD0;&#x7B97;&#x3002;
&#x6BCF;&#x6B21;&#x6211;&#x4EEC;&#x7ED9;&#x53D8;&#x91CF;&#x4E00;&#x4E2A;&#x503C;&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x6267;&#x884C;&#x4E86;&#x4E00;&#x6B21;&#x8D4B;&#x503C;&#x8FD0;&#x7B97;&#x3002;&#x6211;&#x4EEC;&#x4E5F;&#x80FD;&#x5728;&#x7B97;&#x672F;&#x8868;&#x8FBE;&#x5F0F;&#x4E2D;&#x6267;&#x884C;&#x8D4B;&#x503C;&#x8FD0;&#x7B97;&#xFF1A;</p>
<pre><code>[me@linuxbox ~]$ foo=
[me@linuxbox ~]$ echo $foo
[me@linuxbox ~]$ if (( foo = 5 ));then echo &quot;It is true.&quot;; fi
It is true.
[me@linuxbox ~]$ echo $foo
5
</code></pre><p>In the example above, we first assign an empty value to the variable foo and verify that
it is indeed empty. Next, we perform an if with the compound command (( foo = 5 )).
This process does two interesting things: 1) it assigns the value of 5 to the variable
foo, and 2) it evaluates to true because foo was assigned a nonzero value.</p>
<p>&#x5728;&#x4E0A;&#x9762;&#x7684;&#x4F8B;&#x5B50;&#x4E2D;&#xFF0C;&#x9996;&#x5148;&#x6211;&#x4EEC;&#x7ED9;&#x53D8;&#x91CF; foo &#x8D4B;&#x4E86;&#x4E00;&#x4E2A;&#x7A7A;&#x503C;&#xFF0C;&#x7136;&#x540E;&#x9A8C;&#x8BC1; foo &#x7684;&#x786E;&#x4E3A;&#x7A7A;&#x3002;&#x4E0B;&#x4E00;&#x6B65;&#xFF0C;&#x6211;&#x4EEC;&#x6267;&#x884C;&#x4E00;&#x4E2A; if &#x590D;&#x5408;&#x547D;&#x4EE4; (( foo = 5 ))&#x3002;
&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x5B8C;&#x6210;&#x4E24;&#x4EF6;&#x6709;&#x610F;&#x601D;&#x7684;&#x4E8B;&#x60C5;&#xFF1A;1&#xFF09;&#x5B83;&#x628A;5&#x8D4B;&#x503C;&#x7ED9;&#x53D8;&#x91CF; foo&#xFF0C;2&#xFF09;&#x5B83;&#x8BA1;&#x7B97;&#x6D4B;&#x8BD5;&#x6761;&#x4EF6;&#x4E3A;&#x771F;&#xFF0C;&#x56E0;&#x4E3A; foo &#x7684;&#x503C;&#x975E;&#x96F6;&#x3002;</p>
<hr>
<p>Note: It is important to remember the exact meaning of the = in the expression
above. A single = performs assignment. foo = 5 says &#x201C;make foo equal to 5,&#x201D;
while == evaluates equivalence. foo == 5 says &#x201C;does foo equal 5?&#x201D; This can
be very confusing because the test command accepts a single = for string equiva-
lence. This is yet another reason to use the more modern [[ ]] and (( )) com-
pound commands in place of test.</p>
<p>&#x6CE8;&#x610F;&#xFF1A; &#x8BB0;&#x4F4F;&#x4E0A;&#x9762;&#x8868;&#x8FBE;&#x5F0F;&#x4E2D; = &#x7B26;&#x53F7;&#x7684;&#x771F;&#x6B63;&#x542B;&#x4E49;&#x975E;&#x5E38;&#x91CD;&#x8981;&#x3002;&#x5355;&#x4E2A; = &#x8FD0;&#x7B97;&#x7B26;&#x6267;&#x884C;&#x8D4B;&#x503C;&#x8FD0;&#x7B97;&#x3002;foo = 5 &#x662F;&#x8BF4;&#x201C;&#x4F7F;&#x5F97; foo &#x7B49;&#x4E8E;5&#x201D;&#xFF0C;
&#x800C; == &#x8FD0;&#x7B97;&#x7B26;&#x8BA1;&#x7B97;&#x7B49;&#x4EF7;&#x6027;&#x3002;foo == 5 &#x662F;&#x8BF4;&#x201C;&#x662F;&#x5426; foo &#x7B49;&#x4E8E;5&#xFF1F;&#x201D;&#x3002;&#x8FD9;&#x4F1A;&#x8BA9;&#x4EBA;&#x611F;&#x5230;&#x975E;&#x5E38;&#x8FF7;&#x60D1;&#xFF0C;&#x56E0;&#x4E3A; test &#x547D;&#x4EE4;&#x63A5;&#x53D7;&#x5355;&#x4E2A; = &#x8FD0;&#x7B97;&#x7B26;
&#x6765;&#x6D4B;&#x8BD5;&#x5B57;&#x7B26;&#x4E32;&#x7B49;&#x4EF7;&#x6027;&#x3002;&#x8FD9;&#x4E5F;&#x662F;&#x4F7F;&#x7528;&#x66F4;&#x73B0;&#x4EE3;&#x7684; [[ ]] &#x548C; (( )) &#x590D;&#x5408;&#x547D;&#x4EE4;&#x6765;&#x4EE3;&#x66FF; test &#x547D;&#x4EE4;&#x7684;&#x53E6;&#x4E00;&#x4E2A;&#x539F;&#x56E0;&#x3002;</p>
<hr>
<p>In addition to the =, the shell also provides notations that perform some very useful as-
signments:</p>
<p>&#x9664;&#x4E86; = &#x8FD0;&#x7B97;&#x7B26;&#xFF0C;shell &#x4E5F;&#x63D0;&#x4F9B;&#x4E86;&#x5176;&#x5B83;&#x4E00;&#x4E9B;&#x8868;&#x793A;&#x6CD5;&#xFF0C;&#x6765;&#x6267;&#x884C;&#x4E00;&#x4E9B;&#x975E;&#x5E38;&#x6709;&#x7528;&#x7684;&#x8D4B;&#x503C;&#x8FD0;&#x7B97;&#xFF1A;</p>
<table class="multi">
<caption class="cap">Table 35-4: Assignment Operators</caption>
<tr>
<th class="title" width="25%">Notation</th>
<th class="title">Description</th>
</tr>
<tr>
<td valign="top">parameter = value</td>
<td valign="top">Simple assignment. Assigns value to parameter.</td>
</tr>
<tr>
<td valign="top">parameter += value</td>
<td valign="top">Addition. Equivalent to parameter = parameter + value.</td>
</tr>
<tr>
<td valign="top">parameter -= value</td>
<td valign="top">Subtraction. Equivalent to parameter = parameter - value.</td>
</tr>
<tr>
<td valign="top">parameter *= value</td>
<td valign="top">Multiplication. Equivalent to parameter = parameter * value.</td>
</tr>
<tr>
<td valign="top">parameter /= value</td>
<td valign="top">Integer division. Equivalent to parameter = parameter / value.</td>
</tr>
<tr>
<td valign="top">parameter %= value</td>
<td valign="top"> Modulo. Equivalent to parameter = parameter % value.</td>
</tr>
<tr>
<td valign="top">parameter++ </td>
<td valign="top">Variable post-increment. Equivalent to parameter = parameter + 1 (however, see discussion below).</td>
</tr>
<tr>
<td valign="top">parameter-- </td>
<td valign="top">Variable post-decrement. Equivalent to parameter = parameter - 1.</td>
</tr>
<tr>
<td valign="top">++parameter</td>
<td valign="top">Variable pre-increment. Equivalent to parameter = parameter + 1.</td>
</tr>
<tr>
<td valign="top">--parameter</td>
<td valign="top">Variable pre-decrement. Equivalent to parameter = parameter - 1.</td>
</tr>
</table>

<table class="multi">
<caption class="cap">&#x8868;35-4: &#x8D4B;&#x503C;&#x8FD0;&#x7B97;&#x7B26;</caption>
<tr>
<th class="title" width="25%">&#x8868;&#x793A;&#x6CD5;</th>
<th class="title">&#x63CF;&#x8FF0;</th>
</tr>
<tr>
<td valign="top">parameter = value</td>
<td valign="top">&#x7B80;&#x5355;&#x8D4B;&#x503C;&#x3002;&#x7ED9; parameter &#x8D4B;&#x503C;&#x3002;</td>
</tr>
<tr>
<td valign="top">parameter += value</td>
<td valign="top">&#x52A0;&#x3002;&#x7B49;&#x4EF7;&#x4E8E; parameter = parameter + value&#x3002;</td>
</tr>
<tr>
<td valign="top">parameter -= value</td>
<td valign="top">&#x51CF;&#x3002;&#x7B49;&#x4EF7;&#x4E8E; parameter = parameter &#x2013; value&#x3002;</td>
</tr>
<tr>
<td valign="top">parameter *= value</td>
<td valign="top">&#x4E58;&#x3002;&#x7B49;&#x4EF7;&#x4E8E; parameter = parameter * value&#x3002;</td>
</tr>
<tr>
<td valign="top">parameter /= value</td>
<td valign="top">&#x6574;&#x9664;&#x3002;&#x7B49;&#x4EF7;&#x4E8E; parameter = parameter / value&#x3002;</td>
</tr>
<tr>
<td valign="top">parameter %= value</td>
<td valign="top"> &#x53D6;&#x6A21;&#x3002;&#x7B49;&#x4EF7;&#x4E8E; parameter = parameter % value&#x3002;</td>
</tr>
<tr>
<td valign="top">parameter++ </td>
<td valign="top">&#x540E;&#x7F00;&#x81EA;&#x589E;&#x53D8;&#x91CF;&#x3002;&#x7B49;&#x4EF7;&#x4E8E; parameter = parameter + 1 (&#x4F46;&#xFF0C;&#x8981;&#x770B;&#x4E0B;&#x9762;&#x7684;&#x8BA8;&#x8BBA;)&#x3002;</td>
</tr>
<tr>
<td valign="top">parameter-- </td>
<td valign="top">&#x540E;&#x7F00;&#x81EA;&#x51CF;&#x53D8;&#x91CF;&#x3002;&#x7B49;&#x4EF7;&#x4E8E; parameter = parameter - 1&#x3002;</td>
</tr>
<tr>
<td valign="top">++parameter</td>
<td valign="top">&#x524D;&#x7F00;&#x81EA;&#x589E;&#x53D8;&#x91CF;&#x3002;&#x7B49;&#x4EF7;&#x4E8E; parameter = parameter + 1&#x3002;</td>
</tr>
<tr>
<td valign="top">--parameter</td>
<td valign="top">&#x524D;&#x7F00;&#x81EA;&#x51CF;&#x53D8;&#x91CF;&#x3002;&#x7B49;&#x4EF7;&#x4E8E; parameter = parameter - 1&#x3002;</td>
</tr>
</table>

<p>These assignment operators provide a convenient shorthand for many common arithmetic
tasks. Of special interest are the increment (++) and decrement (--) operators,
which increase or decrease the value of their parameters by one. This style of notation is taken
from the C programming language and has been incorporated by several other
programming languages, including bash.</p>
<p>&#x8FD9;&#x4E9B;&#x8D4B;&#x503C;&#x8FD0;&#x7B97;&#x7B26;&#x4E3A;&#x8BB8;&#x591A;&#x5E38;&#x89C1;&#x7B97;&#x672F;&#x4EFB;&#x52A1;&#x63D0;&#x4F9B;&#x4E86;&#x5FEB;&#x6377;&#x65B9;&#x5F0F;&#x3002;&#x7279;&#x522B;&#x5173;&#x6CE8;&#x4E00;&#x4E0B;&#x81EA;&#x589E;&#xFF08;++&#xFF09;&#x548C;&#x81EA;&#x51CF;&#xFF08;--&#xFF09;&#x8FD0;&#x7B97;&#x7B26;&#xFF0C;&#x5B83;&#x4EEC;&#x4F1A;&#x628A;&#x5B83;&#x4EEC;&#x7684;&#x53C2;&#x6570;&#x503C;&#x52A0;1&#x6216;&#x51CF;1&#x3002;
&#x8FD9;&#x79CD;&#x98CE;&#x683C;&#x7684;&#x8868;&#x793A;&#x6CD5;&#x53D6;&#x81EA;C &#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#x5E76;&#x4E14;&#x88AB;&#x5176;&#x5B83;&#x51E0;&#x79CD;&#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#x5438;&#x6536;&#xFF0C;&#x5305;&#x62EC; bash&#x3002;</p>
<p>The operators may appear either at the front of a parameter or at the end. While they both
either increment or decrement the parameter by one, the two placements have a subtle
difference. If placed at the front of the parameter, the parameter is incremented (or decre-
mented) before the parameter is returned. If placed after, the operation is performed after
the parameter is returned. This is rather strange, but it is the intended behavior. Here is a
demonstration:</p>
<p>&#x81EA;&#x589E;&#x548C;&#x81EA;&#x51CF;&#x8FD0;&#x7B97;&#x7B26;&#x53EF;&#x80FD;&#x4F1A;&#x51FA;&#x73B0;&#x5728;&#x53C2;&#x6570;&#x7684;&#x524D;&#x9762;&#x6216;&#x8005;&#x540E;&#x9762;&#x3002;&#x7136;&#x800C;&#x5B83;&#x4EEC;&#x90FD;&#x662F;&#x628A;&#x53C2;&#x6570;&#x503C;&#x52A0;1&#x6216;&#x51CF;1&#xFF0C;&#x8FD9;&#x4E24;&#x4E2A;&#x4F4D;&#x7F6E;&#x6709;&#x4E2A;&#x5FAE;&#x5C0F;&#x7684;&#x5DEE;&#x5F02;&#x3002;
&#x82E5;&#x8FD0;&#x7B97;&#x7B26;&#x653E;&#x7F6E;&#x5728;&#x53C2;&#x6570;&#x7684;&#x524D;&#x9762;&#xFF0C;&#x53C2;&#x6570;&#x503C;&#x4F1A;&#x5728;&#x53C2;&#x6570;&#x8FD4;&#x56DE;&#x4E4B;&#x524D;&#x589E;&#x52A0;&#xFF08;&#x6216;&#x51CF;&#x5C11;&#xFF09;&#x3002;&#x82E5;&#x653E;&#x7F6E;&#x5728;&#x540E;&#x9762;&#xFF0C;&#x5219;&#x8FD0;&#x7B97;&#x4F1A;&#x5728;&#x53C2;&#x6570;&#x8FD4;&#x56DE;&#x4E4B;&#x540E;&#x6267;&#x884C;&#x3002;
&#x8FD9;&#x76F8;&#x5F53;&#x5947;&#x602A;&#xFF0C;&#x4F46;&#x8FD9;&#x662F;&#x5B83;&#x9884;&#x671F;&#x7684;&#x884C;&#x4E3A;&#x3002;&#x8FD9;&#x91CC;&#x662F;&#x4E2A;&#x6F14;&#x793A;&#x7684;&#x4F8B;&#x5B50;&#xFF1A;</p>
<pre><code>[me@linuxbox ~]$ foo=1
[me@linuxbox ~]$ echo $((foo++))
1
[me@linuxbox ~]$ echo $foo
2
</code></pre><p>If we assign the value of one to the variable foo and then increment it
with the ++ operator placed after the parameter name, foo is returned with the value of one.
However, if we look at the value of the variable a second time, we see the incremented value. If we
place the ++ operator in front of the parameter, we get the more expected behavior:</p>
<p>&#x5982;&#x679C;&#x6211;&#x4EEC;&#x628A;1&#x8D4B;&#x503C;&#x7ED9;&#x53D8;&#x91CF; foo&#xFF0C;&#x7136;&#x540E;&#x901A;&#x8FC7;&#x628A;&#x81EA;&#x589E;&#x8FD0;&#x7B97;&#x7B26; ++ &#x653E;&#x5230;&#x53C2;&#x6570;&#x540D; foo &#x4E4B;&#x540E;&#x6765;&#x589E;&#x52A0;&#x5B83;&#xFF0C;foo &#x8FD4;&#x56DE;1&#x3002;
&#x7136;&#x800C;&#xFF0C;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x7B2C;&#x4E8C;&#x6B21;&#x67E5;&#x770B;&#x53D8;&#x91CF; foo &#x7684;&#x503C;&#xFF0C;&#x6211;&#x4EEC;&#x770B;&#x5230;&#x5B83;&#x7684;&#x503C;&#x589E;&#x52A0;&#x4E86;1&#x3002;&#x82E5;&#x6211;&#x4EEC;&#x628A; ++ &#x8FD0;&#x7B97;&#x7B26;&#x653E;&#x5230;&#x53C2;&#x6570; foo &#x4E4B;&#x524D;&#xFF0C;
&#x6211;&#x4EEC;&#x5F97;&#x5230;&#x66F4;&#x671F;&#x671B;&#x7684;&#x884C;&#x4E3A;&#xFF1A;</p>
<pre><code>[me@linuxbox ~]$ foo=1
[me@linuxbox ~]$ echo $((++foo))
2
[me@linuxbox ~]$ echo $foo
2
</code></pre><p>For most shell applications, prefixing the operator will be the most useful.</p>
<p>&#x5BF9;&#x4E8E;&#x5927;&#x591A;&#x6570; shell &#x5E94;&#x7528;&#x6765;&#x8BF4;&#xFF0C;&#x524D;&#x7F00;&#x8FD0;&#x7B97;&#x7B26;&#x6700;&#x6709;&#x7528;&#x3002;</p>
<p>The ++ and -- operators are often used in conjunction with loops.
We will make some improvements to our modulo script to tighten it up a bit:</p>
<p>&#x81EA;&#x589E; ++ &#x548C; &#x81EA;&#x51CF; -- &#x8FD0;&#x7B97;&#x7B26;&#x7ECF;&#x5E38;&#x548C;&#x5FAA;&#x73AF;&#x64CD;&#x4F5C;&#x7ED3;&#x5408;&#x4F7F;&#x7528;&#x3002;&#x6211;&#x4EEC;&#x5C06;&#x6539;&#x8FDB;&#x6211;&#x4EEC;&#x7684; modulo &#x811A;&#x672C;&#xFF0C;&#x8BA9;&#x4EE3;&#x7801;&#x66F4;&#x7D27;&#x51D1;&#x4E9B;&#xFF1A;</p>
<pre><code>#!/bin/bash
# modulo2 : demonstrate the modulo operator
for ((i = 0; i &lt;= 20; ++i )); do
    if (((i % 5) == 0 )); then
        printf &quot;&lt;%d&gt; &quot; $i
    else
        printf &quot;%d &quot; $i
    fi
done
printf &quot;\n&quot;
</code></pre><h4 id="&#x4F4D;&#x8FD0;&#x7B97;&#x7B26;">&#x4F4D;&#x8FD0;&#x7B97;&#x7B26;</h4>
<p>One class of operators manipulates numbers in an unusual way. These operators work at
the bit level. They are used for certain kinds of low level tasks, often involving setting or
reading bit-flags.</p>
<p>&#x4F4D;&#x8FD0;&#x7B97;&#x7B26;&#x662F;&#x4E00;&#x7C7B;&#x4EE5;&#x4E0D;&#x5BFB;&#x5E38;&#x7684;&#x65B9;&#x5F0F;&#x64CD;&#x4F5C;&#x6570;&#x5B57;&#x7684;&#x8FD0;&#x7B97;&#x7B26;&#x3002;&#x8FD9;&#x4E9B;&#x8FD0;&#x7B97;&#x7B26;&#x5DE5;&#x4F5C;&#x5728;&#x4F4D;&#x7EA7;&#x522B;&#x7684;&#x6570;&#x5B57;&#x3002;&#x5B83;&#x4EEC;&#x88AB;&#x7528;&#x5728;&#x67D0;&#x7C7B;&#x5E95;&#x5C42;&#x7684;&#x4EFB;&#x52A1;&#x4E2D;&#xFF0C;
&#x7ECF;&#x5E38;&#x6D89;&#x53CA;&#x5230;&#x8BBE;&#x7F6E;&#x6216;&#x8BFB;&#x53D6;&#x4F4D;&#x6807;&#x5FD7;&#x3002;</p>
<table class="multi">
<caption class="cap">Table 35-5: Bit Operators</caption>
<tr>
<th class="title">Operator</th>
<th class="title">Description</th>
</tr>
<tr>
<td valign="top">~</td>
<td valign="top">Bitwise negation. Negate all the bits in a number.</td>
</tr>
<tr>
<td valign="top">&lt;&lt;</td>
<td valign="top">Left bitwise shift. Shift all the bits in a number to the left.</td>
</tr>
<tr>
<td valign="top">&gt;&gt;</td>
<td valign="top">Right bitwise shift. Shift all the bits in a number to the right.</td>
</tr>
<tr>
<td valign="top">&amp;</td>
<td valign="top">Bitwise AND. Perform an AND operation on all the bits in two numbers.</td>
</tr>
<tr>
<td valign="top">|</td>
<td valign="top">Bitwise OR. Perform an OR operation on all the bits in two numbers.</td>
</tr>
<tr>
<td valign="top">^</td>
<td valign="top">Bitwise XOR. Perform an exclusive OR operation on all the
bits in two numbers.</td>
</tr>
</table>

<table class="multi">
<caption class="cap">&#x8868;35-5: &#x4F4D;&#x8FD0;&#x7B97;&#x7B26;</caption>
<tr>
<th class="title">&#x8FD0;&#x7B97;&#x7B26;</th>
<th class="title">&#x63CF;&#x8FF0;</th>
</tr>
<tr>
<td valign="top">~</td>
<td valign="top">&#x6309;&#x4F4D;&#x53D6;&#x53CD;&#x3002;&#x5BF9;&#x4E00;&#x4E2A;&#x6570;&#x5B57;&#x6240;&#x6709;&#x4F4D;&#x53D6;&#x53CD;&#x3002;</td>
</tr>
<tr>
<td valign="top">&lt;&lt;</td>
<td valign="top">&#x4F4D;&#x5DE6;&#x79FB;. &#x628A;&#x4E00;&#x4E2A;&#x6570;&#x5B57;&#x7684;&#x6240;&#x6709;&#x4F4D;&#x5411;&#x5DE6;&#x79FB;&#x52A8;&#x3002;</td>
</tr>
<tr>
<td valign="top">&gt;&gt;</td>
<td valign="top">&#x4F4D;&#x53F3;&#x79FB;. &#x628A;&#x4E00;&#x4E2A;&#x6570;&#x5B57;&#x7684;&#x6240;&#x6709;&#x4F4D;&#x5411;&#x53F3;&#x79FB;&#x52A8;&#x3002;</td>
</tr>
<tr>
<td valign="top">&amp;</td>
<td valign="top">&#x4F4D;&#x4E0E;&#x3002;&#x5BF9;&#x4E24;&#x4E2A;&#x6570;&#x5B57;&#x7684;&#x6240;&#x6709;&#x4F4D;&#x6267;&#x884C;&#x4E00;&#x4E2A; AND &#x64CD;&#x4F5C;&#x3002;</td>
</tr>
<tr>
<td valign="top">|</td>
<td valign="top">&#x4F4D;&#x6216;&#x3002;&#x5BF9;&#x4E24;&#x4E2A;&#x6570;&#x5B57;&#x7684;&#x6240;&#x6709;&#x4F4D;&#x6267;&#x884C;&#x4E00;&#x4E2A; OR &#x64CD;&#x4F5C;&#x3002;</td>
</tr>
<tr>
<td valign="top">^</td>
<td valign="top">&#x4F4D;&#x5F02;&#x6216;&#x3002;&#x5BF9;&#x4E24;&#x4E2A;&#x6570;&#x5B57;&#x7684;&#x6240;&#x6709;&#x4F4D;&#x6267;&#x884C;&#x4E00;&#x4E2A;&#x5F02;&#x6216;&#x64CD;&#x4F5C;&#x3002;</td>
</tr>
</table>

<p>Note that there are also corresponding assignment operators (for example, &lt;\&lt;=) for all
but bitwise negation.</p>
<p>&#x6CE8;&#x610F;&#x9664;&#x4E86;&#x6309;&#x4F4D;&#x53D6;&#x53CD;&#x8FD0;&#x7B97;&#x7B26;&#x4E4B;&#x5916;&#xFF0C;&#x5176;&#x5B83;&#x6240;&#x6709;&#x4F4D;&#x8FD0;&#x7B97;&#x7B26;&#x90FD;&#x6709;&#x76F8;&#x5BF9;&#x5E94;&#x7684;&#x8D4B;&#x503C;&#x8FD0;&#x7B97;&#x7B26;&#xFF08;&#x4F8B;&#x5982;&#xFF0C;&lt;\&lt;=&#xFF09;&#x3002;</p>
<p>Here we will demonstrate producing a list of powers of 2, using the left bitwise shift operator:</p>
<p>&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x5C06;&#x6F14;&#x793A;&#x4EA7;&#x751F;2&#x7684;&#x5E42;&#x5217;&#x8868;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x4F7F;&#x7528;&#x4F4D;&#x5DE6;&#x79FB;&#x8FD0;&#x7B97;&#x7B26;&#xFF1A;</p>
<pre><code>[me@linuxbox ~]$ for ((i=0;i&lt;8;++i)); do echo $((1&lt;&lt;i)); done
1
2
4
8
16
32
64
128
</code></pre><h4 id="&#x903B;&#x8F91;&#x8FD0;&#x7B97;&#x7B26;">&#x903B;&#x8F91;&#x8FD0;&#x7B97;&#x7B26;</h4>
<p>As we discovered in Chapter 27, the (( )) compound command supports a variety of
comparison operators. There are a few more that can be used to evaluate logic. Here is
the complete list:</p>
<p>&#x6B63;&#x5982;&#x6211;&#x4EEC;&#x5728;&#x7B2C;27&#x7AE0;&#x4E2D;&#x6240;&#x770B;&#x5230;&#x7684;&#xFF0C;&#x590D;&#x5408;&#x547D;&#x4EE4; (( )) &#x652F;&#x6301;&#x5404;&#x79CD;&#x5404;&#x6837;&#x7684;&#x6BD4;&#x8F83;&#x8FD0;&#x7B97;&#x7B26;&#x3002;&#x8FD8;&#x6709;&#x4E00;&#x4E9B;&#x53EF;&#x4EE5;&#x7528;&#x6765;&#x8BA1;&#x7B97;&#x903B;&#x8F91;&#x8FD0;&#x7B97;&#x3002;
&#x8FD9;&#x91CC;&#x662F;&#x6BD4;&#x8F83;&#x8FD0;&#x7B97;&#x7B26;&#x7684;&#x5B8C;&#x6574;&#x5217;&#x8868;&#xFF1A;</p>
<table class="multi">
<caption class="cap">Table 35-6: Comparison Operators</caption>
<tr>
<th class="title">Operator</th>
<th class="title">Description</th>
</tr>
<tr>
<td valign="top"><=< td="">
<td valign="top">Less than or equal to</td>
</=<></td></tr>
<tr>
<td valign="top">&gt;=</td>
<td valign="top">great than or equal to</td>
</tr>
<tr>
<td valign="top">&lt;</td>
<td valign="top">less than</td>
</tr>
<tr>
<td valign="top">&gt;</td>
<td valign="top">greater than</td>
</tr>
<tr>
<td valign="top">==</td>
<td valign="top">Equal to</td>
</tr>
<tr>
<td valign="top">!=</td>
<td valign="top">Not equal to</td>
</tr>
<tr>
<td valign="top">&amp;&amp;</td>
<td valign="top">Logical AND</td>
</tr>
<tr>
<td valign="top">||</td>
<td valign="top">Logical OR</td>
</tr>
<tr>
<td valign="top">expr1?expr2:expr3</td>
<td valign="top">Comparison (ternary) operator. If expression expr1
 evaluates to be non-zero (arithmetic true) then expr2,
else expr3.</td>
</tr>
</table>

<table class="multi">
<caption class="cap">&#x8868;35-6: &#x6BD4;&#x8F83;&#x8FD0;&#x7B97;&#x7B26;</caption>
<tr>
<th class="title">&#x8FD0;&#x7B97;&#x7B26;</th>
<th class="title">&#x63CF;&#x8FF0;</th>
</tr>
<tr>
<td valign="top"><=< td="">
<td valign="top">&#x5C0F;&#x4E8E;&#x6216;&#x76F8;&#x7B49;</td>
</=<></td></tr>
<tr>
<td valign="top">&gt;=</td>
<td valign="top">&#x5927;&#x4E8E;&#x6216;&#x76F8;&#x7B49;</td>
</tr>
<tr>
<td valign="top">&lt;</td>
<td valign="top">&#x5C0F;&#x4E8E;</td>
</tr>
<tr>
<td valign="top">&gt;</td>
<td valign="top">&#x5927;&#x4E8E;</td>
</tr>
<tr>
<td valign="top">==</td>
<td valign="top">&#x76F8;&#x7B49;</td>
</tr>
<tr>
<td valign="top">!=</td>
<td valign="top">&#x4E0D;&#x76F8;&#x7B49;</td>
</tr>
<tr>
<td valign="top">&amp;&amp;</td>
<td valign="top">&#x903B;&#x8F91;&#x4E0E;</td>
</tr>
<tr>
<td valign="top">||</td>
<td valign="top">&#x903B;&#x8F91;&#x6216;</td>
</tr>
<tr>
<td valign="top">expr1?expr2:expr3</td>
<td valign="top">&#x6761;&#x4EF6;&#xFF08;&#x4E09;&#x5143;&#xFF09;&#x8FD0;&#x7B97;&#x7B26;&#x3002;&#x82E5;&#x8868;&#x8FBE;&#x5F0F; expr1 &#x7684;&#x8BA1;&#x7B97;&#x7ED3;&#x679C;&#x4E3A;&#x975E;&#x96F6;&#x503C;&#xFF08;&#x7B97;&#x672F;&#x771F;&#xFF09;&#xFF0C;&#x5219;
&#x6267;&#x884C;&#x8868;&#x8FBE;&#x5F0F; expr2&#xFF0C;&#x5426;&#x5219;&#x6267;&#x884C;&#x8868;&#x8FBE;&#x5F0F; expr3&#x3002;</td>
</tr>
</table>

<p>When used for logical operations, expressions follow the rules of arithmetic logic; that is,
expressions that evaluate as zero are considered false, while non-zero expressions are
considered true. The (( )) compound command maps the results into the shell&#x2019;s normal
exit codes:</p>
<p>&#x5F53;&#x8868;&#x8FBE;&#x5F0F;&#x7528;&#x4E8E;&#x903B;&#x8F91;&#x8FD0;&#x7B97;&#x65F6;&#xFF0C;&#x8868;&#x8FBE;&#x5F0F;&#x9075;&#x5FAA;&#x7B97;&#x672F;&#x903B;&#x8F91;&#x89C4;&#x5219;&#xFF1B;&#x4E5F;&#x5C31;&#x662F;&#xFF0C;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x8BA1;&#x7B97;&#x7ED3;&#x679C;&#x662F;&#x96F6;&#xFF0C;&#x5219;&#x8BA4;&#x4E3A;&#x5047;&#xFF0C;&#x800C;&#x975E;&#x96F6;&#x8868;&#x8FBE;&#x5F0F;&#x8BA4;&#x4E3A;&#x771F;&#x3002;
&#x8BE5; (( )) &#x590D;&#x5408;&#x547D;&#x4EE4;&#x628A;&#x7ED3;&#x679C;&#x6620;&#x5C04;&#x6210; shell &#x6B63;&#x5E38;&#x7684;&#x9000;&#x51FA;&#x7801;&#xFF1A;</p>
<pre><code>[me@linuxbox ~]$ if ((1)); then echo &quot;true&quot;; else echo &quot;false&quot;; fi
true
[me@linuxbox ~]$ if ((0)); then echo &quot;true&quot;; else echo &quot;false&quot;; fi
false
</code></pre><p>The strangest of the logical operators is the ternary operator. This operator (which is
modeled after the one in the C programming language) performs a standalone logical test.
It can be used as a kind of if/then/else statement. It acts on three arithmetic expressions
(strings won&#x2019;t work), and if the first expression is true (or non-zero) the second
expression is performed. Otherwise, the third expression is performed. We can try this on the
command line:</p>
<p>&#x6700;&#x964C;&#x751F;&#x7684;&#x903B;&#x8F91;&#x8FD0;&#x7B97;&#x7B26;&#x5C31;&#x662F;&#x8FD9;&#x4E2A;&#x4E09;&#x5143;&#x8FD0;&#x7B97;&#x7B26;&#x4E86;&#x3002;&#x8FD9;&#x4E2A;&#x8FD0;&#x7B97;&#x7B26;&#xFF08;&#x4EFF;&#x7167;&#x4E8E; C &#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#x91CC;&#x7684;&#x4E09;&#x5143;&#x8FD0;&#x7B97;&#x7B26;&#xFF09;&#x6267;&#x884C;&#x4E00;&#x4E2A;&#x5355;&#x72EC;&#x7684;&#x903B;&#x8F91;&#x6D4B;&#x8BD5;&#x3002;
&#x5B83;&#x7528;&#x8D77;&#x6765;&#x7C7B;&#x4F3C;&#x4E8E; if/then/else &#x8BED;&#x53E5;&#x3002;&#x5B83;&#x64CD;&#x4F5C;&#x4E09;&#x4E2A;&#x7B97;&#x672F;&#x8868;&#x8FBE;&#x5F0F;&#xFF08;&#x5B57;&#x7B26;&#x4E32;&#x4E0D;&#x4F1A;&#x8D77;&#x4F5C;&#x7528;&#xFF09;&#xFF0C;&#x5E76;&#x4E14;&#x82E5;&#x7B2C;&#x4E00;&#x4E2A;&#x8868;&#x8FBE;&#x5F0F;&#x4E3A;&#x771F;&#xFF08;&#x6216;&#x975E;&#x96F6;&#xFF09;&#xFF0C;
&#x5219;&#x6267;&#x884C;&#x7B2C;&#x4E8C;&#x4E2A;&#x8868;&#x8FBE;&#x5F0F;&#x3002;&#x5426;&#x5219;&#xFF0C;&#x6267;&#x884C;&#x7B2C;&#x4E09;&#x4E2A;&#x8868;&#x8FBE;&#x5F0F;&#x3002;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5728;&#x547D;&#x4EE4;&#x884C;&#x4E2D;&#x5B9E;&#x9A8C;&#x4E00;&#x4E0B;&#xFF1A;</p>
<pre><code>[me@linuxbox~]$ a=0
[me@linuxbox~]$ ((a&lt;1?++a:--a))
[me@linuxbox~]$ echo $a
1
[me@linuxbox~]$ ((a&lt;1?++a:--a))
[me@linuxbox~]$ echo $a
0
</code></pre><p>Here we see a ternary operator in action. This example implements a toggle. Each time
the operator is performed, the value of the variable a switches from zero to one or vice
versa.</p>
<p>&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x770B;&#x5230;&#x4E00;&#x4E2A;&#x5B9E;&#x9645;&#x4F7F;&#x7528;&#x7684;&#x4E09;&#x5143;&#x8FD0;&#x7B97;&#x7B26;&#x3002;&#x8FD9;&#x4E2A;&#x4F8B;&#x5B50;&#x5B9E;&#x73B0;&#x4E86;&#x4E00;&#x4E2A;&#x5207;&#x6362;&#x3002;&#x6BCF;&#x6B21;&#x8FD0;&#x7B97;&#x7B26;&#x6267;&#x884C;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x53D8;&#x91CF; a &#x7684;&#x503C;&#x4ECE;&#x96F6;&#x53D8;&#x4E3A;1&#xFF0C;&#x6216;&#x53CD;&#x4E4B;&#x4EA6;&#x7136;&#x3002;</p>
<p>Please note that performing assignment within the expressions is not straightforward.</p>
<p>&#x8BF7;&#x6CE8;&#x610F;&#x5728;&#x8868;&#x8FBE;&#x5F0F;&#x5185;&#x6267;&#x884C;&#x8D4B;&#x503C;&#x5374;&#x5E76;&#x975E;&#x6613;&#x4E8B;&#x3002;</p>
<p>When attempted, bash will declare an error:</p>
<p>&#x5F53;&#x4F01;&#x56FE;&#x8FD9;&#x6837;&#x505A;&#x65F6;&#xFF0C;bash &#x4F1A;&#x58F0;&#x660E;&#x4E00;&#x4E2A;&#x9519;&#x8BEF;&#xFF1A;</p>
<pre><code>[me@linuxbox ~]$ a=0
[me@linuxbox ~]$ ((a&lt;1?a+=1:a-=1))
bash: ((: a&lt;1?a+=1:a-=1: attempted assignment to non-variable (error token is &quot;-=1&quot;)
</code></pre><p>This problem can be mitigated by surrounding the assignment expression with parentheses:</p>
<p>&#x901A;&#x8FC7;&#x628A;&#x8D4B;&#x503C;&#x8868;&#x8FBE;&#x5F0F;&#x7528;&#x62EC;&#x53F7;&#x62EC;&#x8D77;&#x6765;&#xFF0C;&#x53EF;&#x4EE5;&#x89E3;&#x51B3;&#x8FD9;&#x4E2A;&#x9519;&#x8BEF;&#xFF1A;</p>
<pre><code>[me@linuxbox ~]$ ((a&lt;1?(a+=1):(a-=1)))
</code></pre><p>Next, we see a more complete example of using arithmetic operators
in a script that produces a simple table of numbers:</p>
<p>&#x4E0B;&#x4E00;&#x6B65;&#xFF0C;&#x6211;&#x4EEC;&#x770B;&#x4E00;&#x4E2A;&#x4F7F;&#x7528;&#x7B97;&#x672F;&#x8FD0;&#x7B97;&#x7B26;&#x66F4;&#x5B8C;&#x5907;&#x7684;&#x4F8B;&#x5B50;&#xFF0C;&#x8BE5;&#x793A;&#x4F8B;&#x4EA7;&#x751F;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x6570;&#x5B57;&#x8868;&#x683C;&#xFF1A;</p>
<pre><code>#!/bin/bash
# arith-loop: script to demonstrate arithmetic operators
finished=0
a=0
printf &quot;a\ta**2\ta**3\n&quot;
printf &quot;=\t====\t====\n&quot;
until ((finished)); do
    b=$((a**2))
    c=$((a**3))
    printf &quot;%d\t%d\t%d\n&quot; $a $b $c
    ((a&lt;10?++a:(finished=1)))
done
</code></pre><p>In this script, we implement an until loop based on the value of the finished variable.
Initially, the variable is set to zero (arithmetic false) and we continue
the loop until it becomes non-zero. Within the loop, we calculate the square
and cube of the counter variable <strong>a</strong>. At the end of the loop, the value of the
counter variable is evaluated. If it is less than
10 (the maximum number of iterations), it is incremented by one, else the
variable <strong>finished</strong> is given the value of one, making finished arithmetically true,
thereby terminating the loop. Running the script gives this result:</p>
<p>&#x5728;&#x8FD9;&#x4E2A;&#x811A;&#x672C;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x57FA;&#x4E8E;&#x53D8;&#x91CF; finished &#x7684;&#x503C;&#x5B9E;&#x73B0;&#x4E86;&#x4E00;&#x4E2A; until &#x5FAA;&#x73AF;&#x3002;&#x9996;&#x5148;&#xFF0C;&#x628A;&#x53D8;&#x91CF; finished &#x7684;&#x503C;&#x8BBE;&#x4E3A;&#x96F6;&#xFF08;&#x7B97;&#x672F;&#x5047;&#xFF09;&#xFF0C;
&#x7EE7;&#x7EED;&#x6267;&#x884C;&#x5FAA;&#x73AF;&#x4E4B;&#x9053;&#x5B83;&#x7684;&#x503C;&#x53D8;&#x4E3A;&#x975E;&#x96F6;&#x3002;&#x5728;&#x5FAA;&#x73AF;&#x4F53;&#x5185;&#xFF0C;&#x6211;&#x4EEC;&#x8BA1;&#x7B97;&#x8BA1;&#x6570;&#x5668; a &#x7684;&#x5E73;&#x65B9;&#x548C;&#x7ACB;&#x65B9;&#x3002;&#x5728;&#x5FAA;&#x73AF;&#x672B;&#x5C3E;&#xFF0C;&#x8BA1;&#x7B97;&#x8BA1;&#x6570;&#x5668;&#x53D8;&#x91CF; a &#x7684;&#x503C;&#x3002;
&#x82E5;&#x5B83;&#x5C0F;&#x4E8E;10&#xFF08;&#x6700;&#x5927;&#x8FED;&#x4EE3;&#x6B21;&#x6570;&#xFF09;&#xFF0C;&#x5219; a &#x7684;&#x503C;&#x52A0;1&#xFF0C;&#x5426;&#x5219;&#x7ED9;&#x53D8;&#x91CF; finished &#x8D4B;&#x503C;&#x4E3A;1&#xFF0C;&#x4F7F;&#x5F97;&#x53D8;&#x91CF; finished &#x7B97;&#x672F;&#x4E3A;&#x771F;&#xFF0C;
&#x4ECE;&#x800C;&#x7EC8;&#x6B62;&#x5FAA;&#x73AF;&#x3002;&#x8FD0;&#x884C;&#x8BE5;&#x811A;&#x672C;&#x5F97;&#x5230;&#x8FD9;&#x6837;&#x7684;&#x7ED3;&#x679C;&#xFF1A;</p>
<pre><code>[me@linuxbox ~]$ arith-loop
a    a**2     a**3
=    ====     ====
0    0        0
1    1        1
2    4        8
3    9        27
4    16       64
5    25       125
6    36       216
7    49       343
8    64       512
9    81       729
10   100      1000
</code></pre><h3 id="bc---&#x4E00;&#x79CD;&#x9AD8;&#x7CBE;&#x5EA6;&#x8BA1;&#x7B97;&#x5668;&#x8BED;&#x8A00;">bc - &#x4E00;&#x79CD;&#x9AD8;&#x7CBE;&#x5EA6;&#x8BA1;&#x7B97;&#x5668;&#x8BED;&#x8A00;</h3>
<p>We have seen how the shell can handle all types of integer arithmetic, but what if we
need to perform higher math or even just use floating point numbers? The answer is, we
can&#x2019;t. At least not directly with the shell. To do this, we need to use an external program.
There are several approaches we can take. Embedding Perl or AWK programs is
one possible solution, but unfortunately, outside the scope of this book.
Another approach is to use a specialized calculator program. One such program found on
most Linux systems is called bc.</p>
<p>&#x6211;&#x4EEC;&#x5DF2;&#x7ECF;&#x770B;&#x5230; shell &#x662F;&#x53EF;&#x4EE5;&#x5904;&#x7406;&#x6240;&#x6709;&#x7C7B;&#x578B;&#x7684;&#x6574;&#x578B;&#x7B97;&#x672F;&#x7684;&#xFF0C;&#x4F46;&#x662F;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x6267;&#x884C;&#x66F4;&#x9AD8;&#x7EA7;&#x7684;&#x6570;&#x5B66;&#x8FD0;&#x7B97;&#x6216;&#x4EC5;&#x4F7F;&#x7528;&#x6D6E;&#x70B9;&#x6570;&#xFF0C;&#x8BE5;&#x600E;&#x4E48;&#x529E;&#xFF1F;
&#x7B54;&#x6848;&#x662F;&#xFF0C;&#x6211;&#x4EEC;&#x4E0D;&#x80FD;&#x8FD9;&#x6837;&#x505A;&#x3002;&#x81F3;&#x5C11;&#x4E0D;&#x80FD;&#x76F4;&#x63A5;&#x7528; shell &#x5B8C;&#x6210;&#x6B64;&#x7C7B;&#x8FD0;&#x7B97;&#x3002;&#x4E3A;&#x6B64;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x5916;&#x90E8;&#x7A0B;&#x5E8F;&#x3002;
&#x6709;&#x51E0;&#x79CD;&#x9014;&#x5F84;&#x53EF;&#x4F9B;&#x6211;&#x4EEC;&#x91C7;&#x7528;&#x3002;&#x5D4C;&#x5165;&#x7684; Perl &#x6216;&#x8005; AWK &#x7A0B;&#x5E8F;&#x662F;&#x4E00;&#x79CD;&#x53EF;&#x80FD;&#x7684;&#x65B9;&#x6848;&#xFF0C;&#x4F46;&#x662F;&#x4E0D;&#x5E78;&#x7684;&#x662F;&#xFF0C;&#x8D85;&#x51FA;&#x4E86;&#x672C;&#x4E66;&#x7684;&#x5185;&#x5BB9;&#x5927;&#x7EB2;&#x3002;
&#x53E6;&#x4E00;&#x79CD;&#x65B9;&#x5F0F;&#x5C31;&#x662F;&#x4F7F;&#x7528;&#x4E00;&#x79CD;&#x4E13;&#x4E1A;&#x7684;&#x8BA1;&#x7B97;&#x5668;&#x7A0B;&#x5E8F;&#x3002;&#x8FD9;&#x6837;&#x4E00;&#x4E2A;&#x7A0B;&#x5E8F;&#x53EB;&#x505A; bc&#xFF0C;&#x5728;&#x5927;&#x591A;&#x6570; Linux &#x7CFB;&#x7EDF;&#x4E2D;&#x90FD;&#x53EF;&#x4EE5;&#x627E;&#x5230;&#x3002;</p>
<p>The bc program reads a file written in its own C-like language and executes it. A bc
script may be a separate file or it may be read from standard input. The bc language
supports quite a few features including variables, loops, and programmer-defined functions.
We won&#x2019;t cover bc entirely here, just enough to get a taste. bc is well documented by its
man page.</p>
<p>&#x8BE5; bc &#x7A0B;&#x5E8F;&#x8BFB;&#x53D6;&#x4E00;&#x4E2A;&#x7528;&#x5B83;&#x81EA;&#x5DF1;&#x7684;&#x7C7B;&#x4F3C;&#x4E8E; C &#x8BED;&#x8A00;&#x7684;&#x8BED;&#x6CD5;&#x7F16;&#x5199;&#x7684;&#x811A;&#x672C;&#x6587;&#x4EF6;&#x3002;&#x4E00;&#x4E2A; bc &#x811A;&#x672C;&#x53EF;&#x80FD;&#x662F;&#x4E00;&#x4E2A;&#x5206;&#x79BB;&#x7684;&#x6587;&#x4EF6;&#x6216;&#x8005;&#x662F;&#x4ECE;
&#x6807;&#x51C6;&#x8F93;&#x5165;&#x8BFB;&#x5165;&#x3002;bc &#x8BED;&#x8A00;&#x652F;&#x6301;&#x76F8;&#x5F53;&#x5C11;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x5305;&#x62EC;&#x53D8;&#x91CF;&#xFF0C;&#x5FAA;&#x73AF;&#x548C;&#x7A0B;&#x5E8F;&#x5458;&#x5B9A;&#x4E49;&#x7684;&#x51FD;&#x6570;&#x3002;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x4E0D;&#x4F1A;&#x8BA8;&#x8BBA;&#x6574;&#x4E2A; bc &#x8BED;&#x8A00;&#xFF0C;
&#x4EC5;&#x4EC5;&#x4F53;&#x9A8C;&#x4E00;&#x4E0B;&#x3002;&#x67E5;&#x770B; bc &#x7684;&#x624B;&#x518C;&#x9875;&#xFF0C;&#x5176;&#x6587;&#x6863;&#x6574;&#x7406;&#x5F97;&#x975E;&#x5E38;&#x597D;&#x3002;</p>
<p>Let&#x2019;s start with a simple example. We&#x2019;ll write a bc script to add 2 plus 2:</p>
<p>&#x8BA9;&#x6211;&#x4EEC;&#x4ECE;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x4F8B;&#x5B50;&#x5F00;&#x59CB;&#x3002;&#x6211;&#x4EEC;&#x5C06;&#x7F16;&#x5199;&#x4E00;&#x4E2A; bc &#x811A;&#x672C;&#x6765;&#x6267;&#x884C;2&#x52A0;2&#x8FD0;&#x7B97;&#xFF1A;</p>
<pre><code>/* A very simple bc script */
2 + 2
</code></pre><p>The first line of the script is a comment. bc uses the same syntax for comments as the C
programming language. Comments, which may span multiple lines, begin with <code>/*</code> and
end with <code>*/</code>.</p>
<p>&#x811A;&#x672C;&#x7684;&#x7B2C;&#x4E00;&#x884C;&#x662F;&#x4E00;&#x884C;&#x6CE8;&#x91CA;&#x3002;bc &#x4F7F;&#x7528;&#x548C; C &#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#x4E00;&#x6837;&#x7684;&#x6CE8;&#x91CA;&#x8BED;&#x6CD5;&#x3002;&#x6CE8;&#x91CA;&#xFF0C;&#x53EF;&#x80FD;&#x4F1A;&#x8DE8;&#x8D8A;&#x591A;&#x884C;&#xFF0C;&#x5F00;&#x59CB;&#x4E8E; <code>/*</code> &#x7ED3;&#x675F;&#x4E8E; <code>*/</code>&#x3002;</p>
<h4 id="&#x4F7F;&#x7528;-bc">&#x4F7F;&#x7528; bc</h4>
<p>If we save the bc script above as foo.bc, we can run it this way:</p>
<p>&#x5982;&#x679C;&#x6211;&#x4EEC;&#x628A;&#x4E0A;&#x9762;&#x7684; bc &#x811A;&#x672C;&#x4FDD;&#x5B58;&#x4E3A; foo.bc&#xFF0C;&#x7136;&#x540E;&#x6211;&#x4EEC;&#x5C31;&#x80FD;&#x8FD9;&#x6837;&#x8FD0;&#x884C;&#x5B83;&#xFF1A;</p>
<pre><code>[me@linuxbox ~]$ bc foo.bc
bc 1.06.94
Copyright 1991-1994, 1997, 1998, 2000, 2004, 2006 Free Software
Foundation, Inc.
This is free software with ABSOLUTELY NO WARRANTY.
For details type `warranty&apos;.
4
</code></pre><p>If we look carefully, we can see the result at the very bottom, after the copyright message.
This message can be suppressed with the -q (quiet) option.
bc can also be used interactively:</p>
<p>&#x5982;&#x679C;&#x6211;&#x4EEC;&#x4ED4;&#x7EC6;&#x89C2;&#x5BDF;&#xFF0C;&#x6211;&#x4EEC;&#x770B;&#x5230;&#x7B97;&#x672F;&#x7ED3;&#x679C;&#x5728;&#x6700;&#x5E95;&#x90E8;&#xFF0C;&#x7248;&#x6743;&#x4FE1;&#x606F;&#x4E4B;&#x540E;&#x3002;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; -q&#xFF08;quiet&#xFF09;&#x9009;&#x9879;&#x7981;&#x6B62;&#x8FD9;&#x4E9B;&#x7248;&#x6743;&#x4FE1;&#x606F;&#x3002;
bc &#x4E5F;&#x80FD;&#x591F;&#x4EA4;&#x4E92;&#x4F7F;&#x7528;&#xFF1A;</p>
<pre><code>[me@linuxbox ~]$ bc -q
2 + 2
4
quit
</code></pre><p>When using bc interactively, we simply type the calculations we wish to perform, and
the results are immediately displayed. The bc command quit ends the interactive session.</p>
<p>&#x5F53;&#x4F7F;&#x7528; bc &#x4EA4;&#x4E92;&#x6A21;&#x5F0F;&#x65F6;&#xFF0C;&#x6211;&#x4EEC;&#x7B80;&#x5355;&#x5730;&#x8F93;&#x5165;&#x6211;&#x4EEC;&#x5E0C;&#x671B;&#x6267;&#x884C;&#x7684;&#x8FD0;&#x7B97;&#xFF0C;&#x7ED3;&#x679C;&#x5C31;&#x7ACB;&#x5373;&#x663E;&#x793A;&#x51FA;&#x6765;&#x3002;bc &#x7684; quit &#x547D;&#x4EE4;&#x7ED3;&#x675F;&#x4EA4;&#x4E92;&#x4F1A;&#x8BDD;&#x3002;</p>
<p>It is also possible to pass a script to bc via standard input:</p>
<p>&#x4E5F;&#x53EF;&#x80FD;&#x901A;&#x8FC7;&#x6807;&#x51C6;&#x8F93;&#x5165;&#x628A;&#x4E00;&#x4E2A;&#x811A;&#x672C;&#x4F20;&#x9012;&#x7ED9; bc &#x7A0B;&#x5E8F;&#xFF1A;</p>
<pre><code>[me@linuxbox ~]$ bc &lt; foo.bc
4
</code></pre><p>The ability to take standard input means that we can use here documents, here strings,
and pipes to pass scripts. This is a here string example:</p>
<p>&#x8FD9;&#x79CD;&#x63A5;&#x53D7;&#x6807;&#x51C6;&#x8F93;&#x5165;&#x7684;&#x80FD;&#x529B;&#xFF0C;&#x610F;&#x5473;&#x7740;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; here &#x6587;&#x6863;&#xFF0C;here&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x548C;&#x7BA1;&#x9053;&#x6765;&#x4F20;&#x9012;&#x811A;&#x672C;&#x3002;&#x8FD9;&#x91CC;&#x662F;&#x4E00;&#x4E2A;&#x4F7F;&#x7528; here &#x5B57;&#x7B26;&#x4E32;&#x7684;&#x4F8B;&#x5B50;&#xFF1A;</p>
<pre><code>[me@linuxbox ~]$ bc &lt;&lt;&lt; &quot;2+2&quot;
4
</code></pre><h4 id="&#x4E00;&#x4E2A;&#x811A;&#x672C;&#x5B9E;&#x4F8B;">&#x4E00;&#x4E2A;&#x811A;&#x672C;&#x5B9E;&#x4F8B;</h4>
<p>As a real-world example, we will construct a script that performs a common calculation,
monthly loan payments. In the script below, we use a here document to pass a script to bc:</p>
<p>&#x4F5C;&#x4E3A;&#x4E00;&#x4E2A;&#x771F;&#x5B9E;&#x4E16;&#x754C;&#x7684;&#x4F8B;&#x5B50;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;&#x6784;&#x5EFA;&#x4E00;&#x4E2A;&#x811A;&#x672C;&#xFF0C;&#x7528;&#x4E8E;&#x8BA1;&#x7B97;&#x6BCF;&#x6708;&#x7684;&#x8FD8;&#x8D37;&#x91D1;&#x989D;&#x3002;&#x5728;&#x4E0B;&#x9762;&#x7684;&#x811A;&#x672C;&#x4E2D;&#xFF0C;
&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x4E86; here &#x6587;&#x6863;&#x628A;&#x4E00;&#x4E2A;&#x811A;&#x672C;&#x4F20;&#x9012;&#x7ED9; bc&#xFF1A;</p>
<pre><code>#!/bin/bash
# loan-calc : script to calculate monthly loan payments
PROGNAME=$(basename $0)
usage () {
    cat &lt;&lt;- EOF
    Usage: $PROGNAME PRINCIPAL INTEREST MONTHS
    Where:
    PRINCIPAL is the amount of the loan.
    INTEREST is the APR as a number (7% = 0.07).
    MONTHS is the length of the loan&apos;s term.
    EOF
}
if (($# != 3)); then
    usage
    exit 1
fi
principal=$1
interest=$2
months=$3
bc &lt;&lt;- EOF
    scale = 10
    i = $interest / 12
    p = $principal
    n = $months
    a = p * ((i * ((1 + i) ^ n)) / (((1 + i) ^ n) - 1))
    print a, &quot;\n&quot;
EOF
</code></pre><p>When executed, the results look like this:</p>
<p>&#x5F53;&#x811A;&#x672C;&#x6267;&#x884C;&#x540E;&#xFF0C;&#x8F93;&#x51FA;&#x7ED3;&#x679C;&#x50CF;&#x8FD9;&#x6837;&#xFF1A;</p>
<pre><code>[me@linuxbox ~]$ loan-calc 135000 0.0775 180
475
1270.7222490000
</code></pre><p>This example calculates the monthly payment for a $135,000 loan at 7.75% APR for 180
months (15 years). Notice the precision of the answer. This is determined by the value
given to the special <strong>scale</strong> variable in the bc script. A full description of
the bc scripting language is provided by the bc man page. While its mathematical notation is slightly
different from that of the shell (bc more closely resembles C), most of it will
be quite familiar, based on what we have learned so far.</p>
<p>&#x82E5;&#x8D37;&#x6B3E; 135,000 &#x7F8E;&#x91D1;&#xFF0C;&#x5E74;&#x5229;&#x7387;&#x4E3A; 7.75%&#xFF0C;&#x501F;&#x8D37;180&#x4E2A;&#x6708;&#xFF08;15&#x5E74;&#xFF09;&#xFF0C;&#x8FD9;&#x4E2A;&#x4F8B;&#x5B50;&#x8BA1;&#x7B97;&#x51FA;&#x6BCF;&#x6708;&#x9700;&#x8981;&#x8FD8;&#x8D37;&#x7684;&#x91D1;&#x989D;&#x3002;
&#x6CE8;&#x610F;&#x8FD9;&#x4E2A;&#x7B54;&#x6848;&#x7684;&#x7CBE;&#x786E;&#x5EA6;&#x3002;&#x8FD9;&#x662F;&#x7531;&#x811A;&#x672C;&#x4E2D;&#x53D8;&#x91CF; scale &#x7684;&#x503C;&#x51B3;&#x5B9A;&#x7684;&#x3002;bc &#x7684;&#x624B;&#x518C;&#x9875;&#x63D0;&#x4F9B;&#x4E86;&#x5BF9; bc &#x811A;&#x672C;&#x8BED;&#x8A00;&#x7684;&#x8BE6;&#x5C3D;&#x63CF;&#x8FF0;&#x3002;
&#x867D;&#x7136; bc &#x7684;&#x6570;&#x5B66;&#x7B26;&#x53F7;&#x4E0E; shell &#x7684;&#x7565;&#x6709;&#x5DEE;&#x5F02;&#xFF08;bc &#x4E0E; C &#x66F4;&#x76F8;&#x8FD1;&#xFF09;&#xFF0C;&#x4F46;&#x662F;&#x57FA;&#x4E8E;&#x76EE;&#x524D;&#x6211;&#x4EEC;&#x6240;&#x5B66;&#x7684;&#x5185;&#x5BB9;&#xFF0C;
&#x5927;&#x591A;&#x6570;&#x7B26;&#x53F7;&#x662F;&#x6211;&#x4EEC;&#x76F8;&#x5F53;&#x719F;&#x6089;&#x7684;&#x3002;</p>
<h3 id="&#x603B;&#x7ED3;">&#x603B;&#x7ED3;</h3>
<p>In this chapter, we have learned about many of the little things that can be used to get the
&#x201C;real work&#x201D; done in scripts. As our experience with scripting grows,
the ability to effectively manipulate strings and numbers will prove extremely valuable.
Our loan-calc script demonstrates that even simple scripts can be created to do some really useful things.</p>
<p>&#x5728;&#x8FD9;&#x4E00;&#x7AE0;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x5B66;&#x4E60;&#x4E86;&#x5F88;&#x591A;&#x5C0F;&#x4E1C;&#x897F;&#xFF0C;&#x5728;&#x811A;&#x672C;&#x4E2D;&#x8FD9;&#x4E9B;&#x5C0F;&#x96F6;&#x788E;&#x53EF;&#x4EE5;&#x5B8C;&#x6210;&#x201C;&#x771F;&#x6B63;&#x7684;&#x5DE5;&#x4F5C;&#x201D;&#x3002;&#x968F;&#x7740;&#x6211;&#x4EEC;&#x7F16;&#x5199;&#x811A;&#x672C;&#x7ECF;&#x9A8C;&#x7684;&#x589E;&#x52A0;&#xFF0C;
&#x80FD;&#x591F;&#x6709;&#x6548;&#x5730;&#x64CD;&#x4F5C;&#x5B57;&#x7B26;&#x4E32;&#x548C;&#x6570;&#x5B57;&#x7684;&#x80FD;&#x529B;&#x5C06;&#x5177;&#x6709;&#x6781;&#x4E3A;&#x91CD;&#x8981;&#x7684;&#x4EF7;&#x503C;&#x3002;&#x6211;&#x4EEC;&#x7684; loan-calc &#x811A;&#x672C;&#x8868;&#x660E;&#xFF0C;
&#x751A;&#x81F3;&#x53EF;&#x4EE5;&#x521B;&#x5EFA;&#x7B80;&#x5355;&#x7684;&#x811A;&#x672C;&#x6765;&#x5B8C;&#x6210;&#x4E00;&#x4E9B;&#x771F;&#x6B63;&#x6709;&#x7528;&#x7684;&#x4E8B;&#x60C5;&#x3002;</p>
<h3 id="&#x989D;&#x5916;&#x52A0;&#x5206;">&#x989D;&#x5916;&#x52A0;&#x5206;</h3>
<p>While the basic functionality of the loan-calc script is in place, the script is far from
complete. For extra credit, try improving the loan-calc script with the following features:</p>
<p>&#x867D;&#x7136;&#x8BE5; loan-calc &#x811A;&#x672C;&#x7684;&#x57FA;&#x672C;&#x529F;&#x80FD;&#x5DF2;&#x7ECF;&#x5F88;&#x5230;&#x4F4D;&#x4E86;&#xFF0C;&#x4F46;&#x811A;&#x672C;&#x8FD8;&#x8FDC;&#x8FDC;&#x4E0D;&#x591F;&#x5B8C;&#x5584;&#x3002;&#x4E3A;&#x4E86;&#x989D;&#x5916;&#x52A0;&#x5206;&#xFF0C;&#x8BD5;&#x7740;
&#x7ED9;&#x811A;&#x672C; loan-calc &#x6DFB;&#x52A0;&#x4EE5;&#x4E0B;&#x529F;&#x80FD;&#xFF1A;</p>
<ul>
<li><p>Full verification of the command line arguments</p>
</li>
<li><p>A command line option to implement an &#x201C;interactive&#x201D; mode that will prompt the
user to input the principal, interest rate, and term of the loan.</p>
</li>
<li><p>A better format for the output.</p>
</li>
<li><p>&#x5B8C;&#x6574;&#x7684;&#x547D;&#x4EE4;&#x884C;&#x53C2;&#x6570;&#x9A8C;&#x8BC1;</p>
</li>
<li><p>&#x7528;&#x4E00;&#x4E2A;&#x547D;&#x4EE4;&#x884C;&#x9009;&#x9879;&#x6765;&#x5B9E;&#x73B0;&#x201C;&#x4EA4;&#x4E92;&#x201D;&#x6A21;&#x5F0F;&#xFF0C;&#x63D0;&#x793A;&#x7528;&#x6237;&#x8F93;&#x5165;&#x672C;&#x91D1;&#x3001;&#x5229;&#x7387;&#x548C;&#x8D37;&#x6B3E;&#x671F;&#x9650;</p>
</li>
<li><p>&#x8F93;&#x51FA;&#x683C;&#x5F0F;&#x7F8E;&#x5316;</p>
</li>
</ul>
<h3 id="&#x62D3;&#x5C55;&#x9605;&#x8BFB;">&#x62D3;&#x5C55;&#x9605;&#x8BFB;</h3>
<ul>
<li><p>The Bash Hackers Wiki has a good discussion of parameter expansion:</p>
</li>
<li><p>&#x300A;Bash Hackers Wiki&#x300B;&#x5BF9;&#x53C2;&#x6570;&#x5C55;&#x5F00;&#x6709;&#x4E00;&#x4E2A;&#x5F88;&#x597D;&#x7684;&#x8BBA;&#x8FF0;&#xFF1A;</p>
<p>  <a href="http://wiki.bash-hackers.org/syntax/pe" target="_blank">http://wiki.bash-hackers.org/syntax/pe</a></p>
</li>
<li><p>The Bash Reference Manual covers this, too:</p>
</li>
<li><p>&#x300A;Bash &#x53C2;&#x8003;&#x624B;&#x518C;&#x300B;&#x4E5F;&#x4ECB;&#x7ECD;&#x4E86;&#x8FD9;&#x4E2A;&#xFF1A;</p>
<p>  <a href="http://www.gnu.org/software/bash/manual/bashref.html#Shell-Parameter-Expansion" target="_blank">http://www.gnu.org/software/bash/manual/bashref.html#Shell-Parameter-Expansion</a></p>
</li>
<li><p>The Wikipedia has a good article describing bit operations:</p>
</li>
<li><p>Wikipedia &#x4E0A;&#x9762;&#x6709;&#x4E00;&#x7BC7;&#x5F88;&#x597D;&#x7684;&#x6587;&#x7AE0;&#x63CF;&#x8FF0;&#x4E86;&#x4F4D;&#x8FD0;&#x7B97;&#xFF1A;</p>
<p>  <a href="http://en.wikipedia.org/wiki/Bit_operation" target="_blank">http://en.wikipedia.org/wiki/Bit_operation</a></p>
</li>
<li><p>and an article on ternary operations:</p>
</li>
<li><p>&#x548C;&#x4E00;&#x7BC7;&#x5173;&#x4E8E;&#x4E09;&#x5143;&#x8FD0;&#x7B97;&#x7684;&#x6587;&#x7AE0;&#xFF1A;</p>
<p>  <a href="http://en.wikipedia.org/wiki/Ternary_operation" target="_blank">http://en.wikipedia.org/wiki/Ternary_operation</a></p>
</li>
<li><p>as well as a description of the formula for calculating loan payments used in our loan-calc script:</p>
</li>
<li><p>&#x8FD8;&#x6709;&#x4E00;&#x4E2A;&#x5BF9;&#x8BA1;&#x7B97;&#x8FD8;&#x8D37;&#x91D1;&#x989D;&#x516C;&#x5F0F;&#x7684;&#x63CF;&#x8FF0;&#xFF0C;&#x6211;&#x4EEC;&#x7684; loan-calc &#x811A;&#x672C;&#x4E2D;&#x7528;&#x5230;&#x4E86;&#x8FD9;&#x4E2A;&#x516C;&#x5F0F;&#xFF1A;</p>
<p>  <a href="http://en.wikipedia.org/wiki/Amortization_calculator" target="_blank">http://en.wikipedia.org/wiki/Amortization_calculator</a></p>
</li>
</ul>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="chap34.html" class="navigation navigation-prev " aria-label="Previous page: 34. 流程控制：for 循环">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="chap36.html" class="navigation navigation-next " aria-label="Next page: 36. 数组">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"layout":"book","title":"35. 字符串和数字","level":"1.1.35","depth":2,"next":{"title":"36. 数组","level":"1.1.36","depth":2,"path":"chap36.md","ref":"chap36.md","articles":[]},"previous":{"title":"34. 流程控制：for 循环","level":"1.1.34","depth":2,"path":"chap34.md","ref":"chap34.md","articles":[]},"dir":"ltr"},"config":{"plugins":[],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"language":"en","gitbook":"*"},"file":{"path":"chap35.md","mtime":"2017-01-12T13:05:37.000Z","type":"markdown"},"gitbook":{"version":"3.2.2","time":"2017-01-12T13:06:00.166Z"},"basePath":".","book":{"language":"en"}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

