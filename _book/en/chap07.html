
<!DOCTYPE HTML>
<html lang="en" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>07. 重定向 · GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.2">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="chap08.html" />
    
    
    <link rel="prev" href="chap06.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                    Introduction
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.1" data-path="chap01.html">
            
                <a href="chap01.html">
            
                    
                    01. 引言
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.2" data-path="chap02.html">
            
                <a href="chap02.html">
            
                    
                    02. 什么是 shell
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.3" data-path="chap03.html">
            
                <a href="chap03.html">
            
                    
                    03. 文件系统中跳转
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.4" data-path="chap04.html">
            
                <a href="chap04.html">
            
                    
                    04. 探究操作系统
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.5" data-path="chap05.html">
            
                <a href="chap05.html">
            
                    
                    05. 操作文件和目录
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.6" data-path="chap06.html">
            
                <a href="chap06.html">
            
                    
                    06. 使用命令
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.1.7" data-path="chap07.html">
            
                <a href="chap07.html">
            
                    
                    07. 重定向
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.8" data-path="chap08.html">
            
                <a href="chap08.html">
            
                    
                    08. 从 shell 眼中看世界
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.9" data-path="chap09.html">
            
                <a href="chap09.html">
            
                    
                    09. 键盘高级操作技巧
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.10" data-path="chap10.html">
            
                <a href="chap10.html">
            
                    
                    10. 权限
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.11" data-path="chap11.html">
            
                <a href="chap11.html">
            
                    
                    11. 进程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.12" data-path="chap12.html">
            
                <a href="chap12.html">
            
                    
                    12. shell 环境
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.13" data-path="chap13.html">
            
                <a href="chap13.html">
            
                    
                    13. vi 简介
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.14" data-path="chap14.html">
            
                <a href="chap14.html">
            
                    
                    14. 自定制 shell 提示符
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.15" data-path="chap15.html">
            
                <a href="chap15.html">
            
                    
                    15. 软件包管理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.16" data-path="chap16.html">
            
                <a href="chap16.html">
            
                    
                    16. 存储媒介
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.17" data-path="chap17.html">
            
                <a href="chap17.html">
            
                    
                    17. 网络系统
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.18" data-path="chap18.html">
            
                <a href="chap18.html">
            
                    
                    18. 查找文件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.19" data-path="chap19.html">
            
                <a href="chap19.html">
            
                    
                    19. 归档和备份
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.20" data-path="chap20.html">
            
                <a href="chap20.html">
            
                    
                    20. 正则表达式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.21" data-path="chap21.html">
            
                <a href="chap21.html">
            
                    
                    21. 文本处理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.22" data-path="chap22.html">
            
                <a href="chap22.html">
            
                    
                    22. 格式化输出
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.23" data-path="chap23.html">
            
                <a href="chap23.html">
            
                    
                    23. 打印
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.24" data-path="chap24.html">
            
                <a href="chap24.html">
            
                    
                    24. 编译程序
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.25" data-path="chap25.html">
            
                <a href="chap25.html">
            
                    
                    25. 编写第一个 Shell 脚本
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.26" data-path="chap26.html">
            
                <a href="chap26.html">
            
                    
                    26. 启动一个项目
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.27" data-path="chap27.html">
            
                <a href="chap27.html">
            
                    
                    27. 自顶向下设计
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.28" data-path="chap28.html">
            
                <a href="chap28.html">
            
                    
                    28. 流程控制：if 分支结构
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.29" data-path="chap29.html">
            
                <a href="chap29.html">
            
                    
                    29. 读取键盘输入
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.30" data-path="chap30.html">
            
                <a href="chap30.html">
            
                    
                    30. 流程控制：while/until 循环
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.31" data-path="chap31.html">
            
                <a href="chap31.html">
            
                    
                    31. 疑难排解
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.32" data-path="chap32.html">
            
                <a href="chap32.html">
            
                    
                    32. 流程控制：case 分支
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.33" data-path="chap33.html">
            
                <a href="chap33.html">
            
                    
                    33. 位置参数
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.34" data-path="chap34.html">
            
                <a href="chap34.html">
            
                    
                    34. 流程控制：for 循环
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.35" data-path="chap35.html">
            
                <a href="chap35.html">
            
                    
                    35. 字符串和数字
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.36" data-path="chap36.html">
            
                <a href="chap36.html">
            
                    
                    36. 数组
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.37" data-path="chap37.html">
            
                <a href="chap37.html">
            
                    
                    37. 奇珍异宝
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >07. 重定向</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <p>In this lesson we are going to unleash what may be the coolest feature of the command
line. It&apos;s called I/O redirection. The &#x201C;I/O&#x201D; stands for input/output and with this facility
you can redirect the input and output of commands to and from files, as well as connect
multiple commands together into powerful command pipelines. To show off this facility,
we will introduce the following commands:</p>
<p>&#x8FD9;&#x5802;&#x8BFE;&#xFF0C;&#x6211;&#x4EEC;&#x6765;&#x4ECB;&#x7ECD;&#x53EF;&#x80FD;&#x662F;&#x547D;&#x4EE4;&#x884C;&#x6700;&#x9177;&#x7684;&#x7279;&#x6027;&#x3002;&#x5B83;&#x53EB;&#x505A; I/O &#x91CD;&#x5B9A;&#x5411;&#x3002;&quot;I/O&quot;&#x4EE3;&#x8868;&#x8F93;&#x5165;/&#x8F93;&#x51FA;&#xFF0C;
&#x901A;&#x8FC7;&#x8FD9;&#x4E2A;&#x5DE5;&#x5177;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x91CD;&#x5B9A;&#x5411;&#x547D;&#x4EE4;&#x7684;&#x8F93;&#x5165;&#x8F93;&#x51FA;&#xFF0C;&#x547D;&#x4EE4;&#x7684;&#x8F93;&#x5165;&#x6765;&#x81EA;&#x6587;&#x4EF6;&#xFF0C;&#x800C;&#x8F93;&#x51FA;&#x4E5F;&#x5B58;&#x5230;&#x6587;&#x4EF6;&#x3002;
&#x4E5F;&#x53EF;&#x4EE5;&#x628A;&#x591A;&#x4E2A;&#x547D;&#x4EE4;&#x8FDE;&#x63A5;&#x8D77;&#x6765;&#x7EC4;&#x6210;&#x4E00;&#x4E2A;&#x5F3A;&#x5927;&#x7684;&#x547D;&#x4EE4;&#x7BA1;&#x9053;&#x3002;&#x4E3A;&#x4E86;&#x5C55;&#x793A;&#x8FD9;&#x4E2A;&#x5DE5;&#x5177;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;&#x53D9;&#x8FF0;
&#x4EE5;&#x4E0B;&#x547D;&#x4EE4;&#xFF1A;</p>
<ul>
<li><p>cat - Concatenate files</p>
</li>
<li><p>sort - Sort lines of text</p>
</li>
<li><p>uniq - Report or omit repeated lines</p>
</li>
<li><p>grep - Print lines matching a pattern</p>
</li>
<li><p>wc - Print newline, word, and byte counts for each file</p>
</li>
<li><p>head - Output the first part of a file</p>
</li>
<li><p>tail - Output the last part of a file</p>
</li>
<li><p>tee - Read from standard input and write to standard output and files</p>
</li>
<li><p>cat &#xFF0D; &#x8FDE;&#x63A5;&#x6587;&#x4EF6;</p>
</li>
<li><p>sort &#xFF0D; &#x6392;&#x5E8F;&#x6587;&#x672C;&#x884C;</p>
</li>
<li><p>uniq &#xFF0D; &#x62A5;&#x9053;&#x6216;&#x7701;&#x7565;&#x91CD;&#x590D;&#x884C;</p>
</li>
<li><p>grep &#xFF0D; &#x6253;&#x5370;&#x5339;&#x914D;&#x884C;</p>
</li>
<li><p>wc &#xFF0D; &#x6253;&#x5370;&#x6587;&#x4EF6;&#x4E2D;&#x6362;&#x884C;&#x7B26;&#xFF0C;&#x5B57;&#xFF0C;&#x548C;&#x5B57;&#x8282;&#x4E2A;&#x6570;</p>
</li>
<li><p>head &#xFF0D; &#x8F93;&#x51FA;&#x6587;&#x4EF6;&#x7B2C;&#x4E00;&#x90E8;&#x5206;</p>
</li>
<li><p>tail - &#x8F93;&#x51FA;&#x6587;&#x4EF6;&#x6700;&#x540E;&#x4E00;&#x90E8;&#x5206;</p>
</li>
<li>tee - &#x4ECE;&#x6807;&#x51C6;&#x8F93;&#x5165;&#x8BFB;&#x53D6;&#x6570;&#x636E;&#xFF0C;&#x5E76;&#x540C;&#x65F6;&#x5199;&#x5230;&#x6807;&#x51C6;&#x8F93;&#x51FA;&#x548C;&#x6587;&#x4EF6;</li>
</ul>
<h3 id="&#x6807;&#x51C6;&#x8F93;&#x5165;&#xFF0C;&#x8F93;&#x51FA;&#xFF0C;&#x548C;&#x9519;&#x8BEF;">&#x6807;&#x51C6;&#x8F93;&#x5165;&#xFF0C;&#x8F93;&#x51FA;&#xFF0C;&#x548C;&#x9519;&#x8BEF;</h3>
<p>Many of the programs that we have used so far produce output of some kind. This output
often consists of two types. First, we have the program&apos;s results; that is, the data the
program is designed to produce, and second, we have status and error messages that tell
us how the program is getting along. If we look at a command like ls, we can see that it
displays its results and its error messages on the screen.</p>
<p>&#x5230;&#x76EE;&#x524D;&#x4E3A;&#x6B62;&#xFF0C;&#x6211;&#x4EEC;&#x7528;&#x5230;&#x7684;&#x8BB8;&#x591A;&#x7A0B;&#x5E8F;&#x90FD;&#x4F1A;&#x4EA7;&#x751F;&#x67D0;&#x79CD;&#x8F93;&#x51FA;&#x3002;&#x8FD9;&#x79CD;&#x8F93;&#x51FA;&#xFF0C;&#x7ECF;&#x5E38;&#x7531;&#x4E24;&#x79CD;&#x7C7B;&#x578B;&#x7EC4;&#x6210;&#x3002;
&#x7B2C;&#x4E00;&#xFF0C;&#x7A0B;&#x5E8F;&#x8FD0;&#x884C;&#x7ED3;&#x679C;&#xFF1B;&#x8FD9;&#x662F;&#x8BF4;&#xFF0C;&#x7A0B;&#x5E8F;&#x8981;&#x5B8C;&#x6210;&#x7684;&#x529F;&#x80FD;&#x3002;&#x7B2C;&#x4E8C;&#xFF0C;&#x6211;&#x4EEC;&#x5F97;&#x5230;&#x72B6;&#x6001;&#x548C;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#xFF0C;
&#x8FD9;&#x4E9B;&#x544A;&#x8BC9;&#x6211;&#x4EEC;&#x7A0B;&#x5E8F;&#x8FDB;&#x5C55;&#x3002;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x89C2;&#x5BDF;&#x4E00;&#x4E2A;&#x547D;&#x4EE4;&#xFF0C;&#x50CF; ls&#xFF0C;&#x4F1A;&#x770B;&#x5230;&#x5B83;&#x7684;&#x8FD0;&#x884C;&#x7ED3;&#x679C;&#x548C;&#x9519;&#x8BEF;&#x4FE1;&#x606F;
&#x663E;&#x793A;&#x5728;&#x5C4F;&#x5E55;&#x4E0A;&#x3002;</p>
<p>Keeping with the Unix theme of &#x201C;everything is a file,&#x201D; programs such as ls actually send
their results to a special file called standard output (often expressed as stdout) and their
status messages to another file called standard error (stderr). By default, both standard
output and standard error are linked to the screen and not saved into a disk file.
In addition, many programs take input from a facility called standard input (stdin) which
is, by default, attached to the keyboard.</p>
<p>&#x4E0E; Unix &#x4E3B;&#x9898;&#x201C;&#x4EFB;&#x4F55;&#x4E1C;&#x897F;&#x90FD;&#x662F;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x201D;&#x4FDD;&#x6301;&#x4E00;&#x81F4;&#xFF0C;&#x7A0B;&#x5E8F;&#xFF0C;&#x6BD4;&#x65B9;&#x8BF4; ls&#xFF0C;&#x5B9E;&#x9645;&#x4E0A;&#x628A;&#x4ED6;&#x4EEC;&#x7684;&#x8FD0;&#x884C;&#x7ED3;&#x679C;
&#x8F93;&#x9001;&#x5230;&#x4E00;&#x4E2A;&#x53EB;&#x505A;&#x6807;&#x51C6;&#x8F93;&#x51FA;&#x7684;&#x7279;&#x6B8A;&#x6587;&#x4EF6;&#xFF08;&#x7ECF;&#x5E38;&#x7528; stdout &#x8868;&#x793A;&#xFF09;&#xFF0C;&#x800C;&#x5B83;&#x4EEC;&#x7684;&#x72B6;&#x6001;&#x4FE1;&#x606F;&#x5219;&#x9001;&#x5230;&#x53E6;&#x4E00;&#x4E2A;
&#x53EB;&#x505A;&#x6807;&#x51C6;&#x9519;&#x8BEF;&#x7684;&#x6587;&#x4EF6;&#xFF08;stderr&#xFF09;&#x3002;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x6807;&#x51C6;&#x8F93;&#x51FA;&#x548C;&#x6807;&#x51C6;&#x9519;&#x8BEF;&#x90FD;&#x8FDE;&#x63A5;&#x5230;&#x5C4F;&#x5E55;&#xFF0C;&#x800C;&#x4E0D;&#x662F;
&#x4FDD;&#x5B58;&#x5230;&#x78C1;&#x76D8;&#x6587;&#x4EF6;&#x3002;&#x9664;&#x6B64;&#x4E4B;&#x5916;&#xFF0C;&#x8BB8;&#x591A;&#x7A0B;&#x5E8F;&#x4ECE;&#x4E00;&#x4E2A;&#x53EB;&#x505A;&#x6807;&#x51C6;&#x8F93;&#x5165;&#xFF08;stdin&#xFF09;&#x7684;&#x8BBE;&#x5907;&#x5F97;&#x5230;&#x8F93;&#x5165;&#xFF0C;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;
&#x6807;&#x51C6;&#x8F93;&#x5165;&#x8FDE;&#x63A5;&#x5230;&#x952E;&#x76D8;&#x3002;</p>
<p>I/O redirection allows us to change where output goes and where input comes from.
Normally, output goes to the screen and input comes from the keyboard, but with I/O
redirection, we can change that.</p>
<p>I/O &#x91CD;&#x5B9A;&#x5411;&#x5141;&#x8BB8;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x66F4;&#x6539;&#x8F93;&#x51FA;&#x8D70;&#x5411;&#x548C;&#x8F93;&#x5165;&#x6765;&#x5411;&#x3002;&#x4E00;&#x822C;&#x5730;&#xFF0C;&#x8F93;&#x51FA;&#x9001;&#x5230;&#x5C4F;&#x5E55;&#xFF0C;&#x8F93;&#x5165;&#x6765;&#x81EA;&#x952E;&#x76D8;&#xFF0C;
&#x4F46;&#x662F;&#x901A;&#x8FC7; I/O &#x91CD;&#x5B9A;&#x5411;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x6539;&#x53D8;&#x8F93;&#x5165;&#x8F93;&#x51FA;&#x65B9;&#x5411;&#x3002;</p>
<h3 id="&#x91CD;&#x5B9A;&#x5411;&#x6807;&#x51C6;&#x8F93;&#x51FA;">&#x91CD;&#x5B9A;&#x5411;&#x6807;&#x51C6;&#x8F93;&#x51FA;</h3>
<p>I/O redirection allows us to redefine where standard output goes. To redirect standard
output to another file besides the screen, we use the &quot;&gt;&quot; redirection operator followed by
the name of the file. Why would we want to do this? It&apos;s often useful to store the output
of a command in a file. For example, we could tell the shell to send the output of the ls
command to the file ls-output.txt instead of the screen:</p>
<p>I/O &#x91CD;&#x5B9A;&#x5411;&#x5141;&#x8BB8;&#x6211;&#x4EEC;&#x6765;&#x91CD;&#x5B9A;&#x4E49;&#x6807;&#x51C6;&#x8F93;&#x51FA;&#x9001;&#x5230;&#x54EA;&#x91CC;&#x3002;&#x91CD;&#x5B9A;&#x5411;&#x6807;&#x51C6;&#x8F93;&#x51FA;&#x5230;&#x53E6;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x9664;&#x4E86;&#x5C4F;&#x5E55;&#xFF0C;&#x6211;&#x4EEC;&#x4F7F;&#x7528;
&quot;&gt;&quot; &#x91CD;&#x5B9A;&#x5411;&#x7B26;&#xFF0C;&#x5176;&#x540E;&#x8DDF;&#x7740;&#x6587;&#x4EF6;&#x540D;&#x3002;&#x4E3A;&#x4EC0;&#x4E48;&#x6211;&#x4EEC;&#x8981;&#x8FD9;&#x6837;&#x505A;&#x5462;&#xFF1F;&#x56E0;&#x4E3A;&#x6709;&#x65F6;&#x5019;&#x628A;&#x4E00;&#x4E2A;&#x547D;&#x4EE4;&#x7684;&#x8FD0;&#x884C;&#x7ED3;&#x679C;&#x5B58;&#x50A8;&#x5230;
&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x5F88;&#x6709;&#x7528;&#x5904;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x544A;&#x8BC9; shell &#x628A; ls &#x547D;&#x4EE4;&#x7684;&#x8FD0;&#x884C;&#x7ED3;&#x679C;&#x8F93;&#x9001;&#x5230;&#x6587;&#x4EF6; ls-output.txt &#x4E2D;&#x53BB;&#xFF0C;
&#x7531;&#x6587;&#x4EF6;&#x4EE3;&#x66FF;&#x5C4F;&#x5E55;&#x3002;</p>
<pre><code>[me@linuxbox ~]$ ls -l /usr/bin &gt; ls-output.txt
</code></pre><p>Here, we created a long listing of the /usr/bin directory and sent the results to the file
ls-output.txt. Let&apos;s examine the redirected output of the command:</p>
<p>&#x8FD9;&#x91CC;&#xFF0C;&#x6211;&#x4EEC;&#x521B;&#x5EFA;&#x4E86;&#x4E00;&#x4E2A;&#x957F;&#x957F;&#x7684;&#x76EE;&#x5F55;/usr/bin &#x5217;&#x8868;&#xFF0C;&#x5E76;&#x4E14;&#x8F93;&#x9001;&#x7A0B;&#x5E8F;&#x8FD0;&#x884C;&#x7ED3;&#x679C;&#x5230;&#x6587;&#x4EF6; ls-output.txt &#x4E2D;&#x3002;
&#x6211;&#x4EEC;&#x68C0;&#x67E5;&#x4E00;&#x4E0B;&#x91CD;&#x5B9A;&#x5411;&#x7684;&#x547D;&#x4EE4;&#x8F93;&#x51FA;&#x7ED3;&#x679C;&#xFF1A;</p>
<pre><code>[me@linuxbox ~]$ ls -l ls-output.txt
-rw-rw-r-- 1   me   me    167878 2008-02-01 15:07 ls-output.txt
</code></pre><p>Good; a nice, large, text file. If we look at the file with less, we will see that the file
ls-output.txt does indeed contain the results from our ls command:</p>
<p>&#x597D;&#xFF1B;&#x4E00;&#x4E2A;&#x4E0D;&#x9519;&#x7684;&#x5927;&#x578B;&#x6587;&#x672C;&#x6587;&#x4EF6;&#x3002;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x7528; less &#x9605;&#x8BFB;&#x5668;&#x6765;&#x67E5;&#x770B;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#xFF0C;&#x6211;&#x4EEC;&#x4F1A;&#x770B;&#x5230;&#x6587;&#x4EF6;
ls-output.txt &#x7684;&#x786E;&#x5305;&#x542B; ls &#x547D;&#x4EE4;&#x7684;&#x6267;&#x884C;&#x7ED3;&#x679C;&#x3002;</p>
<pre><code>[me@linuxbox ~]$ less ls-output.txt
</code></pre><p>Now, let&apos;s repeat our redirection test, but this time with a twist. We&apos;ll change the name of
the directory to one that does not exist:</p>
<p>&#x73B0;&#x5728;&#xFF0C;&#x91CD;&#x590D;&#x6211;&#x4EEC;&#x7684;&#x91CD;&#x5B9A;&#x5411;&#x6D4B;&#x8BD5;&#xFF0C;&#x4F46;&#x8FD9;&#x6B21;&#x6709;&#x6539;&#x52A8;&#x3002;&#x6211;&#x4EEC;&#x628A;&#x76EE;&#x5F55;&#x6362;&#x6210;&#x4E00;&#x4E2A;&#x4E0D;&#x5B58;&#x5728;&#x7684;&#x76EE;&#x5F55;&#x3002;</p>
<pre><code>[me@linuxbox ~]$ ls -l /bin/usr &gt; ls-output.txt
ls: cannot access /bin/usr: No such file or directory
</code></pre><p>We received an error message. This makes sense since we specified the non-existent
directory /bin/usr, but why was the error message displayed on the screen rather than
being redirected to the file ls-output.txt? The answer is that the ls program does
not send its error messages to standard output. Instead, like most well-written Unix
programs, it sends its error messages to standard error. Since we only redirected standard
output and not standard error, the error message was still sent to the screen. We&apos;ll see
how to redirect standard error in just a minute, but first, let&apos;s look at what happened to our
output file:</p>
<p>&#x6211;&#x4EEC;&#x6536;&#x5230;&#x4E00;&#x4E2A;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#x3002;&#x8FD9;&#x8BB2;&#x5F97;&#x901A;&#xFF0C;&#x56E0;&#x4E3A;&#x6211;&#x4EEC;&#x6307;&#x5B9A;&#x4E86;&#x4E00;&#x4E2A;&#x4E0D;&#x5B58;&#x5728;&#x7684;&#x76EE;&#x5F55;/bin/usr,
&#x4F46;&#x662F;&#x4E3A;&#x4EC0;&#x4E48;&#x8FD9;&#x6761;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#x663E;&#x793A;&#x5728;&#x5C4F;&#x5E55;&#x4E0A;&#x800C;&#x4E0D;&#x662F;&#x88AB;&#x91CD;&#x5B9A;&#x5411;&#x5230;&#x6587;&#x4EF6; ls-output.txt&#xFF1F;&#x7B54;&#x6848;&#x662F;&#xFF0C;
ls &#x7A0B;&#x5E8F;&#x4E0D;&#x628A;&#x5B83;&#x7684;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#x8F93;&#x9001;&#x5230;&#x6807;&#x51C6;&#x8F93;&#x51FA;&#x3002;&#x53CD;&#x800C;&#xFF0C;&#x50CF;&#x8BB8;&#x591A;&#x5199;&#x5F97;&#x4E0D;&#x9519;&#x7684; Unix &#x7A0B;&#x5E8F;&#xFF0C;ls &#x628A;
&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#x9001;&#x5230;&#x6807;&#x51C6;&#x9519;&#x8BEF;&#x3002;&#x56E0;&#x4E3A;&#x6211;&#x4EEC;&#x53EA;&#x662F;&#x91CD;&#x5B9A;&#x5411;&#x4E86;&#x6807;&#x51C6;&#x8F93;&#x51FA;&#xFF0C;&#x800C;&#x6CA1;&#x6709;&#x91CD;&#x5B9A;&#x5411;&#x6807;&#x51C6;&#x9519;&#x8BEF;&#xFF0C;
&#x6240;&#x4EE5;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#x88AB;&#x9001;&#x5230;&#x5C4F;&#x5E55;&#x3002;&#x9A6C;&#x4E0A;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;&#x77E5;&#x9053;&#x600E;&#x6837;&#x91CD;&#x5B9A;&#x5411;&#x6807;&#x51C6;&#x9519;&#x8BEF;&#xFF0C;&#x4F46;&#x662F;&#x9996;&#x5148;&#x770B;&#x4E00;&#x4E0B;
&#x6211;&#x4EEC;&#x7684;&#x8F93;&#x51FA;&#x6587;&#x4EF6;&#x53D1;&#x751F;&#x4E86;&#x4EC0;&#x4E48;&#x4E8B;&#x60C5;&#x3002;</p>
<pre><code>me@linuxbox ~]$ ls -l ls-output.txt
-rw-rw-r-- 1 me   me    0 2008-02-01 15:08 ls-output.txt
</code></pre><p>The file now has zero length! This is because, when we redirect output with the &#x201C;&gt;&#x201D;
redirection operator, the destination file is always rewritten from the beginning. Since
our ls command generated no results and only an error message, the redirection
operation started to rewrite the file and then stopped because of the error, resulting in its
truncation. In fact, if we ever need to actually truncate a file (or create a new, empty file)
we can use a trick like this:</p>
<p>&#x6587;&#x4EF6;&#x957F;&#x5EA6;&#x4E3A;&#x96F6;&#xFF01;&#x8FD9;&#x662F;&#x56E0;&#x4E3A;&#xFF0C;&#x5F53;&#x6211;&#x4EEC;&#x4F7F;&#x7528; &quot;&gt;&quot; &#x91CD;&#x5B9A;&#x5411;&#x7B26;&#x6765;&#x91CD;&#x5B9A;&#x5411;&#x8F93;&#x51FA;&#x7ED3;&#x679C;&#x65F6;&#xFF0C;&#x76EE;&#x6807;&#x6587;&#x4EF6;&#x603B;&#x662F;&#x4ECE;&#x5F00;&#x5934;&#x88AB;&#x91CD;&#x5199;&#x3002;
&#x56E0;&#x4E3A;&#x6211;&#x4EEC; ls &#x547D;&#x4EE4;&#x6CA1;&#x6709;&#x4EA7;&#x751F;&#x8FD0;&#x884C;&#x7ED3;&#x679C;&#xFF0C;&#x53EA;&#x6709;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#xFF0C;&#x91CD;&#x5B9A;&#x5411;&#x64CD;&#x4F5C;&#x5F00;&#x59CB;&#x91CD;&#x5199;&#x6587;&#x4EF6;&#xFF0C;&#x7136;&#x540E;
&#x7531;&#x4E8E;&#x9519;&#x8BEF;&#x800C;&#x505C;&#x6B62;&#xFF0C;&#x5BFC;&#x81F4;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x5220;&#x9664;&#x3002;&#x4E8B;&#x5B9E;&#x4E0A;&#xFF0C;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x5220;&#x9664;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#xFF08;&#x6216;&#x8005;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;
&#x65B0;&#x7684;&#x7A7A;&#x6587;&#x4EF6;&#xFF09;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x8FD9;&#x6837;&#x7684;&#x6280;&#x5DE7;&#xFF1A;</p>
<pre><code>[me@linuxbox ~]$ &gt; ls-output.txt
</code></pre><p>Simply using the redirection operator with no command preceding it will truncate an
existing file or create a new, empty file.</p>
<p>&#x7B80;&#x5355;&#x5730;&#x4F7F;&#x7528;&#x91CD;&#x5B9A;&#x5411;&#x7B26;&#xFF0C;&#x6CA1;&#x6709;&#x547D;&#x4EE4;&#x5728;&#x5B83;&#x4E4B;&#x524D;&#xFF0C;&#x8FD9;&#x4F1A;&#x5220;&#x9664;&#x4E00;&#x4E2A;&#x5DF2;&#x5B58;&#x5728;&#x6587;&#x4EF6;&#x7684;&#x5185;&#x5BB9;&#x6216;&#x662F;
&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x7A7A;&#x6587;&#x4EF6;&#x3002;</p>
<p>So, how can we append redirected output to a file instead of overwriting the file from the
beginning? For that, we use the &quot;&gt;&gt;&quot; redirection operator, like so:</p>
<p>&#x6240;&#x4EE5;&#xFF0C;&#x600E;&#x6837;&#x624D;&#x80FD;&#x628A;&#x91CD;&#x5B9A;&#x5411;&#x7ED3;&#x679C;&#x8FFD;&#x52A0;&#x5230;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x540E;&#x9762;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x4ECE;&#x5F00;&#x5934;&#x91CD;&#x5199;&#x6587;&#x4EF6;&#xFF1F;&#x4E3A;&#x4E86;&#x8FD9;&#x4E2A;&#x76EE;&#x7684;&#xFF0C;
&#x6211;&#x4EEC;&#x4F7F;&#x7528;&quot;&gt;&gt;&quot;&#x91CD;&#x5B9A;&#x5411;&#x7B26;&#xFF0C;&#x50CF;&#x8FD9;&#x6837;&#xFF1A;</p>
<pre><code>[me@linuxbox ~]$ ls -l /usr/bin &gt;&gt; ls-output.txt
</code></pre><p>Using the &quot;&gt;&gt;&quot; operator will result in the output being appended to the file. If the file
does not already exist, it is created just as though the &#x201C;&gt;&#x201D; operator had been used. Let&apos;s
put it to the test:</p>
<p>&#x4F7F;&#x7528;&quot;&gt;&gt;&quot;&#x64CD;&#x4F5C;&#x7B26;&#xFF0C;&#x5C06;&#x5BFC;&#x81F4;&#x8F93;&#x51FA;&#x7ED3;&#x679C;&#x6DFB;&#x52A0;&#x5230;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x4E4B;&#x540E;&#x3002;&#x5982;&#x679C;&#x6587;&#x4EF6;&#x4E0D;&#x5B58;&#x5728;&#xFF0C;&#x6587;&#x4EF6;&#x4F1A;
&#x88AB;&#x521B;&#x5EFA;&#xFF0C;&#x5C31;&#x5982;&#x4F7F;&#x7528;&#x4E86;&quot;&gt;&quot;&#x64CD;&#x4F5C;&#x7B26;&#x3002;&#x628A;&#x5B83;&#x653E;&#x5230;&#x6D4B;&#x8BD5;&#x4E2D;&#xFF1A;</p>
<pre><code>[me@linuxbox ~]$ ls -l /usr/bin &gt;&gt; ls-output.txt
[me@linuxbox ~]$ ls -l /usr/bin &gt;&gt; ls-output.txt
[me@linuxbox ~]$ ls -l /usr/bin &gt;&gt; ls-output.txt
[me@linuxbox ~]$ ls -l ls-output.txt
-rw-rw-r-- 1 me   me    503634 2008-02-01 15:45 ls-output.txt
</code></pre><p>We repeated the command three times resulting in an output file three times as large.</p>
<p>&#x6211;&#x4EEC;&#x91CD;&#x590D;&#x6267;&#x884C;&#x547D;&#x4EE4;&#x4E09;&#x6B21;&#xFF0C;&#x5BFC;&#x81F4;&#x8F93;&#x51FA;&#x6587;&#x4EF6;&#x5927;&#x5C0F;&#x662F;&#x539F;&#x6765;&#x7684;&#x4E09;&#x500D;&#x3002;</p>
<h3 id="&#x91CD;&#x5B9A;&#x5411;&#x6807;&#x51C6;&#x9519;&#x8BEF;">&#x91CD;&#x5B9A;&#x5411;&#x6807;&#x51C6;&#x9519;&#x8BEF;</h3>
<p>Redirecting standard error lacks the ease of a dedicated redirection operator. To redirect
standard error we must refer to its file descriptor. A program can produce output on any
of several numbered file streams. While we have referred to the first three of these file
streams as standard input, output and error, the shell references them internally as file
descriptors zero, one and two, respectively. The shell provides a notation for redirecting
files using the file descriptor number. Since standard error is the same as file descriptor
number two, we can redirect standard error with this notation:</p>
<p>&#x91CD;&#x5B9A;&#x5411;&#x6807;&#x51C6;&#x9519;&#x8BEF;&#x7F3A;&#x4E4F;&#x4E13;&#x7528;&#x7684;&#x91CD;&#x5B9A;&#x5411;&#x64CD;&#x4F5C;&#x7B26;&#x3002;&#x91CD;&#x5B9A;&#x5411;&#x6807;&#x51C6;&#x9519;&#x8BEF;&#xFF0C;&#x6211;&#x4EEC;&#x5FC5;&#x987B;&#x53C2;&#x8003;&#x5B83;&#x7684;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#x3002;
&#x4E00;&#x4E2A;&#x7A0B;&#x5E8F;&#x53EF;&#x4EE5;&#x5728;&#x51E0;&#x4E2A;&#x7F16;&#x53F7;&#x7684;&#x6587;&#x4EF6;&#x6D41;&#x4E2D;&#x7684;&#x4EFB;&#x4E00;&#x4E2A;&#x4E0A;&#x4EA7;&#x751F;&#x8F93;&#x51FA;&#x3002;&#x7136;&#x800C;&#x6211;&#x4EEC;&#x5FC5;&#x987B;&#x628A;&#x8FD9;&#x4E9B;&#x6587;&#x4EF6;&#x6D41;&#x7684;&#x524D;
&#x4E09;&#x4E2A;&#x770B;&#x4F5C;&#x6807;&#x51C6;&#x8F93;&#x5165;&#xFF0C;&#x8F93;&#x51FA;&#x548C;&#x9519;&#x8BEF;&#xFF0C;shell &#x5185;&#x90E8;&#x53C2;&#x8003;&#x5B83;&#x4EEC;&#x4E3A;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;0&#xFF0C;1&#x548C;2&#xFF0C;&#x5404;&#x81EA;&#x5730;&#x3002;shell &#x63D0;&#x4F9B;
&#x4E86;&#x4E00;&#x79CD;&#x8868;&#x793A;&#x6CD5;&#x6765;&#x91CD;&#x5B9A;&#x5411;&#x6587;&#x4EF6;&#xFF0C;&#x4F7F;&#x7528;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#x3002;&#x56E0;&#x4E3A;&#x6807;&#x51C6;&#x9519;&#x8BEF;&#x548C;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;2&#x4E00;&#x6837;&#xFF0C;&#x6211;&#x4EEC;&#x7528;&#x8FD9;&#x79CD;
&#x8868;&#x793A;&#x6CD5;&#x6765;&#x91CD;&#x5B9A;&#x5411;&#x6807;&#x51C6;&#x9519;&#x8BEF;&#xFF1A;</p>
<pre><code>[me@linuxbox ~]$ ls -l /bin/usr 2&gt; ls-error.txt
</code></pre><p>The file descriptor &#x201C;2&#x201D; is placed immediately before the redirection operator to perform
the redirection of standard error to the file ls-error.txt.</p>
<p>&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&quot;2&quot;&#xFF0C;&#x7D27;&#x6328;&#x7740;&#x653E;&#x5728;&#x91CD;&#x5B9A;&#x5411;&#x64CD;&#x4F5C;&#x7B26;&#x4E4B;&#x524D;&#xFF0C;&#x6765;&#x6267;&#x884C;&#x91CD;&#x5B9A;&#x5411;&#x6807;&#x51C6;&#x9519;&#x8BEF;&#x5230;&#x6587;&#x4EF6; ls-error.txt &#x4EFB;&#x52A1;&#x3002;</p>
<h3 id="&#x91CD;&#x5B9A;&#x5411;&#x6807;&#x51C6;&#x8F93;&#x51FA;&#x548C;&#x9519;&#x8BEF;&#x5230;&#x540C;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;">&#x91CD;&#x5B9A;&#x5411;&#x6807;&#x51C6;&#x8F93;&#x51FA;&#x548C;&#x9519;&#x8BEF;&#x5230;&#x540C;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;</h3>
<p>There are cases in which we may wish to capture all of the output of a command to a
single file. To do this, we must redirect both standard output and standard error at the
same time. There are two ways to do this. First, the traditional way, which works with
old versions of the shell:</p>
<p>&#x53EF;&#x80FD;&#x6709;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#xFF0C;&#x6211;&#x4EEC;&#x5E0C;&#x671B;&#x6355;&#x6349;&#x4E00;&#x4E2A;&#x547D;&#x4EE4;&#x7684;&#x6240;&#x6709;&#x8F93;&#x51FA;&#x5230;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x3002;&#x4E3A;&#x4E86;&#x5B8C;&#x6210;&#x8FD9;&#x4E2A;&#xFF0C;&#x6211;&#x4EEC;
&#x5FC5;&#x987B;&#x540C;&#x65F6;&#x91CD;&#x5B9A;&#x5411;&#x6807;&#x51C6;&#x8F93;&#x51FA;&#x548C;&#x6807;&#x51C6;&#x9519;&#x8BEF;&#x3002;&#x6709;&#x4E24;&#x79CD;&#x65B9;&#x6CD5;&#x6765;&#x5B8C;&#x6210;&#x4EFB;&#x52A1;&#x3002;&#x7B2C;&#x4E00;&#x4E2A;&#xFF0C;&#x4F20;&#x7EDF;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;
&#x5728;&#x65E7;&#x7248;&#x672C; shell &#x4E2D;&#x4E5F;&#x6709;&#x6548;&#xFF1A;</p>
<pre><code>[me@linuxbox ~]$ ls -l /bin/usr &gt; ls-output.txt 2&gt;&amp;1
</code></pre><p>Using this method, we perform two redirections. First we redirect standard output to the
file ls-output.txt and then we redirect file descriptor two (standard error) to file
descriptor one (standard output) using the notation 2&gt;&amp;1.</p>
<p>&#x4F7F;&#x7528;&#x8FD9;&#x79CD;&#x65B9;&#x6CD5;&#xFF0C;&#x6211;&#x4EEC;&#x5B8C;&#x6210;&#x4E24;&#x4E2A;&#x91CD;&#x5B9A;&#x5411;&#x3002;&#x9996;&#x5148;&#x91CD;&#x5B9A;&#x5411;&#x6807;&#x51C6;&#x8F93;&#x51FA;&#x5230;&#x6587;&#x4EF6; ls-output.txt&#xFF0C;&#x7136;&#x540E;
&#x91CD;&#x5B9A;&#x5411;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;2&#xFF08;&#x6807;&#x51C6;&#x9519;&#x8BEF;&#xFF09;&#x5230;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;1&#xFF08;&#x6807;&#x51C6;&#x8F93;&#x51FA;&#xFF09;&#x4F7F;&#x7528;&#x8868;&#x793A;&#x6CD5;2&gt;&amp;1&#x3002;</p>
<hr>
<p>Notice that the order of the redirections is significant. The redirection of
standard error must always occur after redirecting standard output or it doesn&apos;t
work. In the example above,</p>
<p>&#x6CE8;&#x610F;&#x91CD;&#x5B9A;&#x5411;&#x7684;&#x987A;&#x5E8F;&#x5B89;&#x6392;&#x975E;&#x5E38;&#x91CD;&#x8981;&#x3002;&#x6807;&#x51C6;&#x9519;&#x8BEF;&#x7684;&#x91CD;&#x5B9A;&#x5411;&#x5FC5;&#x987B;&#x603B;&#x662F;&#x51FA;&#x73B0;&#x5728;&#x6807;&#x51C6;&#x8F93;&#x51FA;
&#x91CD;&#x5B9A;&#x5411;&#x4E4B;&#x540E;&#xFF0C;&#x8981;&#x4E0D;&#x7136;&#x5B83;&#x4E0D;&#x8D77;&#x4F5C;&#x7528;&#x3002;&#x4E0A;&#x9762;&#x7684;&#x4F8B;&#x5B50;&#xFF0C;</p>
<pre><code>&gt;ls-output.txt 2&gt;&amp;1
</code></pre><p>redirects standard error to the file ls-output.txt, but if the order is changed to</p>
<p>&#x91CD;&#x5B9A;&#x5411;&#x6807;&#x51C6;&#x9519;&#x8BEF;&#x5230;&#x6587;&#x4EF6; ls-output.txt&#xFF0C;&#x4F46;&#x662F;&#x5982;&#x679C;&#x547D;&#x4EE4;&#x987A;&#x5E8F;&#x6539;&#x4E3A;&#xFF1A;</p>
<pre><code>2&gt;&amp;1 &gt;ls-output.txt
</code></pre><p>standard error is directed to the screen.</p>
<p>&#x5219;&#x6807;&#x51C6;&#x9519;&#x8BEF;&#x5B9A;&#x5411;&#x5230;&#x5C4F;&#x5E55;&#x3002;</p>
<hr>
<p>Recent versions of bash provide a second, more streamlined method for performing this
combined redirection:</p>
<p>&#x73B0;&#x5728;&#x7684; bash &#x7248;&#x672C;&#x63D0;&#x4F9B;&#x4E86;&#x7B2C;&#x4E8C;&#x79CD;&#x65B9;&#x6CD5;&#xFF0C;&#x66F4;&#x7CBE;&#x7B80;&#x5408;&#x7406;&#x7684;&#x65B9;&#x6CD5;&#x6765;&#x6267;&#x884C;&#x8FD9;&#x79CD;&#x8054;&#x5408;&#x7684;&#x91CD;&#x5B9A;&#x5411;&#x3002;</p>
<pre><code>[me@linuxbox ~]$ ls -l /bin/usr &amp;&gt; ls-output.txt
</code></pre><p>In this example, we use the single notation &amp;&gt; to redirect both standard output and
standard error to the file ls-output.txt.</p>
<p>&#x5728;&#x8FD9;&#x4E2A;&#x4F8B;&#x5B50;&#x91CC;&#x9762;&#xFF0C;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x5355;&#x5355;&#x4E00;&#x4E2A;&#x8868;&#x793A;&#x6CD5; &amp;&gt; &#x6765;&#x91CD;&#x5B9A;&#x5411;&#x6807;&#x51C6;&#x8F93;&#x51FA;&#x548C;&#x9519;&#x8BEF;&#x5230;&#x6587;&#x4EF6; ls-output.txt&#x3002;</p>
<h3 id="&#x5904;&#x7406;&#x4E0D;&#x9700;&#x8981;&#x7684;&#x8F93;&#x51FA;">&#x5904;&#x7406;&#x4E0D;&#x9700;&#x8981;&#x7684;&#x8F93;&#x51FA;</h3>
<p>Sometimes &#x201C;silence is golden,&#x201D; and we don&apos;t want output from a command, we just want
to throw it away. This applies particularly to error and status messages. The system
provides a way to do this by redirecting output to a special file called &#x201C;/dev/null&#x201D;. This
file is a system device called a bit bucket which accepts input and does nothing with it.
To suppress error messages from a command, we do this:</p>
<p>&#x6709;&#x65F6;&#x5019;&#x201C;&#x6C89;&#x9ED8;&#x662F;&#x91D1;&#x201D;&#xFF0C;&#x6211;&#x4EEC;&#x4E0D;&#x60F3;&#x8981;&#x4E00;&#x4E2A;&#x547D;&#x4EE4;&#x7684;&#x8F93;&#x51FA;&#x7ED3;&#x679C;&#xFF0C;&#x53EA;&#x60F3;&#x628A;&#x5B83;&#x4EEC;&#x6254;&#x6389;&#x3002;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;
&#x5C24;&#x5176;&#x9002;&#x7528;&#x4E8E;&#x9519;&#x8BEF;&#x548C;&#x72B6;&#x6001;&#x4FE1;&#x606F;&#x3002;&#x7CFB;&#x7EDF;&#x4E3A;&#x6211;&#x4EEC;&#x63D0;&#x4F9B;&#x4E86;&#x89E3;&#x51B3;&#x95EE;&#x9898;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x901A;&#x8FC7;&#x91CD;&#x5B9A;&#x5411;&#x8F93;&#x51FA;&#x7ED3;&#x679C;
&#x5230;&#x4E00;&#x4E2A;&#x7279;&#x6B8A;&#x7684;&#x53EB;&#x505A;&quot;/dev/null&quot;&#x7684;&#x6587;&#x4EF6;&#x3002;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x662F;&#x7CFB;&#x7EDF;&#x8BBE;&#x5907;&#xFF0C;&#x53EB;&#x505A;&#x4F4D;&#x5B58;&#x50A8;&#x6876;&#xFF0C;&#x5B83;&#x53EF;&#x4EE5;
&#x63A5;&#x53D7;&#x8F93;&#x5165;&#xFF0C;&#x5E76;&#x4E14;&#x5BF9;&#x8F93;&#x5165;&#x4E0D;&#x505A;&#x4EFB;&#x4F55;&#x5904;&#x7406;&#x3002;&#x4E3A;&#x4E86;&#x9690;&#x7792;&#x547D;&#x4EE4;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#xFF0C;&#x6211;&#x4EEC;&#x8FD9;&#x6837;&#x505A;&#xFF1A;</p>
<pre><code>[me@linuxbox ~]$ ls -l /bin/usr 2&gt; /dev/null
</code></pre><blockquote>
<p>/dev/null in Unix Culture</p>
<p>Unix &#x6587;&#x5316;&#x4E2D;&#x7684;/dev/null</p>
<p>The bit bucket is an ancient Unix concept and due to its universality, has appeared
in many parts of Unix culture. When someone says he/she is sending your
comments to /dev/null, now you know what it means. For more examples,
see the Wikipedia article on &#x201C;/dev/null&#x201D;.</p>
<p>&#x4F4D;&#x5B58;&#x50A8;&#x6876;&#x662F;&#x4E2A;&#x53E4;&#x8001;&#x7684; Unix &#x6982;&#x5FF5;&#xFF0C;&#x7531;&#x4E8E;&#x5B83;&#x7684;&#x666E;&#x904D;&#x6027;&#xFF0C;&#x5B83;&#x7684;&#x8EAB;&#x5F71;&#x51FA;&#x73B0;&#x5728; Unix &#x6587;&#x5316;&#x7684;
&#x8BB8;&#x591A;&#x90E8;&#x5206;&#x3002;&#x5F53;&#x6709;&#x4EBA;&#x8BF4;&#x4ED6;/&#x5979;&#x6B63;&#x5728;&#x53D1;&#x9001;&#x4F60;&#x7684;&#x8BC4;&#x8BBA;&#x5230;/dev/null&#xFF0C;&#x73B0;&#x5728;&#x4F60;&#x5E94;&#x8BE5;&#x77E5;&#x9053;&#x90A3;&#x662F;
&#x4EC0;&#x4E48;&#x610F;&#x601D;&#x4E86;&#x3002;&#x66F4;&#x591A;&#x7684;&#x4F8B;&#x5B50;&#xFF0C;&#x53EF;&#x4EE5;&#x9605;&#x8BFB; Wikipedia &#x5173;&#x4E8E;&quot;/dev/null&quot;&#x7684;&#x6587;&#x7AE0;&#x3002;</p>
</blockquote>
<h3 id="&#x91CD;&#x5B9A;&#x5411;&#x6807;&#x51C6;&#x8F93;&#x5165;">&#x91CD;&#x5B9A;&#x5411;&#x6807;&#x51C6;&#x8F93;&#x5165;</h3>
<p>Up to now, we haven&apos;t encountered any commands that make use of standard input
(actually we have, but we&#x2019;ll reveal that surprise a little bit later), so we need to introduce
one.</p>
<p>&#x5230;&#x76EE;&#x524D;&#x4E3A;&#x6B62;&#xFF0C;&#x6211;&#x4EEC;&#x8FD8;&#x6CA1;&#x6709;&#x9047;&#x5230;&#x4E00;&#x4E2A;&#x547D;&#x4EE4;&#x662F;&#x5229;&#x7528;&#x6807;&#x51C6;&#x8F93;&#x5165;&#x7684;&#xFF08;&#x5B9E;&#x9645;&#x4E0A;&#x6211;&#x4EEC;&#x9047;&#x5230;&#x8FC7;&#x4E86;&#xFF0C;&#x4F46;&#x662F;
&#x4E00;&#x4F1A;&#x513F;&#x518D;&#x63ED;&#x6653;&#x8C1C;&#x5E95;&#xFF09;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x4ECB;&#x7ECD;&#x4E00;&#x4E2A;&#x3002;</p>
<h3 id="cat-&#xFF0D;-&#x8FDE;&#x63A5;&#x6587;&#x4EF6;">cat &#xFF0D; &#x8FDE;&#x63A5;&#x6587;&#x4EF6;</h3>
<p>The cat command reads one or more files and copies them to standard output like so:</p>
<p>cat &#x547D;&#x4EE4;&#x8BFB;&#x53D6;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x6587;&#x4EF6;&#xFF0C;&#x7136;&#x540E;&#x590D;&#x5236;&#x5B83;&#x4EEC;&#x5230;&#x6807;&#x51C6;&#x8F93;&#x51FA;&#xFF0C;&#x5C31;&#x50CF;&#x8FD9;&#x6837;:</p>
<pre><code>cat [file]
</code></pre><p>In most cases, you can think of cat as being analogous to the TYPE command in DOS.
You can use it to display files without paging, for example:</p>
<p>&#x5728;&#x5927;&#x591A;&#x6570;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x8BA4;&#x4E3A; cat &#x547D;&#x4EE4;&#x76F8;&#x4F3C;&#x4E8E; DOS &#x4E2D;&#x7684; TYPE &#x547D;&#x4EE4;&#x3002;&#x4F60;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; cat &#x6765;&#x663E;&#x793A;
&#x6587;&#x4EF6;&#x800C;&#x6CA1;&#x6709;&#x5206;&#x9875;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code>[me@linuxbox ~]$ cat ls-output.txt
</code></pre><p>will display the contents of the file ls-output.txt. cat is often used to display
short text files. Since cat can accept more than one file as an argument, it can also be
used to join files together. Say we have downloaded a large file that has been split into
multiple parts (multimedia files are often split this way on USENET), and we want to
join them back together. If the files were named:</p>
<p>&#x5C06;&#x4F1A;&#x663E;&#x793A;&#x6587;&#x4EF6; ls-output.txt &#x7684;&#x5185;&#x5BB9;&#x3002;cat &#x7ECF;&#x5E38;&#x88AB;&#x7528;&#x6765;&#x663E;&#x793A;&#x7B80;&#x77ED;&#x7684;&#x6587;&#x672C;&#x6587;&#x4EF6;&#x3002;&#x56E0;&#x4E3A; cat &#x53EF;&#x4EE5;
&#x63A5;&#x53D7;&#x4E0D;&#x53EA;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#xFF0C;&#x6240;&#x4EE5;&#x5B83;&#x4E5F;&#x53EF;&#x4EE5;&#x7528;&#x6765;&#x628A;&#x6587;&#x4EF6;&#x8FDE;&#x63A5;&#x5728;&#x4E00;&#x8D77;&#x3002;&#x6BD4;&#x65B9;&#x8BF4;&#x6211;&#x4EEC;&#x4E0B;&#x8F7D;&#x4E86;&#x4E00;&#x4E2A;
&#x5927;&#x578B;&#x6587;&#x4EF6;&#xFF0C;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x88AB;&#x5206;&#x79BB;&#x6210;&#x591A;&#x4E2A;&#x90E8;&#x5206;&#xFF08;USENET &#x4E2D;&#x7684;&#x591A;&#x5A92;&#x4F53;&#x6587;&#x4EF6;&#x7ECF;&#x5E38;&#x4EE5;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x5206;&#x79BB;&#xFF09;&#xFF0C;
&#x6211;&#x4EEC;&#x60F3;&#x628A;&#x5B83;&#x4EEC;&#x8FDE;&#x8D77;&#x6765;&#x3002;&#x5982;&#x679C;&#x6587;&#x4EF6;&#x547D;&#x540D;&#x4E3A;&#xFF1A;</p>
<p>movie.mpeg.001 movie.mpeg.002 ... movie.mpeg.099</p>
<p>we could join them back together with this command:</p>
<p>&#x6211;&#x4EEC;&#x80FD;&#x7528;&#x8FD9;&#x4E2A;&#x547D;&#x4EE4;&#x628A;&#x5B83;&#x4EEC;&#x8FDE;&#x63A5;&#x8D77;&#x6765;&#xFF1A;</p>
<pre><code>cat movie.mpeg.0* &gt; movie.mpeg
</code></pre><p>Since wildcards always expand in sorted order, the arguments will be arranged in the
correct order.</p>
<p>&#x56E0;&#x4E3A;&#x901A;&#x914D;&#x7B26;&#x603B;&#x662F;&#x4EE5;&#x6709;&#x5E8F;&#x7684;&#x65B9;&#x5F0F;&#x5C55;&#x5F00;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x4E9B;&#x53C2;&#x6570;&#x4F1A;&#x4EE5;&#x6B63;&#x786E;&#x987A;&#x5E8F;&#x5B89;&#x6392;&#x3002;</p>
<p>This is all well and good, but what does this have to do with standard input? Nothing yet,
but let&apos;s try something else. What happens if we type &#x201C;cat&#x201D; with no arguments:</p>
<p>&#x8FD9;&#x5F88;&#x597D;&#xFF0C;&#x4F46;&#x662F;&#x8FD9;&#x548C;&#x6807;&#x51C6;&#x8F93;&#x5165;&#x6709;&#x4EC0;&#x4E48;&#x5173;&#x7CFB;&#x5462;&#xFF1F;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x5173;&#x7CFB;&#xFF0C;&#x8BA9;&#x6211;&#x4EEC;&#x8BD5;&#x7740;&#x505A;&#x4E9B;&#x5176;&#x4ED6;&#x7684;&#x5DE5;&#x4F5C;&#x3002;
&#x5982;&#x679C;&#x6211;&#x4EEC;&#x8F93;&#x5165;&#x4E0D;&#x5E26;&#x53C2;&#x6570;&#x7684;&quot;cat&quot;&#x547D;&#x4EE4;&#xFF0C;&#x4F1A;&#x53D1;&#x751F;&#x4EC0;&#x4E48;&#x5462;&#xFF1A;</p>
<pre><code>[me@linuxbox ~]$ cat
</code></pre><p>Nothing happens, it just sits there like it&apos;s hung. It may seem that way, but it&apos;s really
doing exactly what it&apos;s supposed to.</p>
<p>&#x6CA1;&#x6709;&#x53D1;&#x751F;&#x4EFB;&#x4F55;&#x4E8B;&#x60C5;&#xFF0C;&#x5B83;&#x53EA;&#x662F;&#x5750;&#x5728;&#x90A3;&#x91CC;&#xFF0C;&#x597D;&#x50CF;&#x6302;&#x6389;&#x4E86;&#x4E00;&#x6837;&#x3002;&#x770B;&#x8D77;&#x6765;&#x662F;&#x90A3;&#x6837;&#xFF0C;&#x4F46;&#x662F;&#x5B83;&#x6B63;&#x5728;&#x505A;&#x5B83;&#x8BE5;&#x505A;&#x7684;&#x4E8B;&#x60C5;&#xFF1A;</p>
<p>If cat is not given any arguments, it reads from standard input and since standard input
is, by default, attached to the keyboard, it&apos;s waiting for us to type something! Try this:</p>
<p>&#x5982;&#x679C; cat &#x6CA1;&#x6709;&#x7ED9;&#x51FA;&#x4EFB;&#x4F55;&#x53C2;&#x6570;&#xFF0C;&#x5B83;&#x4F1A;&#x4ECE;&#x6807;&#x51C6;&#x8F93;&#x5165;&#x8BFB;&#x5165;&#x6570;&#x636E;&#xFF0C;&#x56E0;&#x4E3A;&#x6807;&#x51C6;&#x8F93;&#x5165;&#xFF0C;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x8FDE;&#x63A5;&#x5230;&#x952E;&#x76D8;&#x3002;
&#x5B83;&#x6B63;&#x5728;&#x7B49;&#x5F85;&#x6211;&#x4EEC;&#x8F93;&#x5165;&#x6570;&#x636E;&#xFF01;&#x8BD5;&#x8BD5;&#x8FD9;&#x4E2A;&#xFF1A;</p>
<pre><code>[me@linuxbox ~]$ cat
The quick brown fox jumped over the lazy dog.
</code></pre><p>Next, type a Ctrl-d (i.e., hold down the Ctrl key and press &#x201C;d&#x201D;) to tell cat that it has
reached end of file (EOF) on standard input:</p>
<p>&#x4E0B;&#x4E00;&#x6B65;&#xFF0C;&#x8F93;&#x5165; Ctrl-d&#xFF08;&#x6309;&#x4F4F; Ctrl &#x952E;&#x540C;&#x65F6;&#x6309;&#x4E0B;&quot;d&quot;&#xFF09;&#xFF0C;&#x6765;&#x544A;&#x8BC9; cat&#xFF0C;&#x5728;&#x6807;&#x51C6;&#x8F93;&#x5165;&#x4E2D;&#xFF0C;
&#x5B83;&#x5DF2;&#x7ECF;&#x5230;&#x8FBE;&#x6587;&#x4EF6;&#x672B;&#x5C3E;&#xFF08;EOF&#xFF09;&#xFF1A;</p>
<pre><code>[me@linuxbox ~]$ cat
The quick brown fox jumped over the lazy dog.
The quick brown fox jumped over the lazy dog.
</code></pre><p>In the absence of filename arguments, cat copies standard input to standard output, so
we see our line of text repeated. We can use this behavior to create short text files. Let&apos;s
say that we wanted to create a file called &#x201C;lazy_dog.txt&#x201D; containing the text in our
example. We would do this:</p>
<p>&#x7531;&#x4E8E;&#x6CA1;&#x6709;&#x6587;&#x4EF6;&#x540D;&#x53C2;&#x6570;&#xFF0C;cat &#x590D;&#x5236;&#x6807;&#x51C6;&#x8F93;&#x5165;&#x5230;&#x6807;&#x51C6;&#x8F93;&#x51FA;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x770B;&#x5230;&#x6587;&#x672C;&#x884C;&#x91CD;&#x590D;&#x51FA;&#x73B0;&#x3002;
&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x8FD9;&#x79CD;&#x884C;&#x4E3A;&#x6765;&#x521B;&#x5EFA;&#x7B80;&#x77ED;&#x7684;&#x6587;&#x672C;&#x6587;&#x4EF6;&#x3002;&#x6BD4;&#x65B9;&#x8BF4;&#xFF0C;&#x6211;&#x4EEC;&#x60F3;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x53EB;&#x505A;&quot;lazy_dog.txt&quot;
&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x5305;&#x542B;&#x4F8B;&#x5B50;&#x4E2D;&#x7684;&#x6587;&#x672C;&#x3002;&#x6211;&#x4EEC;&#x8FD9;&#x6837;&#x505A;&#xFF1A;</p>
<pre><code>[me@linuxbox ~]$ cat &gt; lazy_dog.txt
The quick brown fox jumped over the lazy dog.
</code></pre><p>Type the command followed by the text we want in to place in the file. Remember to
type Ctrl-d at the end. Using the command line, we have implemented the world&apos;s
dumbest word processor! To see our results, we can use cat to copy the file to stdout
again:</p>
<p>&#x8F93;&#x5165;&#x547D;&#x4EE4;&#xFF0C;&#x5176;&#x540E;&#x8F93;&#x5165;&#x8981;&#x653E;&#x5165;&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x6587;&#x672C;&#x3002;&#x8BB0;&#x4F4F;&#xFF0C;&#x6700;&#x540E;&#x8F93;&#x5165; Ctrl-d&#x3002;&#x901A;&#x8FC7;&#x4F7F;&#x7528;&#x8FD9;&#x4E2A;&#x547D;&#x4EE4;&#xFF0C;&#x6211;&#x4EEC;
&#x5B9E;&#x73B0;&#x4E86;&#x4E16;&#x754C;&#x4E0A;&#x6700;&#x4F4E;&#x80FD;&#x7684;&#x6587;&#x5B57;&#x5904;&#x7406;&#x5668;&#xFF01;&#x770B;&#x4E00;&#x4E0B;&#x8FD0;&#x884C;&#x7ED3;&#x679C;&#xFF0C;&#x6211;&#x4EEC;&#x4F7F;&#x7528; cat &#x6765;&#x590D;&#x5236;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x5230;
&#x6807;&#x51C6;&#x8F93;&#x51FA;&#xFF1A;</p>
<pre><code>[me@linuxbox ~]$ cat lazy_dog.txt
The quick brown fox jumped over the lazy dog.
</code></pre><p>Now that we know how cat accepts standard input, in addition to filename arguments,
let&apos;s try redirecting standard input:</p>
<p>&#x73B0;&#x5728;&#x6211;&#x4EEC;&#x77E5;&#x9053;&#x600E;&#x8BB2;&#x63A5;&#x53D7;&#x6807;&#x51C6;&#x8F93;&#x5165;&#xFF0C;&#x9664;&#x4E86;&#x6587;&#x4EF6;&#x540D;&#x53C2;&#x6570;&#xFF0C;&#x8BA9;&#x6211;&#x4EEC;&#x8BD5;&#x7740;&#x91CD;&#x5B9A;&#x5411;&#x6807;&#x51C6;&#x8F93;&#x5165;&#xFF1A;</p>
<pre><code>[me@linuxbox ~]$ cat &lt; lazy_dog.txt
The quick brown fox jumped over the lazy dog.
</code></pre><p>Using the &#x201C;&lt;&#x201D; redirection operator, we change the source of standard input from the
keyboard to the file lazy_dog.txt. We see that the result is the same as passing a
single filename argument. This is not particularly useful compared to passing a filename
argument, but it serves to demonstrate using a file as a source of standard input. Other
commands make better use of standard input, as we shall soon see.</p>
<p>&#x4F7F;&#x7528;&#x201C;&lt;&#x201D;&#x91CD;&#x5B9A;&#x5411;&#x64CD;&#x4F5C;&#x7B26;&#xFF0C;&#x6211;&#x4EEC;&#x628A;&#x6807;&#x51C6;&#x8F93;&#x5165;&#x6E90;&#x4ECE;&#x952E;&#x76D8;&#x6539;&#x5230;&#x6587;&#x4EF6; lazy_dog.tx&#x3002;&#x6211;&#x4EEC;&#x770B;&#x5230;&#x7ED3;&#x679C;
&#x548C;&#x4F20;&#x9012;&#x5355;&#x4E2A;&#x6587;&#x4EF6;&#x540D;&#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#x7684;&#x6267;&#x884C;&#x7ED3;&#x679C;&#x4E00;&#x6837;&#x3002;&#x628A;&#x8FD9;&#x548C;&#x4F20;&#x9012;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x540D;&#x53C2;&#x6570;&#x4F5C;&#x6BD4;&#x8F83;&#xFF0C;&#x4E0D;&#x662F;&#x7279;&#x522B;&#x6709;&#x610F;&#x4E49;&#xFF0C;
&#x4F46;&#x5B83;&#x662F;&#x7528;&#x6765;&#x8BF4;&#x660E;&#x628A;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x4F5C;&#x4E3A;&#x6807;&#x51C6;&#x8F93;&#x5165;&#x6E90;&#x3002;&#x6709;&#x5176;&#x4ED6;&#x7684;&#x547D;&#x4EE4;&#x66F4;&#x597D;&#x5730;&#x5229;&#x7528;&#x4E86;&#x6807;&#x51C6;&#x8F93;&#x5165;&#xFF0C;&#x6211;&#x4EEC;&#x4E0D;&#x4E45;&#x5C06;&#x4F1A;&#x770B;&#x5230;&#x3002;</p>
<p>Before we move on, check out the man page for cat, as it has several interesting options.</p>
<p>&#x5728;&#x6211;&#x4EEC;&#x7EE7;&#x7EED;&#x4E4B;&#x524D;&#xFF0C;&#x67E5;&#x770B; cat &#x7684;&#x624B;&#x518C;&#x9875;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x6709;&#x51E0;&#x4E2A;&#x6709;&#x8DA3;&#x7684;&#x9009;&#x9879;&#x3002;</p>
<h3 id="&#x7BA1;&#x9053;&#x7EBF;">&#x7BA1;&#x9053;&#x7EBF;</h3>
<p>The ability of commands to read data from standard input and send to standard output is
utilized by a shell feature called pipelines. Using the pipe operator &#x201C;|&#x201D; (vertical bar), the
standard output of one command can be piped into the standard input of another:</p>
<p>&#x547D;&#x4EE4;&#x53EF;&#x4EE5;&#x4ECE;&#x6807;&#x51C6;&#x8F93;&#x5165;&#x8BFB;&#x53D6;&#x6570;&#x636E;&#xFF0C;&#x7136;&#x540E;&#x518D;&#x628A;&#x6570;&#x636E;&#x8F93;&#x9001;&#x5230;&#x6807;&#x51C6;&#x8F93;&#x51FA;&#xFF0C;&#x547D;&#x4EE4;&#x7684;&#x8FD9;&#x79CD;&#x80FD;&#x529B;&#x88AB;
&#x4E00;&#x4E2A; shell &#x7279;&#x6027;&#x6240;&#x5229;&#x7528;&#xFF0C;&#x8FD9;&#x4E2A;&#x7279;&#x6027;&#x53EB;&#x505A;&#x7BA1;&#x9053;&#x7EBF;&#x3002;&#x4F7F;&#x7528;&#x7BA1;&#x9053;&#x64CD;&#x4F5C;&#x7B26;&quot;|&quot;&#xFF08;&#x7AD6;&#x6760;&#xFF09;&#xFF0C;&#x4E00;&#x4E2A;&#x547D;&#x4EE4;&#x7684;
&#x6807;&#x51C6;&#x8F93;&#x51FA;&#x53EF;&#x4EE5;&#x7BA1;&#x9053;&#x5230;&#x53E6;&#x4E00;&#x4E2A;&#x547D;&#x4EE4;&#x7684;&#x6807;&#x51C6;&#x8F93;&#x5165;&#xFF1A;</p>
<pre><code>command1 | command2
</code></pre><p>To fully demonstrate this, we are going to need some commands. Remember how we
said there was one we already knew that accepts standard input? It&apos;s less. We can use
less to display, page-by-page, the output of any command that sends its results to
standard output:</p>
<p>&#x4E3A;&#x4E86;&#x5168;&#x9762;&#x5730;&#x8BF4;&#x660E;&#x8FD9;&#x4E2A;&#x547D;&#x4EE4;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x4E00;&#x4E9B;&#x547D;&#x4EE4;&#x3002;&#x662F;&#x5426;&#x8BB0;&#x5F97;&#x6211;&#x4EEC;&#x8BF4;&#x8FC7;&#xFF0C;&#x6211;&#x4EEC;&#x5DF2;&#x7ECF;&#x77E5;&#x9053;&#x6709;&#x4E00;&#x4E2A;
&#x547D;&#x4EE4;&#x63A5;&#x53D7;&#x6807;&#x51C6;&#x8F93;&#x5165;&#xFF1F;&#x5B83;&#x662F; less &#x547D;&#x4EE4;&#x3002;&#x6211;&#x4EEC;&#x7528; less &#x6765;&#x4E00;&#x9875;&#x4E00;&#x9875;&#x5730;&#x663E;&#x793A;&#x4EFB;&#x4F55;&#x547D;&#x4EE4;&#x7684;&#x8F93;&#x51FA;&#xFF0C;&#x547D;&#x4EE4;&#x628A;
&#x5B83;&#x7684;&#x8FD0;&#x884C;&#x7ED3;&#x679C;&#x8F93;&#x9001;&#x5230;&#x6807;&#x51C6;&#x8F93;&#x51FA;&#xFF1A;</p>
<pre><code>[me@linuxbox ~]$ ls -l /usr/bin | less
</code></pre><p>This is extremely handy! Using this technique, we can conveniently examine the output
of any command that produces standard output.</p>
<p>&#x8FD9;&#x6781;&#x5176;&#x65B9;&#x4FBF;&#xFF01;&#x4F7F;&#x7528;&#x8FD9;&#x9879;&#x6280;&#x672F;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x65B9;&#x4FBF;&#x5730;&#x68C0;&#x6D4B;&#x4F1A;&#x4EA7;&#x751F;&#x6807;&#x51C6;&#x8F93;&#x51FA;&#x7684;&#x4EFB;&#x4E00;&#x547D;&#x4EE4;&#x7684;&#x8FD0;&#x884C;&#x7ED3;&#x679C;&#x3002;</p>
<h3 id="&#x8FC7;&#x6EE4;&#x5668;">&#x8FC7;&#x6EE4;&#x5668;</h3>
<p>Pipelines are often used to perform complex operations on data. It is possible to put
several commands together into a pipeline. Frequently, the commands used this way are
referred to as filters. Filters take input, change it somehow and then output it. The first
one we will try is sort. Imagine we wanted to make a combined list of all of the
executable programs in /bin and /usr/bin, put them in sorted order and view it:</p>
<p>&#x7BA1;&#x9053;&#x7EBF;&#x7ECF;&#x5E38;&#x7528;&#x6765;&#x5BF9;&#x6570;&#x636E;&#x5B8C;&#x6210;&#x590D;&#x6742;&#x7684;&#x64CD;&#x4F5C;&#x3002;&#x6709;&#x53EF;&#x80FD;&#x4F1A;&#x628A;&#x51E0;&#x4E2A;&#x547D;&#x4EE4;&#x653E;&#x5728;&#x4E00;&#x8D77;&#x7EC4;&#x6210;&#x4E00;&#x4E2A;&#x7BA1;&#x9053;&#x7EBF;&#x3002;
&#x901A;&#x5E38;&#xFF0C;&#x4EE5;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x4F7F;&#x7528;&#x7684;&#x547D;&#x4EE4;&#x88AB;&#x79F0;&#x4E3A;&#x8FC7;&#x6EE4;&#x5668;&#x3002;&#x8FC7;&#x6EE4;&#x5668;&#x63A5;&#x53D7;&#x8F93;&#x5165;&#xFF0C;&#x4EE5;&#x67D0;&#x79CD;&#x65B9;&#x5F0F;&#x6539;&#x53D8;&#x5B83;&#xFF0C;&#x7136;&#x540E;
&#x8F93;&#x51FA;&#x5B83;&#x3002;&#x7B2C;&#x4E00;&#x4E2A;&#x6211;&#x4EEC;&#x60F3;&#x8BD5;&#x9A8C;&#x7684;&#x8FC7;&#x6EE4;&#x5668;&#x662F; sort&#x3002;&#x60F3;&#x8C61;&#x4E00;&#x4E0B;&#xFF0C;&#x6211;&#x4EEC;&#x60F3;&#x628A;&#x76EE;&#x5F55;/bin &#x548C;/usr/bin &#x4E2D;
&#x7684;&#x53EF;&#x6267;&#x884C;&#x7A0B;&#x5E8F;&#x90FD;&#x8054;&#x5408;&#x5728;&#x4E00;&#x8D77;&#xFF0C;&#x518D;&#x628A;&#x5B83;&#x4EEC;&#x6392;&#x5E8F;&#xFF0C;&#x7136;&#x540E;&#x6D4F;&#x89C8;&#x6267;&#x884C;&#x7ED3;&#x679C;&#xFF1A;</p>
<pre><code>[me@linuxbox ~]$ ls /bin /usr/bin | sort | less
</code></pre><p>Since we specified two directories (/bin and /usr/bin), the output of ls would have
consisted of two sorted lists, one for each directory. By including sort in our pipeline,
we changed the data to produce a single, sorted list.</p>
<p>&#x56E0;&#x4E3A;&#x6211;&#x4EEC;&#x6307;&#x5B9A;&#x4E86;&#x4E24;&#x4E2A;&#x76EE;&#x5F55;&#xFF08;/bin &#x548C;/usr/bin&#xFF09;&#xFF0C;ls &#x547D;&#x4EE4;&#x7684;&#x8F93;&#x51FA;&#x7ED3;&#x679C;&#x7531;&#x6709;&#x5E8F;&#x5217;&#x8868;&#x7EC4;&#x6210;&#xFF0C;
&#x5404;&#x81EA;&#x9488;&#x5BF9;&#x4E00;&#x4E2A;&#x76EE;&#x5F55;&#x3002;&#x901A;&#x8FC7;&#x5728;&#x7BA1;&#x9053;&#x7EBF;&#x4E2D;&#x5305;&#x542B; sort&#xFF0C;&#x6211;&#x4EEC;&#x6539;&#x53D8;&#x8F93;&#x51FA;&#x6570;&#x636E;&#xFF0C;&#x4ECE;&#x800C;&#x4EA7;&#x751F;&#x4E00;&#x4E2A;
&#x6709;&#x5E8F;&#x5217;&#x8868;&#x3002;</p>
<h3 id="uniq---&#x62A5;&#x9053;&#x6216;&#x5FFD;&#x7565;&#x91CD;&#x590D;&#x884C;">uniq - &#x62A5;&#x9053;&#x6216;&#x5FFD;&#x7565;&#x91CD;&#x590D;&#x884C;</h3>
<p>The uniq command is often used in conjunction with sort. uniq accepts a sorted list
of data from either standard input or a single filename argument (see the uniq man page
for details) and, by default, removes any duplicates from the list. So, to make sure our
list has no duplicates (that is, any programs of the same name that appear in both the
/bin and /usr/bin directories) we will add uniq to our pipeline:</p>
<p>uniq &#x547D;&#x4EE4;&#x7ECF;&#x5E38;&#x548C; sort &#x547D;&#x4EE4;&#x7ED3;&#x5408;&#x5728;&#x4E00;&#x8D77;&#x4F7F;&#x7528;&#x3002;uniq &#x4ECE;&#x6807;&#x51C6;&#x8F93;&#x5165;&#x6216;&#x5355;&#x4E2A;&#x6587;&#x4EF6;&#x540D;&#x53C2;&#x6570;&#x63A5;&#x53D7;&#x6570;&#x636E;&#x6709;&#x5E8F;
&#x5217;&#x8868;&#xFF08;&#x8BE6;&#x60C5;&#x67E5;&#x770B; uniq &#x624B;&#x518C;&#x9875;&#xFF09;&#xFF0C;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x4ECE;&#x6570;&#x636E;&#x5217;&#x8868;&#x4E2D;&#x5220;&#x9664;&#x4EFB;&#x4F55;&#x91CD;&#x590D;&#x884C;&#x3002;&#x6240;&#x4EE5;&#xFF0C;&#x4E3A;&#x4E86;&#x786E;&#x4FE1;
&#x6211;&#x4EEC;&#x7684;&#x5217;&#x8868;&#x4E2D;&#x4E0D;&#x5305;&#x542B;&#x91CD;&#x590D;&#x53E5;&#x5B50;&#xFF08;&#x8FD9;&#x662F;&#x8BF4;&#xFF0C;&#x51FA;&#x73B0;&#x5728;&#x76EE;&#x5F55;/bin &#x548C;/usr/bin &#x4E2D;&#x91CD;&#x540D;&#x7684;&#x7A0B;&#x5E8F;&#xFF09;&#xFF0C;&#x6211;&#x4EEC;&#x6DFB;&#x52A0;
uniq &#x5230;&#x6211;&#x4EEC;&#x7684;&#x7BA1;&#x9053;&#x7EBF;&#x4E2D;&#xFF1A;</p>
<pre><code>[me@linuxbox ~]$ ls /bin /usr/bin | sort | uniq | less
</code></pre><p>In this example, we use uniq to remove any duplicates from the output of the sort
command. If we want to see the list of duplicates instead, we add the &#x201C;-d&#x201D; option to
uniq like so:</p>
<p>&#x5728;&#x8FD9;&#x4E2A;&#x4F8B;&#x5B50;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x4F7F;&#x7528; uniq &#x4ECE; sort &#x547D;&#x4EE4;&#x7684;&#x8F93;&#x51FA;&#x7ED3;&#x679C;&#x4E2D;&#xFF0C;&#x6765;&#x5220;&#x9664;&#x4EFB;&#x4F55;&#x91CD;&#x590D;&#x884C;&#x3002;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x60F3;&#x770B;&#x5230;
&#x91CD;&#x590D;&#x7684;&#x6570;&#x636E;&#x5217;&#x8868;&#xFF0C;&#x8BA9; uniq &#x547D;&#x4EE4;&#x5E26;&#x4E0A;&quot;-d&quot;&#x9009;&#x9879;&#xFF0C;&#x5C31;&#x50CF;&#x8FD9;&#x6837;&#xFF1A;</p>
<pre><code>[me@linuxbox ~]$ ls /bin /usr/bin | sort | uniq -d | less
</code></pre><h3 id="wc-&#xFF0D;-&#x6253;&#x5370;&#x884C;&#xFF0C;&#x5B57;&#x548C;&#x5B57;&#x8282;&#x6570;">wc &#xFF0D; &#x6253;&#x5370;&#x884C;&#xFF0C;&#x5B57;&#x548C;&#x5B57;&#x8282;&#x6570;</h3>
<p>The wc (word count) command is used to display the number of lines, words, and bytes
contained in files. For example:</p>
<p>wc&#xFF08;&#x5B57;&#x8BA1;&#x6570;&#xFF09;&#x547D;&#x4EE4;&#x662F;&#x7528;&#x6765;&#x663E;&#x793A;&#x6587;&#x4EF6;&#x6240;&#x5305;&#x542B;&#x7684;&#x884C;&#xFF0C;&#x5B57;&#x548C;&#x5B57;&#x8282;&#x6570;&#x3002;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code>[me@linuxbox ~]$ wc ls-output.txt
7902 64566 503634 ls-output.txt
</code></pre><p>In this case it prints out three numbers: lines, words, and bytes contained in ls-
output.txt. Like our previous commands, if executed without command line
arguments, wc accepts standard input. The &#x201C;-l&#x201D; option limits its output to only report
lines. Adding it to a pipeline is a handy way to count things. To see the number of
programs we have in our sorted list, we can do this:</p>
<p>&#x5728;&#x8FD9;&#x4E2A;&#x4F8B;&#x5B50;&#x4E2D;&#xFF0C;wc &#x6253;&#x5370;&#x51FA;&#x6765;&#x4E09;&#x4E2A;&#x6570;&#x5B57;&#xFF1A;&#x5305;&#x542B;&#x5728;&#x6587;&#x4EF6; ls-output.txt &#x4E2D;&#x7684;&#x884C;&#x6570;&#xFF0C;&#x5355;&#x8BCD;&#x6570;&#x548C;&#x5B57;&#x8282;&#x6570;&#xFF0C;
&#x6B63;&#x5982;&#x6211;&#x4EEC;&#x5148;&#x524D;&#x7684;&#x547D;&#x4EE4;&#xFF0C;&#x5982;&#x679C; wc &#x4E0D;&#x5E26;&#x547D;&#x4EE4;&#x884C;&#x53C2;&#x6570;&#xFF0C;&#x5B83;&#x63A5;&#x53D7;&#x6807;&#x51C6;&#x8F93;&#x5165;&#x3002;&quot;-l&quot;&#x9009;&#x9879;&#x9650;&#x5236;&#x547D;&#x4EE4;&#x8F93;&#x51FA;&#x53EA;&#x80FD;
&#x62A5;&#x9053;&#x884C;&#x6570;&#x3002;&#x6DFB;&#x52A0; wc &#x5230;&#x7BA1;&#x9053;&#x7EBF;&#x6765;&#x7EDF;&#x8BA1;&#x6570;&#x636E;&#xFF0C;&#x662F;&#x4E2A;&#x5F88;&#x4FBF;&#x5229;&#x7684;&#x65B9;&#x6CD5;&#x3002;&#x67E5;&#x770B;&#x6211;&#x4EEC;&#x7684;&#x6709;&#x5E8F;&#x5217;&#x8868;&#x4E2D;&#x7A0B;&#x5E8F;&#x4E2A;&#x6570;&#xFF0C;
&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x8FD9;&#x6837;&#x505A;&#xFF1A;</p>
<pre><code>[me@linuxbox ~]$ ls /bin /usr/bin | sort | uniq | wc -l
2728
</code></pre><h3 id="grep-&#xFF0D;-&#x6253;&#x5370;&#x5339;&#x914D;&#x884C;">grep &#xFF0D; &#x6253;&#x5370;&#x5339;&#x914D;&#x884C;</h3>
<p>grep is a powerful program used to find text patterns within files. It&apos;s used like this:</p>
<p>grep &#x662F;&#x4E2A;&#x5F88;&#x5F3A;&#x5927;&#x7684;&#x7A0B;&#x5E8F;&#xFF0C;&#x7528;&#x6765;&#x627E;&#x5230;&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x5339;&#x914D;&#x6587;&#x672C;&#x3002;&#x8FD9;&#x6837;&#x4F7F;&#x7528; grep &#x547D;&#x4EE4;&#xFF1A;</p>
<pre><code>grep pattern [file...]
</code></pre><p>When grep encounters a &#x201C;pattern&#x201D; in the file, it prints out the lines containing it. The
patterns that grep can match can be very complex, but for now we will concentrate on
simple text matches. We&apos;ll cover the advanced patterns, called regular expressions in a
later chapter.</p>
<p>&#x5F53; grep &#x9047;&#x5230;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x5339;&#x914D;&quot;&#x6A21;&#x5F0F;&quot;&#xFF0C;&#x5B83;&#x4F1A;&#x6253;&#x5370;&#x51FA;&#x5305;&#x542B;&#x8FD9;&#x4E2A;&#x7C7B;&#x578B;&#x7684;&#x884C;&#x3002;grep &#x80FD;&#x591F;&#x5339;&#x914D;&#x7684;&#x6A21;&#x5F0F;&#x53EF;&#x4EE5;
&#x5F88;&#x590D;&#x6742;&#xFF0C;&#x4F46;&#x662F;&#x73B0;&#x5728;&#x6211;&#x4EEC;&#x628A;&#x6CE8;&#x610F;&#x529B;&#x96C6;&#x4E2D;&#x5728;&#x7B80;&#x5355;&#x6587;&#x672C;&#x5339;&#x914D;&#x4E0A;&#x9762;&#x3002;&#x5728;&#x540E;&#x9762;&#x7684;&#x7AE0;&#x8282;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;&#x4F1A;&#x7814;&#x7A76;
&#x9AD8;&#x7EA7;&#x6A21;&#x5F0F;&#xFF0C;&#x53EB;&#x505A;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#x3002;</p>
<p>Let&apos;s say we want to find all the files in our list of programs that had the word &#x201C;zip&#x201D;
embedded in the name. Such a search might give us an idea of some of the programs on
our system that had something to do with file compression. We would do this:</p>
<p>&#x6BD4;&#x5982;&#x8BF4;&#xFF0C;&#x6211;&#x4EEC;&#x60F3;&#x5728;&#x6211;&#x4EEC;&#x7684;&#x7A0B;&#x5E8F;&#x5217;&#x8868;&#x4E2D;&#xFF0C;&#x627E;&#x5230;&#x6587;&#x4EF6;&#x540D;&#x4E2D;&#x5305;&#x542B;&#x5355;&#x8BCD;&quot;zip&quot;&#x7684;&#x6240;&#x6709;&#x6587;&#x4EF6;&#x3002;&#x8FD9;&#x6837;&#x4E00;&#x4E2A;&#x641C;&#x7D22;&#xFF0C;
&#x53EF;&#x80FD;&#x8BA9;&#x6211;&#x4EEC;&#x4E86;&#x89E3;&#x7CFB;&#x7EDF;&#x4E2D;&#x7684;&#x4E00;&#x4E9B;&#x7A0B;&#x5E8F;&#x4E0E;&#x6587;&#x4EF6;&#x538B;&#x7F29;&#x6709;&#x5173;&#x7CFB;&#x3002;&#x8FD9;&#x6837;&#x505A;&#xFF1A;</p>
<pre><code>[me@linuxbox ~]$ ls /bin /usr/bin | sort | uniq | grep zip
bunzip2
bzip2
gunzip
...
</code></pre><p>There are a couple of handy options for grep: &#x201C;-i&#x201D; which causes grep to ignore case
when performing the search (normally searches are case sensitive) and &#x201C;-v&#x201D; which tells
grep to only print lines that do not match the pattern.</p>
<p>grep &#x6709;&#x4E00;&#x4E9B;&#x65B9;&#x4FBF;&#x7684;&#x9009;&#x9879;&#xFF1A;&quot;-i&quot;&#x4F7F;&#x5F97; grep &#x5728;&#x6267;&#x884C;&#x641C;&#x7D22;&#x65F6;&#x5FFD;&#x7565;&#x5927;&#x5C0F;&#x5199;&#xFF08;&#x901A;&#x5E38;&#xFF0C;&#x641C;&#x7D22;&#x662F;&#x5927;&#x5C0F;&#x5199;
&#x654F;&#x611F;&#x7684;&#xFF09;&#xFF0C;&quot;-v&quot;&#x9009;&#x9879;&#x4F1A;&#x544A;&#x8BC9; grep &#x53EA;&#x6253;&#x5370;&#x4E0D;&#x5339;&#x914D;&#x7684;&#x884C;&#x3002;</p>
<h3 id="head--tail-&#xFF0D;-&#x6253;&#x5370;&#x6587;&#x4EF6;&#x5F00;&#x5934;&#x90E8;&#x5206;&#x7ED3;&#x5C3E;&#x90E8;&#x5206;">head / tail &#xFF0D; &#x6253;&#x5370;&#x6587;&#x4EF6;&#x5F00;&#x5934;&#x90E8;&#x5206;/&#x7ED3;&#x5C3E;&#x90E8;&#x5206;</h3>
<p>Sometimes you don&apos;t want all of the output from a command. You may only want the
first few lines or the last few lines. The head command prints the first ten lines of a file
and the tail command prints the last ten lines. By default, both commands print ten
lines of text, but this can be adjusted with the &#x201C;-n&#x201D; option:</p>
<p>&#x6709;&#x65F6;&#x5019;&#x4F60;&#x4E0D;&#x9700;&#x8981;&#x4E00;&#x4E2A;&#x547D;&#x4EE4;&#x7684;&#x6240;&#x6709;&#x8F93;&#x51FA;&#x3002;&#x53EF;&#x80FD;&#x4F60;&#x53EA;&#x60F3;&#x8981;&#x524D;&#x51E0;&#x884C;&#x6216;&#x8005;&#x540E;&#x51E0;&#x884C;&#x7684;&#x8F93;&#x51FA;&#x5185;&#x5BB9;&#x3002;
head &#x547D;&#x4EE4;&#x6253;&#x5370;&#x6587;&#x4EF6;&#x7684;&#x524D;&#x5341;&#x884C;&#xFF0C;&#x800C; tail &#x547D;&#x4EE4;&#x6253;&#x5370;&#x6587;&#x4EF6;&#x7684;&#x540E;&#x5341;&#x884C;&#x3002;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x4E24;&#x4E2A;&#x547D;&#x4EE4;
&#x90FD;&#x6253;&#x5370;&#x5341;&#x884C;&#x6587;&#x672C;&#xFF0C;&#x4F46;&#x662F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&quot;-n&quot;&#x9009;&#x9879;&#x6765;&#x8C03;&#x6574;&#x547D;&#x4EE4;&#x6253;&#x5370;&#x7684;&#x884C;&#x6570;&#x3002;</p>
<pre><code>[me@linuxbox ~]$ head -n 5 ls-output.txt
total 343496
...
[me@linuxbox ~]$ tail -n 5 ls-output.txt
...
</code></pre><p>These can be used in pipelines as well:</p>
<p>&#x5B83;&#x4EEC;&#x4E5F;&#x80FD;&#x7528;&#x5728;&#x7BA1;&#x9053;&#x7EBF;&#x4E2D;&#xFF1A;</p>
<pre><code>[me@linuxbox ~]$ ls /usr/bin | tail -n 5
znew
...
</code></pre><p>tail has an option which allows you to view files in real-time. This is useful for
watching the progress of log files as they are being written. In the following example, we
will look at the messages file in /var/log. Superuser privileges are required to do
this on some Linux distributions, since the /var/log/messages file may contain
security information:</p>
<p>tail &#x6709;&#x4E00;&#x4E2A;&#x9009;&#x9879;&#x5141;&#x8BB8;&#x4F60;&#x5B9E;&#x65F6;&#x7684;&#x6D4F;&#x89C8;&#x6587;&#x4EF6;&#x3002;&#x5F53;&#x89C2;&#x5BDF;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x7684;&#x8FDB;&#x5C55;&#x65F6;&#xFF0C;&#x8FD9;&#x5F88;&#x6709;&#x7528;&#xFF0C;&#x56E0;&#x4E3A;
&#x5B83;&#x4EEC;&#x540C;&#x65F6;&#x5728;&#x88AB;&#x5199;&#x5165;&#x3002;&#x5728;&#x4EE5;&#x4E0B;&#x7684;&#x4F8B;&#x5B50;&#x91CC;&#xFF0C;&#x6211;&#x4EEC;&#x8981;&#x67E5;&#x770B;&#x76EE;&#x5F55;/var/log &#x91CC;&#x9762;&#x7684;&#x4FE1;&#x606F;&#x6587;&#x4EF6;&#x3002;&#x5728;
&#x4E00;&#x4E9B; Linux &#x53D1;&#x884C;&#x7248;&#x4E2D;&#xFF0C;&#x8981;&#x6C42;&#x6709;&#x8D85;&#x7EA7;&#x7528;&#x6237;&#x6743;&#x9650;&#x624D;&#x80FD;&#x9605;&#x8BFB;&#x8FD9;&#x4E9B;&#x6587;&#x4EF6;&#xFF0C;&#x56E0;&#x4E3A;&#x6587;&#x4EF6;/var/log/messages
&#x53EF;&#x80FD;&#x5305;&#x542B;&#x5B89;&#x5168;&#x4FE1;&#x606F;&#x3002;</p>
<pre><code>[me@linuxbox ~]$ tail -f /var/log/messages
Feb 8 13:40:05 twin4 dhclient: DHCPACK from 192.168.1.1
....
</code></pre><p>Using the &#x201C;-f&#x201D; option, tail continues to monitor the file and when new lines are
appended, they immediately appear on the display. This continues until you type Ctrl-c.</p>
<p>&#x4F7F;&#x7528;&quot;-f&quot;&#x9009;&#x9879;&#xFF0C;tail &#x547D;&#x4EE4;&#x7EE7;&#x7EED;&#x76D1;&#x6D4B;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#xFF0C;&#x5F53;&#x65B0;&#x7684;&#x5185;&#x5BB9;&#x6DFB;&#x52A0;&#x5230;&#x6587;&#x4EF6;&#x540E;&#xFF0C;&#x5B83;&#x4EEC;&#x4F1A;&#x7ACB;&#x5373;
&#x51FA;&#x73B0;&#x5728;&#x5C4F;&#x5E55;&#x4E0A;&#x3002;&#x8FD9;&#x4F1A;&#x4E00;&#x76F4;&#x7EE7;&#x7EED;&#x4E0B;&#x53BB;&#x76F4;&#x5230;&#x4F60;&#x8F93;&#x5165; Ctrl-c&#x3002;</p>
<h3 id="tee-&#xFF0D;-&#x4ECE;-stdin-&#x8BFB;&#x53D6;&#x6570;&#x636E;&#xFF0C;&#x5E76;&#x540C;&#x65F6;&#x8F93;&#x51FA;&#x5230;-stdout-&#x548C;&#x6587;&#x4EF6;">tee &#xFF0D; &#x4ECE; Stdin &#x8BFB;&#x53D6;&#x6570;&#x636E;&#xFF0C;&#x5E76;&#x540C;&#x65F6;&#x8F93;&#x51FA;&#x5230; Stdout &#x548C;&#x6587;&#x4EF6;</h3>
<p>In keeping with our plumbing metaphor, Linux provides a command called tee which
creates a &#x201C;tee&#x201D; fitting on our pipe. The tee program reads standard input and copies it to
both standard output (allowing the data to continue down the pipeline) and to one or more
files. This is useful for capturing a pipeline&apos;s contents at an intermediate stage of
processing. Here we repeat one of our earlier examples, this time including tee to
capture the entire directory listing to the file ls.txt before grep filters the pipeline&apos;s
contents:</p>
<p>&#x4E3A;&#x4E86;&#x548C;&#x6211;&#x4EEC;&#x7684;&#x7BA1;&#x9053;&#x9690;&#x55BB;&#x4FDD;&#x6301;&#x4E00;&#x81F4;&#xFF0C;Linux &#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A;&#x53EB;&#x505A; tee &#x7684;&#x547D;&#x4EE4;&#xFF0C;&#x8FD9;&#x4E2A;&#x547D;&#x4EE4;&#x5236;&#x9020;&#x4E86;
&#x4E00;&#x4E2A;&quot;tee&quot;&#xFF0C;&#x5B89;&#x88C5;&#x5230;&#x6211;&#x4EEC;&#x7684;&#x7BA1;&#x9053;&#x4E0A;&#x3002;tee &#x7A0B;&#x5E8F;&#x4ECE;&#x6807;&#x51C6;&#x8F93;&#x5165;&#x8BFB;&#x5165;&#x6570;&#x636E;&#xFF0C;&#x5E76;&#x4E14;&#x540C;&#x65F6;&#x590D;&#x5236;&#x6570;&#x636E;
&#x5230;&#x6807;&#x51C6;&#x8F93;&#x51FA;&#xFF08;&#x5141;&#x8BB8;&#x6570;&#x636E;&#x7EE7;&#x7EED;&#x968F;&#x7740;&#x7BA1;&#x9053;&#x7EBF;&#x6D41;&#x52A8;&#xFF09;&#x548C;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x6587;&#x4EF6;&#x3002;&#x5F53;&#x5728;&#x67D0;&#x4E2A;&#x4E2D;&#x95F4;&#x5904;&#x7406;
&#x9636;&#x6BB5;&#x6765;&#x6355;&#x6349;&#x4E00;&#x4E2A;&#x7BA1;&#x9053;&#x7EBF;&#x7684;&#x5185;&#x5BB9;&#x65F6;&#xFF0C;&#x8FD9;&#x5F88;&#x6709;&#x5E2E;&#x52A9;&#x3002;&#x8FD9;&#x91CC;&#xFF0C;&#x6211;&#x4EEC;&#x91CD;&#x590D;&#x6267;&#x884C;&#x4E00;&#x4E2A;&#x5148;&#x524D;&#x7684;&#x4F8B;&#x5B50;&#xFF0C;
&#x8FD9;&#x6B21;&#x5305;&#x542B; tee &#x547D;&#x4EE4;&#xFF0C;&#x5728; grep &#x8FC7;&#x6EE4;&#x7BA1;&#x9053;&#x7EBF;&#x7684;&#x5185;&#x5BB9;&#x4E4B;&#x524D;&#xFF0C;&#x6765;&#x6355;&#x6349;&#x6574;&#x4E2A;&#x76EE;&#x5F55;&#x5217;&#x8868;&#x5230;&#x6587;&#x4EF6; ls.txt&#xFF1A;</p>
<pre><code>[me@linuxbox ~]$ ls /usr/bin | tee ls.txt | grep zip
bunzip2
bzip2
....
</code></pre><h3 id="&#x603B;&#x7ED3;&#x5F52;&#x7EB3;">&#x603B;&#x7ED3;&#x5F52;&#x7EB3;</h3>
<p>As always, check out the documentation of each of the commands we have covered in
this chapter. We have only seen their most basic usage. They all have a number of
interesting options. As we gain Linux experience, we will see that the redirection feature
of the command line is extremely useful for solving specialized problems. There are
many commands that make use of standard input and output, and almost all command
line programs use standard error to display their informative messages.</p>
<p>&#x4E00;&#x5982;&#x65E2;&#x5F80;&#xFF0C;&#x67E5;&#x770B;&#x8FD9;&#x7AE0;&#x5B66;&#x5230;&#x7684;&#x6BCF;&#x4E00;&#x4E2A;&#x547D;&#x4EE4;&#x7684;&#x6587;&#x6863;&#x3002;&#x6211;&#x4EEC;&#x5DF2;&#x7ECF;&#x77E5;&#x9053;&#x4E86;&#x4ED6;&#x4EEC;&#x6700;&#x57FA;&#x672C;&#x7684;&#x7528;&#x6CD5;&#x3002;
&#x5B83;&#x4EEC;&#x8FD8;&#x6709;&#x5F88;&#x591A;&#x6709;&#x8DA3;&#x7684;&#x9009;&#x9879;&#x3002;&#x968F;&#x7740;&#x6211;&#x4EEC; Linux &#x7ECF;&#x9A8C;&#x7684;&#x79EF;&#x7D2F;&#xFF0C;&#x6211;&#x4EEC;&#x4F1A;&#x4E86;&#x89E3;&#x547D;&#x4EE4;&#x884C;&#x91CD;&#x5B9A;&#x5411;&#x7279;&#x6027;
&#x5728;&#x89E3;&#x51B3;&#x7279;&#x6B8A;&#x95EE;&#x9898;&#x65F6;&#x975E;&#x5E38;&#x6709;&#x7528;&#x5904;&#x3002;&#x6709;&#x8BB8;&#x591A;&#x547D;&#x4EE4;&#x5229;&#x7528;&#x6807;&#x51C6;&#x8F93;&#x5165;&#x548C;&#x8F93;&#x51FA;&#xFF0C;&#x800C;&#x51E0;&#x4E4E;&#x6240;&#x6709;&#x7684;&#x547D;&#x4EE4;&#x884C;
&#x7A0B;&#x5E8F;&#x90FD;&#x4F7F;&#x7528;&#x6807;&#x51C6;&#x9519;&#x8BEF;&#x6765;&#x663E;&#x793A;&#x5B83;&#x4EEC;&#x7684;&#x8BE6;&#x7EC6;&#x4FE1;&#x606F;&#x3002;</p>
<blockquote>
<p>Linux Is About Imagination</p>
<p>Linux &#x53EF;&#x4EE5;&#x6FC0;&#x53D1;&#x6211;&#x4EEC;&#x7684;&#x60F3;&#x8C61;</p>
<p>When I am asked to explain the difference between Windows and Linux, I often
use a toy analogy.</p>
<p>&#x5F53;&#x6211;&#x88AB;&#x8981;&#x6C42;&#x89E3;&#x91CA; Windows &#x4E0E; Linux &#x4E4B;&#x95F4;&#x7684;&#x5DEE;&#x5F02;&#x65F6;&#xFF0C;&#x6211;&#x7ECF;&#x5E38;&#x62FF;&#x73A9;&#x5177;&#x6765;&#x4F5C;&#x6BD4;&#x55BB;&#x3002;</p>
<p>Windows is like a Game Boy. You go to the store and buy one all shiny new in
the box. You take it home, turn it on and play with it. Pretty graphics, cute
sounds. After a while though, you get tired of the game that came with it so you
go back to the store and buy another one. This cycle repeats over and over.
Finally, you go back to the store and say to the person behind the counter, &#x201C;I want
a game that does this!&#x201D; only to be told that no such game exists because there is
no &#x201C;market demand&#x201D; for it. Then you say, &#x201C;But I only need to change this one
thing!&#x201D; The person behind the counter says you can&apos;t change it. The games are
all sealed up in their cartridges. You discover that your toy is limited to the games
that others have decided that you need and no more.</p>
<p>Windows &#x5C31;&#x50CF;&#x4E00;&#x4E2A;&#x6E38;&#x620F;&#x673A;&#x3002;&#x4F60;&#x53BB;&#x5546;&#x5E97;&#xFF0C;&#x4E70;&#x4E86;&#x4E00;&#x4E2A;&#x5305;&#x88C5;&#x5728;&#x76D2;&#x5B50;&#x91CC;&#x9762;&#x7684;&#x5168;&#x65B0;&#x7684;&#x6E38;&#x620F;&#x673A;&#x3002;
&#x4F60;&#x628A;&#x5B83;&#x5E26;&#x56DE;&#x5BB6;&#xFF0C;&#x6253;&#x5F00;&#x76D2;&#x5B50;&#xFF0C;&#x5F00;&#x59CB;&#x73A9;&#x6E38;&#x620F;&#x3002;&#x7CBE;&#x7F8E;&#x7684;&#x753B;&#x9762;&#xFF0C;&#x52A8;&#x4EBA;&#x7684;&#x58F0;&#x97F3;&#x3002;&#x73A9;&#x4E86;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x4E4B;&#x540E;&#xFF0C;
&#x4F60;&#x538C;&#x5026;&#x4E86;&#x5B83;&#x81EA;&#x5E26;&#x7684;&#x6E38;&#x620F;&#xFF0C;&#x6240;&#x4EE5;&#x4F60;&#x8FD4;&#x56DE;&#x5546;&#x5E97;&#xFF0C;&#x53C8;&#x4E70;&#x4E86;&#x53E6;&#x4E00;&#x4E2A;&#x6E38;&#x620F;&#x673A;&#x3002;&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x53CD;&#x590D;&#x91CD;&#x590D;&#x3002;
&#x6700;&#x540E;&#xFF0C;&#x4F60;&#x73A9;&#x817B;&#x4E86;&#x6E38;&#x620F;&#x673A;&#x81EA;&#x5E26;&#x7684;&#x6E38;&#x620F;&#xFF0C;&#x4F60;&#x56DE;&#x5230;&#x5546;&#x5E97;&#xFF0C;&#x544A;&#x8BC9;&#x552E;&#x8D27;&#x5458;&#xFF0C;&#x201C;&#x6211;&#x60F3;&#x8981;&#x4E00;&#x4E2A;&#x8FD9;&#x6837;&#x7684;&#x6E38;&#x620F;&#xFF01;&#x201D;
&#x4F46;&#x552E;&#x8D27;&#x5458;&#x544A;&#x8BC9;&#x4F60;&#x6CA1;&#x6709;&#x8FD9;&#x6837;&#x7684;&#x6E38;&#x620F;&#x5B58;&#x5728;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x6CA1;&#x6709;&#x201C;&#x5E02;&#x573A;&#x9700;&#x6C42;&#x201D;&#x3002;&#x7136;&#x540E;&#x4F60;&#x8BF4;&#xFF0C;&#x201C;&#x4F46;&#x662F;&#x6211;&#x53EA;
&#x9700;&#x8981;&#x4FEE;&#x6539;&#x4E00;&#x4E0B;&#x8FD9;&#x4E2A;&#x6E38;&#x620F;&#xFF01;&#x201C;&#xFF0C;&#x552E;&#x8D27;&#x5458;&#x53C8;&#x544A;&#x8BC9;&#x4F60;&#x4E0D;&#x80FD;&#x4FEE;&#x6539;&#x5B83;&#x3002;&#x6240;&#x6709;&#x6E38;&#x620F;&#x90FD;&#x88AB;&#x5C01;&#x88C5;&#x5728;&#x5B83;&#x4EEC;&#x7684;
&#x5B58;&#x50A8;&#x5668;&#x4E2D;&#x3002;&#x5230;&#x5934;&#x6765;&#xFF0C;&#x4F60;&#x53D1;&#x73B0;&#x4F60;&#x7684;&#x73A9;&#x5177;&#x53EA;&#x5C40;&#x9650;&#x4E8E;&#x522B;&#x4EBA;&#x4E3A;&#x4F60;&#x89C4;&#x5B9A;&#x597D;&#x7684;&#x6E38;&#x620F;&#x3002;</p>
<p>Linux, on the other hand, is like the world&apos;s largest Erector Set. You open it up
and it&apos;s just a huge collection of parts. A lot of steel struts, screws, nuts, gears,
pulleys, motors, and a few suggestions on what to build. So you start to play with
it. You build one of the suggestions and then another. After a while you discover
that you have your own ideas of what to make. You don&apos;t ever have to go back to
the store, as you already have everything you need. The Erector Set takes on the
shape of your imagination. It does what you want.</p>
<p>&#x53E6;&#x4E00;&#x65B9;&#x9762;&#xFF0C;Linux &#x5C31;&#x50CF;&#x4E00;&#x4E2A;&#x5168;&#x4E16;&#x754C;&#x4E0A;&#x6700;&#x5927;&#x7684;&#x5EFA;&#x9020;&#x6A21;&#x578B;&#x3002;&#x4F60;&#x6253;&#x5F00;&#x5B83;&#xFF0C;&#x53D1;&#x73B0;&#x5B83;&#x53EA;&#x662F;&#x4E00;&#x4E2A;&#x5DE8;&#x5927;&#x7684;
&#x90E8;&#x4EF6;&#x96C6;&#x5408;&#x3002;&#x6709;&#x8BB8;&#x591A;&#x94A2;&#x652F;&#x67F1;&#xFF0C;&#x87BA;&#x9489;&#xFF0C;&#x87BA;&#x6BCD;&#xFF0C;&#x9F7F;&#x8F6E;&#xFF0C;&#x6ED1;&#x8F6E;&#xFF0C;&#x53D1;&#x52A8;&#x673A;&#xFF0C;&#x548C;&#x4E00;&#x4E9B;&#x600E;&#x6837;&#x6765;&#x5EFA;&#x9020;&#x5B83;&#x7684;&#x8BF4;&#x660E;&#x4E66;&#x3002;
&#x7136;&#x540E;&#x4F60;&#x5F00;&#x59CB;&#x6446;&#x5F04;&#x5B83;&#x3002;&#x4F60;&#x5EFA;&#x9020;&#x4E86;&#x4E00;&#x4E2A;&#x53C8;&#x4E00;&#x4E2A;&#x6837;&#x677F;&#x6A21;&#x578B;&#x3002;&#x8FC7;&#x4E86;&#x4E00;&#x4F1A;&#x513F;&#xFF0C;&#x4F60;&#x53D1;&#x73B0;&#x4F60;&#x8981;&#x5EFA;&#x9020;&#x81EA;&#x5DF1;&#x7684;&#x6A21;&#x578B;&#x3002;
&#x4F60;&#x4E0D;&#x5FC5;&#x8FD4;&#x56DE;&#x5546;&#x5E97;&#xFF0C;&#x56E0;&#x4E3A;&#x4F60;&#x5DF2;&#x7ECF;&#x62E5;&#x6709;&#x4E86;&#x4F60;&#x9700;&#x8981;&#x7684;&#x4E00;&#x5207;&#x3002;&#x5EFA;&#x9020;&#x6A21;&#x578B;&#x4EE5;&#x4F60;&#x6784;&#x60F3;&#x7684;&#x5F62;&#x72B6;&#x4E3A;&#x6A21;&#x677F;&#xFF0C;&#x642D;&#x5EFA;
&#x4F60;&#x60F3;&#x8981;&#x7684;&#x6A21;&#x578B;&#x3002;</p>
<p>Your choice of toys is, of course, a personal thing, so which toy would you find
more satisfying?</p>
<p>&#x5F53;&#x7136;&#xFF0C;&#x9009;&#x62E9;&#x54EA;&#x4E00;&#x4E2A;&#x73A9;&#x5177;&#xFF0C;&#x662F;&#x4F60;&#x7684;&#x4E8B;&#x60C5;&#xFF0C;&#x90A3;&#x4E48;&#x4F60;&#x89C9;&#x5F97;&#x54EA;&#x4E2A;&#x73A9;&#x5177;&#x66F4;&#x4EE4;&#x4EBA;&#x6EE1;&#x610F;&#x5462;&#xFF1F;</p>
</blockquote>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="chap06.html" class="navigation navigation-prev " aria-label="Previous page: 06. 使用命令">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="chap08.html" class="navigation navigation-next " aria-label="Next page: 08. 从 shell 眼中看世界">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"layout":"book","title":"07. 重定向","level":"1.1.7","depth":2,"next":{"title":"08. 从 shell 眼中看世界","level":"1.1.8","depth":2,"path":"chap08.md","ref":"chap08.md","articles":[]},"previous":{"title":"06. 使用命令","level":"1.1.6","depth":2,"path":"chap06.md","ref":"chap06.md","articles":[]},"dir":"ltr"},"config":{"plugins":[],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"language":"en","gitbook":"*"},"file":{"path":"chap07.md","mtime":"2017-01-12T13:05:37.000Z","type":"markdown"},"gitbook":{"version":"3.2.2","time":"2017-01-12T13:06:00.166Z"},"basePath":".","book":{"language":"en"}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

